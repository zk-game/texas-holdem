import{e as Ic,a as In,c as te,h as X8,i as eM,g as tM,__tla as rM}from"./index-3344a5fd.js";import{f as nM,t as W,g as iM,__tla as sM}from"./hooks.module-073849bb.js";let Dp,oM=Promise.all([(()=>{try{return rM}catch{}})(),(()=>{try{return sM}catch{}})()]).then(async()=>{function $p(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var ea={},Si={},gs={};Object.defineProperty(gs,"__esModule",{value:!0}),gs.walletLogo=void 0;const Vp=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};gs.walletLogo=Vp;var ys={};Object.defineProperty(ys,"__esModule",{value:!0}),ys.ScopedLocalStorage=void 0;class zp{constructor(t){this.scope=t}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(t)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`${this.scope}:${t}`}}ys.ScopedLocalStorage=zp;var kn={},$r={};Object.defineProperty($r,"__esModule",{value:!0});const Hp=Ic;function kc(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function Wp(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let qp=class extends Hp.EventEmitter{emit(e,...t){let r=e==="error";const n=this._events;if(n!==void 0)r=r&&n.error===void 0;else if(!r)return!1;if(r){let s;if(t.length>0&&([s]=t),s instanceof Error)throw s;const o=new Error(`Unhandled error.${s?` (${s.message})`:""}`);throw o.context=s,o}const i=n[e];if(i===void 0)return!1;if(typeof i=="function")kc(i,this,t);else{const s=i.length,o=Wp(i);for(let a=0;a<s;a+=1)kc(o[a],this,t)}return!0}};$r.default=qp;var ta={exports:{}};const Jp={},Gp=Object.freeze(Object.defineProperty({__proto__:null,default:Jp},Symbol.toStringTag,{value:"Module"})),ms=In(Gp);ta.exports,function(e){(function(t,r){function n(u,d){if(!u)throw new Error(d||"Assertion failed")}function i(u,d){u.super_=d;var m=function(){};m.prototype=d.prototype,u.prototype=new m,u.prototype.constructor=u}function s(u,d,m){if(s.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((d==="le"||d==="be")&&(m=d,d=10),this._init(u||0,d||10,m||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ms.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,d){return u.cmp(d)>0?u:d},s.min=function(u,d){return u.cmp(d)<0?u:d},s.prototype._init=function(u,d,m){if(typeof u=="number")return this._initNumber(u,d,m);if(typeof u=="object")return this._initArray(u,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var S=0;u[0]==="-"&&(S++,this.negative=1),S<u.length&&(d===16?this._parseHex(u,S,m):(this._parseBase(u,d,S),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(u,d,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(u,d,m){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var g,v,E=0;if(m==="be")for(S=u.length-1,g=0;S>=0;S-=3)v=u[S]|u[S-1]<<8|u[S-2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(m==="le")for(S=0,g=0;S<u.length;S+=3)v=u[S]|u[S+1]<<8|u[S+2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function a(u,d){var m=u.charCodeAt(d);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;n(!1,"Invalid character in "+u)}function l(u,d,m){var S=a(u,m);return m-1>=d&&(S|=a(u,m-1)<<4),S}s.prototype._parseHex=function(u,d,m){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var g=0,v=0,E;if(m==="be")for(S=u.length-1;S>=d;S-=2)E=l(u,d,S)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8;else{var b=u.length-d;for(S=b%2===0?d+1:d;S<u.length;S+=2)E=l(u,d,S)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8}this._strip()};function p(u,d,m,S){for(var g=0,v=0,E=Math.min(u.length,m),b=d;b<E;b++){var h=u.charCodeAt(b)-48;g*=S,h>=49?v=h-49+10:h>=17?v=h-17+10:v=h,n(h>=0&&v<S,"Invalid character"),g+=v}return g}s.prototype._parseBase=function(u,d,m){this.words=[0],this.length=1;for(var S=0,g=1;g<=67108863;g*=d)S++;S--,g=g/d|0;for(var v=u.length-m,E=v%S,b=Math.min(v,v-E)+m,h=0,w=m;w<b;w+=S)h=p(u,w,w+S,d),this.imuln(g),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(E!==0){var V=1;for(h=p(u,w,u.length,d),w=0;w<E;w++)V*=d;this.imuln(V),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function _(u,d){u.words=d.words,u.length=d.length,u.negative=d.negative,u.red=d.red}if(s.prototype._move=function(u){_(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{s.prototype.inspect=x}else s.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var M=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,d){u=u||10,d=d|0||1;var m;if(u===16||u==="hex"){m="";for(var S=0,g=0,v=0;v<this.length;v++){var E=this.words[v],b=((E<<S|g)&16777215).toString(16);g=E>>>24-S&16777215,S+=2,S>=26&&(S-=26,v--),g!==0||v!==this.length-1?m=M[6-b.length]+b+m:m=b+m}for(g!==0&&(m=g.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var h=A[u],w=F[u];m="";var V=this.clone();for(V.negative=0;!V.isZero();){var G=V.modrn(w).toString(u);V=V.idivn(w),V.isZero()?m=G+m:m=M[h-G.length]+G+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,d){return this.toArrayLike(o,u,d)}),s.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var D=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};s.prototype.toArrayLike=function(u,d,m){this._strip();var S=this.byteLength(),g=m||Math.max(1,S);n(S<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0");var v=D(u,g),E=d==="le"?"LE":"BE";return this["_toArrayLike"+E](v,S),v},s.prototype._toArrayLikeLE=function(u,d){for(var m=0,S=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|S;u[m++]=E&255,m<u.length&&(u[m++]=E>>8&255),m<u.length&&(u[m++]=E>>16&255),v===6?(m<u.length&&(u[m++]=E>>24&255),S=0,v=0):(S=E>>>24,v+=2)}if(m<u.length)for(u[m++]=S;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,d){for(var m=u.length-1,S=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|S;u[m--]=E&255,m>=0&&(u[m--]=E>>8&255),m>=0&&(u[m--]=E>>16&255),v===6?(m>=0&&(u[m--]=E>>24&255),S=0,v=0):(S=E>>>24,v+=2)}if(m>=0)for(u[m--]=S;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var d=u,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function H(u){for(var d=new Array(u.bitLength()),m=0;m<d.length;m++){var S=m/26|0,g=m%26;d[m]=u.words[S]>>>g&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var d,m;this.length>u.length?(d=this,m=u):(d=u,m=this);for(var S=0;S<m.length;S++)this.words[S]=d.words[S]^m.words[S];if(this!==d)for(;S<d.length;S++)this.words[S]=d.words[S];return this.length=d.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,m=u%26;this._expand(d),m>0&&d--;for(var S=0;S<d;S++)this.words[S]=~this.words[S]&67108863;return m>0&&(this.words[S]=~this.words[S]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,d){n(typeof u=="number"&&u>=0);var m=u/26|0,S=u%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<S:this.words[m]=this.words[m]&~(1<<S),this._strip()},s.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var m,S;this.length>u.length?(m=this,S=u):(m=u,S=this);for(var g=0,v=0;v<S.length;v++)d=(m.words[v]|0)+(S.words[v]|0)+g,this.words[v]=d&67108863,g=d>>>26;for(;g!==0&&v<m.length;v++)d=(m.words[v]|0)+g,this.words[v]=d&67108863,g=d>>>26;if(this.length=m.length,g!==0)this.words[this.length]=g,this.length++;else if(m!==this)for(;v<m.length;v++)this.words[v]=m.words[v];return this},s.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,g;m>0?(S=this,g=u):(S=u,g=this);for(var v=0,E=0;E<g.length;E++)d=(S.words[E]|0)-(g.words[E]|0)+v,v=d>>26,this.words[E]=d&67108863;for(;v!==0&&E<S.length;E++)d=(S.words[E]|0)+v,v=d>>26,this.words[E]=d&67108863;if(v===0&&E<S.length&&S!==this)for(;E<S.length;E++)this.words[E]=S.words[E];return this.length=Math.max(this.length,E),S!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function C(u,d,m){m.negative=d.negative^u.negative;var S=u.length+d.length|0;m.length=S,S=S-1|0;var g=u.words[0]|0,v=d.words[0]|0,E=g*v,b=E&67108863,h=E/67108864|0;m.words[0]=b;for(var w=1;w<S;w++){for(var V=h>>>26,G=h&67108863,X=Math.min(w,d.length-1),R=Math.max(0,w-u.length+1);R<=X;R++){var O=w-R|0;g=u.words[O]|0,v=d.words[R]|0,E=g*v+G,V+=E/67108864|0,G=E&67108863}m.words[w]=G|0,h=V|0}return h!==0?m.words[w]=h|0:m.length--,m._strip()}var T=function(u,d,m){var S=u.words,g=d.words,v=m.words,E=0,b,h,w,V=S[0]|0,G=V&8191,X=V>>>13,R=S[1]|0,O=R&8191,U=R>>>13,Y=S[2]|0,K=Y&8191,I=Y>>>13,k=S[3]|0,z=k&8191,q=k>>>13,Ae=S[4]|0,re=Ae&8191,ue=Ae>>>13,zt=S[5]|0,Re=zt&8191,Ne=zt>>>13,Ht=S[6]|0,ve=Ht&8191,xe=Ht>>>13,er=S[7]|0,we=er&8191,Ie=er>>>13,c=S[8]|0,f=c&8191,y=c>>>13,N=S[9]|0,j=N&8191,L=N>>>13,Z=g[0]|0,ce=Z&8191,ge=Z>>>13,ke=g[1]|0,le=ke&8191,fe=ke>>>13,gi=g[2]|0,Te=gi&8191,Pe=gi>>>13,yi=g[3]|0,Le=yi&8191,Be=yi>>>13,mi=g[4]|0,De=mi&8191,Fe=mi>>>13,bi=g[5]|0,Ue=bi&8191,$e=bi>>>13,vi=g[6]|0,Ve=vi&8191,ze=vi>>>13,wi=g[7]|0,He=wi&8191,We=wi>>>13,_i=g[8]|0,qe=_i&8191,Je=_i>>>13,Ei=g[9]|0,Ge=Ei&8191,Ze=Ei>>>13;m.negative=u.negative^d.negative,m.length=19,b=Math.imul(G,ce),h=Math.imul(G,ge),h=h+Math.imul(X,ce)|0,w=Math.imul(X,ge);var hn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(hn>>>26)|0,hn&=67108863,b=Math.imul(O,ce),h=Math.imul(O,ge),h=h+Math.imul(U,ce)|0,w=Math.imul(U,ge),b=b+Math.imul(G,le)|0,h=h+Math.imul(G,fe)|0,h=h+Math.imul(X,le)|0,w=w+Math.imul(X,fe)|0;var dn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(dn>>>26)|0,dn&=67108863,b=Math.imul(K,ce),h=Math.imul(K,ge),h=h+Math.imul(I,ce)|0,w=Math.imul(I,ge),b=b+Math.imul(O,le)|0,h=h+Math.imul(O,fe)|0,h=h+Math.imul(U,le)|0,w=w+Math.imul(U,fe)|0,b=b+Math.imul(G,Te)|0,h=h+Math.imul(G,Pe)|0,h=h+Math.imul(X,Te)|0,w=w+Math.imul(X,Pe)|0;var fn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(fn>>>26)|0,fn&=67108863,b=Math.imul(z,ce),h=Math.imul(z,ge),h=h+Math.imul(q,ce)|0,w=Math.imul(q,ge),b=b+Math.imul(K,le)|0,h=h+Math.imul(K,fe)|0,h=h+Math.imul(I,le)|0,w=w+Math.imul(I,fe)|0,b=b+Math.imul(O,Te)|0,h=h+Math.imul(O,Pe)|0,h=h+Math.imul(U,Te)|0,w=w+Math.imul(U,Pe)|0,b=b+Math.imul(G,Le)|0,h=h+Math.imul(G,Be)|0,h=h+Math.imul(X,Le)|0,w=w+Math.imul(X,Be)|0;var pn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(pn>>>26)|0,pn&=67108863,b=Math.imul(re,ce),h=Math.imul(re,ge),h=h+Math.imul(ue,ce)|0,w=Math.imul(ue,ge),b=b+Math.imul(z,le)|0,h=h+Math.imul(z,fe)|0,h=h+Math.imul(q,le)|0,w=w+Math.imul(q,fe)|0,b=b+Math.imul(K,Te)|0,h=h+Math.imul(K,Pe)|0,h=h+Math.imul(I,Te)|0,w=w+Math.imul(I,Pe)|0,b=b+Math.imul(O,Le)|0,h=h+Math.imul(O,Be)|0,h=h+Math.imul(U,Le)|0,w=w+Math.imul(U,Be)|0,b=b+Math.imul(G,De)|0,h=h+Math.imul(G,Fe)|0,h=h+Math.imul(X,De)|0,w=w+Math.imul(X,Fe)|0;var gn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(gn>>>26)|0,gn&=67108863,b=Math.imul(Re,ce),h=Math.imul(Re,ge),h=h+Math.imul(Ne,ce)|0,w=Math.imul(Ne,ge),b=b+Math.imul(re,le)|0,h=h+Math.imul(re,fe)|0,h=h+Math.imul(ue,le)|0,w=w+Math.imul(ue,fe)|0,b=b+Math.imul(z,Te)|0,h=h+Math.imul(z,Pe)|0,h=h+Math.imul(q,Te)|0,w=w+Math.imul(q,Pe)|0,b=b+Math.imul(K,Le)|0,h=h+Math.imul(K,Be)|0,h=h+Math.imul(I,Le)|0,w=w+Math.imul(I,Be)|0,b=b+Math.imul(O,De)|0,h=h+Math.imul(O,Fe)|0,h=h+Math.imul(U,De)|0,w=w+Math.imul(U,Fe)|0,b=b+Math.imul(G,Ue)|0,h=h+Math.imul(G,$e)|0,h=h+Math.imul(X,Ue)|0,w=w+Math.imul(X,$e)|0;var yn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(yn>>>26)|0,yn&=67108863,b=Math.imul(ve,ce),h=Math.imul(ve,ge),h=h+Math.imul(xe,ce)|0,w=Math.imul(xe,ge),b=b+Math.imul(Re,le)|0,h=h+Math.imul(Re,fe)|0,h=h+Math.imul(Ne,le)|0,w=w+Math.imul(Ne,fe)|0,b=b+Math.imul(re,Te)|0,h=h+Math.imul(re,Pe)|0,h=h+Math.imul(ue,Te)|0,w=w+Math.imul(ue,Pe)|0,b=b+Math.imul(z,Le)|0,h=h+Math.imul(z,Be)|0,h=h+Math.imul(q,Le)|0,w=w+Math.imul(q,Be)|0,b=b+Math.imul(K,De)|0,h=h+Math.imul(K,Fe)|0,h=h+Math.imul(I,De)|0,w=w+Math.imul(I,Fe)|0,b=b+Math.imul(O,Ue)|0,h=h+Math.imul(O,$e)|0,h=h+Math.imul(U,Ue)|0,w=w+Math.imul(U,$e)|0,b=b+Math.imul(G,Ve)|0,h=h+Math.imul(G,ze)|0,h=h+Math.imul(X,Ve)|0,w=w+Math.imul(X,ze)|0;var mn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(mn>>>26)|0,mn&=67108863,b=Math.imul(we,ce),h=Math.imul(we,ge),h=h+Math.imul(Ie,ce)|0,w=Math.imul(Ie,ge),b=b+Math.imul(ve,le)|0,h=h+Math.imul(ve,fe)|0,h=h+Math.imul(xe,le)|0,w=w+Math.imul(xe,fe)|0,b=b+Math.imul(Re,Te)|0,h=h+Math.imul(Re,Pe)|0,h=h+Math.imul(Ne,Te)|0,w=w+Math.imul(Ne,Pe)|0,b=b+Math.imul(re,Le)|0,h=h+Math.imul(re,Be)|0,h=h+Math.imul(ue,Le)|0,w=w+Math.imul(ue,Be)|0,b=b+Math.imul(z,De)|0,h=h+Math.imul(z,Fe)|0,h=h+Math.imul(q,De)|0,w=w+Math.imul(q,Fe)|0,b=b+Math.imul(K,Ue)|0,h=h+Math.imul(K,$e)|0,h=h+Math.imul(I,Ue)|0,w=w+Math.imul(I,$e)|0,b=b+Math.imul(O,Ve)|0,h=h+Math.imul(O,ze)|0,h=h+Math.imul(U,Ve)|0,w=w+Math.imul(U,ze)|0,b=b+Math.imul(G,He)|0,h=h+Math.imul(G,We)|0,h=h+Math.imul(X,He)|0,w=w+Math.imul(X,We)|0;var bn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(bn>>>26)|0,bn&=67108863,b=Math.imul(f,ce),h=Math.imul(f,ge),h=h+Math.imul(y,ce)|0,w=Math.imul(y,ge),b=b+Math.imul(we,le)|0,h=h+Math.imul(we,fe)|0,h=h+Math.imul(Ie,le)|0,w=w+Math.imul(Ie,fe)|0,b=b+Math.imul(ve,Te)|0,h=h+Math.imul(ve,Pe)|0,h=h+Math.imul(xe,Te)|0,w=w+Math.imul(xe,Pe)|0,b=b+Math.imul(Re,Le)|0,h=h+Math.imul(Re,Be)|0,h=h+Math.imul(Ne,Le)|0,w=w+Math.imul(Ne,Be)|0,b=b+Math.imul(re,De)|0,h=h+Math.imul(re,Fe)|0,h=h+Math.imul(ue,De)|0,w=w+Math.imul(ue,Fe)|0,b=b+Math.imul(z,Ue)|0,h=h+Math.imul(z,$e)|0,h=h+Math.imul(q,Ue)|0,w=w+Math.imul(q,$e)|0,b=b+Math.imul(K,Ve)|0,h=h+Math.imul(K,ze)|0,h=h+Math.imul(I,Ve)|0,w=w+Math.imul(I,ze)|0,b=b+Math.imul(O,He)|0,h=h+Math.imul(O,We)|0,h=h+Math.imul(U,He)|0,w=w+Math.imul(U,We)|0,b=b+Math.imul(G,qe)|0,h=h+Math.imul(G,Je)|0,h=h+Math.imul(X,qe)|0,w=w+Math.imul(X,Je)|0;var vn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(vn>>>26)|0,vn&=67108863,b=Math.imul(j,ce),h=Math.imul(j,ge),h=h+Math.imul(L,ce)|0,w=Math.imul(L,ge),b=b+Math.imul(f,le)|0,h=h+Math.imul(f,fe)|0,h=h+Math.imul(y,le)|0,w=w+Math.imul(y,fe)|0,b=b+Math.imul(we,Te)|0,h=h+Math.imul(we,Pe)|0,h=h+Math.imul(Ie,Te)|0,w=w+Math.imul(Ie,Pe)|0,b=b+Math.imul(ve,Le)|0,h=h+Math.imul(ve,Be)|0,h=h+Math.imul(xe,Le)|0,w=w+Math.imul(xe,Be)|0,b=b+Math.imul(Re,De)|0,h=h+Math.imul(Re,Fe)|0,h=h+Math.imul(Ne,De)|0,w=w+Math.imul(Ne,Fe)|0,b=b+Math.imul(re,Ue)|0,h=h+Math.imul(re,$e)|0,h=h+Math.imul(ue,Ue)|0,w=w+Math.imul(ue,$e)|0,b=b+Math.imul(z,Ve)|0,h=h+Math.imul(z,ze)|0,h=h+Math.imul(q,Ve)|0,w=w+Math.imul(q,ze)|0,b=b+Math.imul(K,He)|0,h=h+Math.imul(K,We)|0,h=h+Math.imul(I,He)|0,w=w+Math.imul(I,We)|0,b=b+Math.imul(O,qe)|0,h=h+Math.imul(O,Je)|0,h=h+Math.imul(U,qe)|0,w=w+Math.imul(U,Je)|0,b=b+Math.imul(G,Ge)|0,h=h+Math.imul(G,Ze)|0,h=h+Math.imul(X,Ge)|0,w=w+Math.imul(X,Ze)|0;var wn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(wn>>>26)|0,wn&=67108863,b=Math.imul(j,le),h=Math.imul(j,fe),h=h+Math.imul(L,le)|0,w=Math.imul(L,fe),b=b+Math.imul(f,Te)|0,h=h+Math.imul(f,Pe)|0,h=h+Math.imul(y,Te)|0,w=w+Math.imul(y,Pe)|0,b=b+Math.imul(we,Le)|0,h=h+Math.imul(we,Be)|0,h=h+Math.imul(Ie,Le)|0,w=w+Math.imul(Ie,Be)|0,b=b+Math.imul(ve,De)|0,h=h+Math.imul(ve,Fe)|0,h=h+Math.imul(xe,De)|0,w=w+Math.imul(xe,Fe)|0,b=b+Math.imul(Re,Ue)|0,h=h+Math.imul(Re,$e)|0,h=h+Math.imul(Ne,Ue)|0,w=w+Math.imul(Ne,$e)|0,b=b+Math.imul(re,Ve)|0,h=h+Math.imul(re,ze)|0,h=h+Math.imul(ue,Ve)|0,w=w+Math.imul(ue,ze)|0,b=b+Math.imul(z,He)|0,h=h+Math.imul(z,We)|0,h=h+Math.imul(q,He)|0,w=w+Math.imul(q,We)|0,b=b+Math.imul(K,qe)|0,h=h+Math.imul(K,Je)|0,h=h+Math.imul(I,qe)|0,w=w+Math.imul(I,Je)|0,b=b+Math.imul(O,Ge)|0,h=h+Math.imul(O,Ze)|0,h=h+Math.imul(U,Ge)|0,w=w+Math.imul(U,Ze)|0;var _n=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(_n>>>26)|0,_n&=67108863,b=Math.imul(j,Te),h=Math.imul(j,Pe),h=h+Math.imul(L,Te)|0,w=Math.imul(L,Pe),b=b+Math.imul(f,Le)|0,h=h+Math.imul(f,Be)|0,h=h+Math.imul(y,Le)|0,w=w+Math.imul(y,Be)|0,b=b+Math.imul(we,De)|0,h=h+Math.imul(we,Fe)|0,h=h+Math.imul(Ie,De)|0,w=w+Math.imul(Ie,Fe)|0,b=b+Math.imul(ve,Ue)|0,h=h+Math.imul(ve,$e)|0,h=h+Math.imul(xe,Ue)|0,w=w+Math.imul(xe,$e)|0,b=b+Math.imul(Re,Ve)|0,h=h+Math.imul(Re,ze)|0,h=h+Math.imul(Ne,Ve)|0,w=w+Math.imul(Ne,ze)|0,b=b+Math.imul(re,He)|0,h=h+Math.imul(re,We)|0,h=h+Math.imul(ue,He)|0,w=w+Math.imul(ue,We)|0,b=b+Math.imul(z,qe)|0,h=h+Math.imul(z,Je)|0,h=h+Math.imul(q,qe)|0,w=w+Math.imul(q,Je)|0,b=b+Math.imul(K,Ge)|0,h=h+Math.imul(K,Ze)|0,h=h+Math.imul(I,Ge)|0,w=w+Math.imul(I,Ze)|0;var En=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(En>>>26)|0,En&=67108863,b=Math.imul(j,Le),h=Math.imul(j,Be),h=h+Math.imul(L,Le)|0,w=Math.imul(L,Be),b=b+Math.imul(f,De)|0,h=h+Math.imul(f,Fe)|0,h=h+Math.imul(y,De)|0,w=w+Math.imul(y,Fe)|0,b=b+Math.imul(we,Ue)|0,h=h+Math.imul(we,$e)|0,h=h+Math.imul(Ie,Ue)|0,w=w+Math.imul(Ie,$e)|0,b=b+Math.imul(ve,Ve)|0,h=h+Math.imul(ve,ze)|0,h=h+Math.imul(xe,Ve)|0,w=w+Math.imul(xe,ze)|0,b=b+Math.imul(Re,He)|0,h=h+Math.imul(Re,We)|0,h=h+Math.imul(Ne,He)|0,w=w+Math.imul(Ne,We)|0,b=b+Math.imul(re,qe)|0,h=h+Math.imul(re,Je)|0,h=h+Math.imul(ue,qe)|0,w=w+Math.imul(ue,Je)|0,b=b+Math.imul(z,Ge)|0,h=h+Math.imul(z,Ze)|0,h=h+Math.imul(q,Ge)|0,w=w+Math.imul(q,Ze)|0;var Sn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,b=Math.imul(j,De),h=Math.imul(j,Fe),h=h+Math.imul(L,De)|0,w=Math.imul(L,Fe),b=b+Math.imul(f,Ue)|0,h=h+Math.imul(f,$e)|0,h=h+Math.imul(y,Ue)|0,w=w+Math.imul(y,$e)|0,b=b+Math.imul(we,Ve)|0,h=h+Math.imul(we,ze)|0,h=h+Math.imul(Ie,Ve)|0,w=w+Math.imul(Ie,ze)|0,b=b+Math.imul(ve,He)|0,h=h+Math.imul(ve,We)|0,h=h+Math.imul(xe,He)|0,w=w+Math.imul(xe,We)|0,b=b+Math.imul(Re,qe)|0,h=h+Math.imul(Re,Je)|0,h=h+Math.imul(Ne,qe)|0,w=w+Math.imul(Ne,Je)|0,b=b+Math.imul(re,Ge)|0,h=h+Math.imul(re,Ze)|0,h=h+Math.imul(ue,Ge)|0,w=w+Math.imul(ue,Ze)|0;var Mn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,b=Math.imul(j,Ue),h=Math.imul(j,$e),h=h+Math.imul(L,Ue)|0,w=Math.imul(L,$e),b=b+Math.imul(f,Ve)|0,h=h+Math.imul(f,ze)|0,h=h+Math.imul(y,Ve)|0,w=w+Math.imul(y,ze)|0,b=b+Math.imul(we,He)|0,h=h+Math.imul(we,We)|0,h=h+Math.imul(Ie,He)|0,w=w+Math.imul(Ie,We)|0,b=b+Math.imul(ve,qe)|0,h=h+Math.imul(ve,Je)|0,h=h+Math.imul(xe,qe)|0,w=w+Math.imul(xe,Je)|0,b=b+Math.imul(Re,Ge)|0,h=h+Math.imul(Re,Ze)|0,h=h+Math.imul(Ne,Ge)|0,w=w+Math.imul(Ne,Ze)|0;var xn=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(xn>>>26)|0,xn&=67108863,b=Math.imul(j,Ve),h=Math.imul(j,ze),h=h+Math.imul(L,Ve)|0,w=Math.imul(L,ze),b=b+Math.imul(f,He)|0,h=h+Math.imul(f,We)|0,h=h+Math.imul(y,He)|0,w=w+Math.imul(y,We)|0,b=b+Math.imul(we,qe)|0,h=h+Math.imul(we,Je)|0,h=h+Math.imul(Ie,qe)|0,w=w+Math.imul(Ie,Je)|0,b=b+Math.imul(ve,Ge)|0,h=h+Math.imul(ve,Ze)|0,h=h+Math.imul(xe,Ge)|0,w=w+Math.imul(xe,Ze)|0;var Ec=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(Ec>>>26)|0,Ec&=67108863,b=Math.imul(j,He),h=Math.imul(j,We),h=h+Math.imul(L,He)|0,w=Math.imul(L,We),b=b+Math.imul(f,qe)|0,h=h+Math.imul(f,Je)|0,h=h+Math.imul(y,qe)|0,w=w+Math.imul(y,Je)|0,b=b+Math.imul(we,Ge)|0,h=h+Math.imul(we,Ze)|0,h=h+Math.imul(Ie,Ge)|0,w=w+Math.imul(Ie,Ze)|0;var Sc=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(Sc>>>26)|0,Sc&=67108863,b=Math.imul(j,qe),h=Math.imul(j,Je),h=h+Math.imul(L,qe)|0,w=Math.imul(L,Je),b=b+Math.imul(f,Ge)|0,h=h+Math.imul(f,Ze)|0,h=h+Math.imul(y,Ge)|0,w=w+Math.imul(y,Ze)|0;var Mc=(E+b|0)+((h&8191)<<13)|0;E=(w+(h>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,b=Math.imul(j,Ge),h=Math.imul(j,Ze),h=h+Math.imul(L,Ge)|0,w=Math.imul(L,Ze);var xc=(E+b|0)+((h&8191)<<13)|0;return E=(w+(h>>>13)|0)+(xc>>>26)|0,xc&=67108863,v[0]=hn,v[1]=dn,v[2]=fn,v[3]=pn,v[4]=gn,v[5]=yn,v[6]=mn,v[7]=bn,v[8]=vn,v[9]=wn,v[10]=_n,v[11]=En,v[12]=Sn,v[13]=Mn,v[14]=xn,v[15]=Ec,v[16]=Sc,v[17]=Mc,v[18]=xc,E!==0&&(v[19]=E,m.length++),m};Math.imul||(T=C);function P(u,d,m){m.negative=d.negative^u.negative,m.length=u.length+d.length;for(var S=0,g=0,v=0;v<m.length-1;v++){var E=g;g=0;for(var b=S&67108863,h=Math.min(v,d.length-1),w=Math.max(0,v-u.length+1);w<=h;w++){var V=v-w,G=u.words[V]|0,X=d.words[w]|0,R=G*X,O=R&67108863;E=E+(R/67108864|0)|0,O=O+b|0,b=O&67108863,E=E+(O>>>26)|0,g+=E>>>26,E&=67108863}m.words[v]=b,S=E,E=g}return S!==0?m.words[v]=S:m.length--,m._strip()}function $(u,d,m){return P(u,d,m)}s.prototype.mulTo=function(u,d){var m,S=this.length+u.length;return this.length===10&&u.length===10?m=T(this,u,d):S<63?m=C(this,u,d):S<1024?m=P(this,u,d):m=$(this,u,d),m},s.prototype.mul=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},s.prototype.mulf=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),$(this,u,d)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var d=u<0;d&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var m=0,S=0;S<this.length;S++){var g=(this.words[S]|0)*u,v=(g&67108863)+(m&67108863);m>>=26,m+=g/67108864|0,m+=v>>>26,this.words[S]=v&67108863}return m!==0&&(this.words[S]=m,this.length++),d?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var d=H(u);if(d.length===0)return new s(1);for(var m=this,S=0;S<d.length&&d[S]===0;S++,m=m.sqr());if(++S<d.length)for(var g=m.sqr();S<d.length;S++,g=g.sqr())d[S]!==0&&(m=m.mul(g));return m},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26,S=67108863>>>26-d<<26-d,g;if(d!==0){var v=0;for(g=0;g<this.length;g++){var E=this.words[g]&S,b=(this.words[g]|0)-E<<d;this.words[g]=b|v,v=E>>>26-d}v&&(this.words[g]=v,this.length++)}if(m!==0){for(g=this.length-1;g>=0;g--)this.words[g+m]=this.words[g];for(g=0;g<m;g++)this.words[g]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,d,m){n(typeof u=="number"&&u>=0);var S;d?S=(d-d%26)/26:S=0;var g=u%26,v=Math.min((u-g)/26,this.length),E=67108863^67108863>>>g<<g,b=m;if(S-=v,S=Math.max(0,S),b){for(var h=0;h<v;h++)b.words[h]=this.words[h];b.length=v}if(v!==0)if(this.length>v)for(this.length-=v,h=0;h<this.length;h++)this.words[h]=this.words[h+v];else this.words[0]=0,this.length=1;var w=0;for(h=this.length-1;h>=0&&(w!==0||h>=S);h--){var V=this.words[h]|0;this.words[h]=w<<26-g|V>>>g,w=V&E}return b&&w!==0&&(b.words[b.length++]=w),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,d,m){return n(this.negative===0),this.iushrn(u,d,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26,S=1<<d;if(this.length<=m)return!1;var g=this.words[m];return!!(g&S)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var S=67108863^67108863>>>d<<d;this.words[this.length-1]&=S}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,d,m){var S=u.length+m,g;this._expand(S);var v,E=0;for(g=0;g<u.length;g++){v=(this.words[g+m]|0)+E;var b=(u.words[g]|0)*d;v-=b&67108863,E=(v>>26)-(b/67108864|0),this.words[g+m]=v&67108863}for(;g<this.length-m;g++)v=(this.words[g+m]|0)+E,E=v>>26,this.words[g+m]=v&67108863;if(E===0)return this._strip();for(n(E===-1),E=0,g=0;g<this.length;g++)v=-(this.words[g]|0)+E,E=v>>26,this.words[g]=v&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,d){var m=this.length-u.length,S=this.clone(),g=u,v=g.words[g.length-1]|0,E=this._countBits(v);m=26-E,m!==0&&(g=g.ushln(m),S.iushln(m),v=g.words[g.length-1]|0);var b=S.length-g.length,h;if(d!=="mod"){h=new s(null),h.length=b+1,h.words=new Array(h.length);for(var w=0;w<h.length;w++)h.words[w]=0}var V=S.clone()._ishlnsubmul(g,1,b);V.negative===0&&(S=V,h&&(h.words[b]=1));for(var G=b-1;G>=0;G--){var X=(S.words[g.length+G]|0)*67108864+(S.words[g.length+G-1]|0);for(X=Math.min(X/v|0,67108863),S._ishlnsubmul(g,X,G);S.negative!==0;)X--,S.negative=0,S._ishlnsubmul(g,1,G),S.isZero()||(S.negative^=1);h&&(h.words[G]=X)}return h&&h._strip(),S._strip(),d!=="div"&&m!==0&&S.iushrn(m),{div:h||null,mod:S}},s.prototype.divmod=function(u,d,m){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var S,g,v;return this.negative!==0&&u.negative===0?(v=this.neg().divmod(u,d),d!=="mod"&&(S=v.div.neg()),d!=="div"&&(g=v.mod.neg(),m&&g.negative!==0&&g.iadd(u)),{div:S,mod:g}):this.negative===0&&u.negative!==0?(v=this.divmod(u.neg(),d),d!=="mod"&&(S=v.div.neg()),{div:S,mod:v.mod}):this.negative&u.negative?(v=this.neg().divmod(u.neg(),d),d!=="div"&&(g=v.mod.neg(),m&&g.negative!==0&&g.isub(u)),{div:v.div,mod:g}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,d)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(u):d.mod,S=u.ushrn(1),g=u.andln(1),v=m.cmp(S);return v<0||g===1&&v===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var m=(1<<26)%u,S=0,g=this.length-1;g>=0;g--)S=(m*S+(this.words[g]|0))%u;return d?-S:S},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var m=0,S=this.length-1;S>=0;S--){var g=(this.words[S]|0)+m*67108864;this.words[S]=g/u|0,m=g%u}return this._strip(),d?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var d=this,m=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var S=new s(1),g=new s(0),v=new s(0),E=new s(1),b=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++b;for(var h=m.clone(),w=d.clone();!d.isZero();){for(var V=0,G=1;!(d.words[0]&G)&&V<26;++V,G<<=1);if(V>0)for(d.iushrn(V);V-- >0;)(S.isOdd()||g.isOdd())&&(S.iadd(h),g.isub(w)),S.iushrn(1),g.iushrn(1);for(var X=0,R=1;!(m.words[0]&R)&&X<26;++X,R<<=1);if(X>0)for(m.iushrn(X);X-- >0;)(v.isOdd()||E.isOdd())&&(v.iadd(h),E.isub(w)),v.iushrn(1),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),S.isub(v),g.isub(E)):(m.isub(d),v.isub(S),E.isub(g))}return{a:v,b:E,gcd:m.iushln(b)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var d=this,m=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var S=new s(1),g=new s(0),v=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var E=0,b=1;!(d.words[0]&b)&&E<26;++E,b<<=1);if(E>0)for(d.iushrn(E);E-- >0;)S.isOdd()&&S.iadd(v),S.iushrn(1);for(var h=0,w=1;!(m.words[0]&w)&&h<26;++h,w<<=1);if(h>0)for(m.iushrn(h);h-- >0;)g.isOdd()&&g.iadd(v),g.iushrn(1);d.cmp(m)>=0?(d.isub(m),S.isub(g)):(m.isub(d),g.isub(S))}var V;return d.cmpn(1)===0?V=S:V=g,V.cmpn(0)<0&&V.iadd(u),V},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),m=u.clone();d.negative=0,m.negative=0;for(var S=0;d.isEven()&&m.isEven();S++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var g=d.cmp(m);if(g<0){var v=d;d=m,m=v}else if(g===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(S)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var d=u%26,m=(u-d)/26,S=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=S,this;for(var g=S,v=m;g!==0&&v<this.length;v++){var E=this.words[v]|0;E+=g,g=E>>>26,E&=67108863,this.words[v]=E}return g!==0&&(this.words[v]=g,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(u=-u),n(u<=67108863,"Number is too big");var S=this.words[0]|0;m=S===u?0:S<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var S=this.words[m]|0,g=u.words[m]|0;if(S!==g){S<g?d=-1:S>g&&(d=1);break}}return d},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new ie(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var B={k256:null,p224:null,p192:null,p25519:null};function J(u,d){this.name=u,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},J.prototype.ireduce=function(u){var d=u,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var S=m<this.n?-1:d.ucmp(this.p);return S===0?(d.words[0]=0,d.length=1):S>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},J.prototype.split=function(u,d){u.iushrn(this.n,0,d)},J.prototype.imulK=function(u){return u.imul(this.k)};function ne(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ne,J),ne.prototype.split=function(u,d){for(var m=4194303,S=Math.min(u.length,9),g=0;g<S;g++)d.words[g]=u.words[g];if(d.length=S,u.length<=9){u.words[0]=0,u.length=1;return}var v=u.words[9];for(d.words[d.length++]=v&m,g=10;g<u.length;g++){var E=u.words[g]|0;u.words[g-10]=(E&m)<<4|v>>>22,v=E}v>>>=22,u.words[g-10]=v,v===0&&u.length>10?u.length-=10:u.length-=9},ne.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,m=0;m<u.length;m++){var S=u.words[m]|0;d+=S*977,u.words[m]=d&67108863,d=S*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function ee(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ee,J);function Q(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Q,J);function pe(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(pe,J),pe.prototype.imulK=function(u){for(var d=0,m=0;m<u.length;m++){var S=(u.words[m]|0)*19+d,g=S&67108863;S>>>=26,u.words[m]=g,d=S}return d!==0&&(u.words[u.length++]=d),u},s._prime=function(u){if(B[u])return B[u];var d;if(u==="k256")d=new ne;else if(u==="p224")d=new ee;else if(u==="p192")d=new Q;else if(u==="p25519")d=new pe;else throw new Error("Unknown prime "+u);return B[u]=d,d};function ie(u){if(typeof u=="string"){var d=s._prime(u);this.m=d.p,this.prime=d}else n(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}ie.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},ie.prototype._verify2=function(u,d){n((u.negative|d.negative)===0,"red works only with positives"),n(u.red&&u.red===d.red,"red works only with red numbers")},ie.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(_(u,u.umod(this.m)._forceRed(this)),u)},ie.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},ie.prototype.add=function(u,d){this._verify2(u,d);var m=u.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},ie.prototype.iadd=function(u,d){this._verify2(u,d);var m=u.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},ie.prototype.sub=function(u,d){this._verify2(u,d);var m=u.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},ie.prototype.isub=function(u,d){this._verify2(u,d);var m=u.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},ie.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},ie.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},ie.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},ie.prototype.isqr=function(u){return this.imul(u,u.clone())},ie.prototype.sqr=function(u){return this.mul(u,u)},ie.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var S=this.m.subn(1),g=0;!S.isZero()&&S.andln(1)===0;)g++,S.iushrn(1);n(!S.isZero());var v=new s(1).toRed(this),E=v.redNeg(),b=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);this.pow(h,b).cmp(E)!==0;)h.redIAdd(E);for(var w=this.pow(h,S),V=this.pow(u,S.addn(1).iushrn(1)),G=this.pow(u,S),X=g;G.cmp(v)!==0;){for(var R=G,O=0;R.cmp(v)!==0;O++)R=R.redSqr();n(O<X);var U=this.pow(w,new s(1).iushln(X-O-1));V=V.redMul(U),w=U.redSqr(),G=G.redMul(w),X=O}return V},ie.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},ie.prototype.pow=function(u,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var m=4,S=new Array(1<<m);S[0]=new s(1).toRed(this),S[1]=u;for(var g=2;g<S.length;g++)S[g]=this.mul(S[g-1],u);var v=S[0],E=0,b=0,h=d.bitLength()%26;for(h===0&&(h=26),g=d.length-1;g>=0;g--){for(var w=d.words[g],V=h-1;V>=0;V--){var G=w>>V&1;if(v!==S[0]&&(v=this.sqr(v)),G===0&&E===0){b=0;continue}E<<=1,E|=G,b++,!(b!==m&&(g!==0||V!==0))&&(v=this.mul(v,S[E]),b=0,E=0)}h=26}return v},ie.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},ie.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},s.mont=function(u){return new ae(u)};function ae(u){ie.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,ie),ae.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},ae.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},ae.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(d),S=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(S).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},ae.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new s(0)._forceRed(this);var m=u.mul(d),S=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=m.isub(S).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},ae.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,te)}(ta);var bs=ta.exports,vs={},Mr={},Cc=Mi;Mi.default=Mi,Mi.stable=Nc,Mi.stableStringify=Nc;var ws="[...]",Ac="[Circular]",Vr=[],zr=[];function Rc(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Mi(e,t,r,n){typeof n>"u"&&(n=Rc()),ra(e,"",0,[],void 0,0,n);var i;try{zr.length===0?i=JSON.stringify(e,t,r):i=JSON.stringify(e,Oc(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Vr.length!==0;){var s=Vr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Cn(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),Vr.push([n,r,t,i])):zr.push([t,r,e]):(n[r]=e,Vr.push([n,r,t]))}function ra(e,t,r,n,i,s,o){s+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){Cn(Ac,e,t,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Cn(ws,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Cn(ws,e,t,i);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)ra(e[a],a,a,n,e,s,o);else{var l=Object.keys(e);for(a=0;a<l.length;a++){var p=l[a];ra(e[p],p,a,n,e,s,o)}}n.pop()}}function Zp(e,t){return e<t?-1:e>t?1:0}function Nc(e,t,r,n){typeof n>"u"&&(n=Rc());var i=na(e,"",0,[],void 0,0,n)||e,s;try{zr.length===0?s=JSON.stringify(i,t,r):s=JSON.stringify(i,Oc(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Vr.length!==0;){var o=Vr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function na(e,t,r,n,i,s,o){s+=1;var a;if(typeof e=="object"&&e!==null){for(a=0;a<n.length;a++)if(n[a]===e){Cn(Ac,e,t,i);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Cn(ws,e,t,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Cn(ws,e,t,i);return}if(n.push(e),Array.isArray(e))for(a=0;a<e.length;a++)na(e[a],a,a,n,e,s,o);else{var l={},p=Object.keys(e).sort(Zp);for(a=0;a<p.length;a++){var _=p[a];na(e[_],_,a,n,e,s,o),l[_]=e[_]}if(typeof i<"u")Vr.push([i,t,e]),i[t]=l;else return l}n.pop()}}function Oc(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(zr.length>0)for(var n=0;n<zr.length;n++){var i=zr[n];if(i[1]===t&&i[0]===r){r=i[2],zr.splice(n,1);break}}return e.call(this,t,r)}}Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.EthereumProviderError=Mr.EthereumRpcError=void 0;const Qp=Cc;let jc=class extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Qp.default(this.serialize(),Xp,2)}};Mr.EthereumRpcError=jc;let Yp=class extends jc{constructor(e,t,r){if(!Kp(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}};Mr.EthereumProviderError=Yp;function Kp(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Xp(e,t){if(t!=="[Circular]")return t}var ia={},xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.errorValues=xr.errorCodes=void 0,xr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},xr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=xr,r=Mr,n=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(M,A=i){if(Number.isInteger(M)){const F=M.toString();if(x(t.errorValues,F))return t.errorValues[F].message;if(p(M))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return A}e.getMessageFromCode=o;function a(M){if(!Number.isInteger(M))return!1;const A=M.toString();return!!(t.errorValues[A]||p(M))}e.isValidCode=a;function l(M,{fallbackError:A=s,shouldIncludeStack:F=!1}={}){var D,H;if(!A||!Number.isInteger(A.code)||typeof A.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(M instanceof r.EthereumRpcError)return M.serialize();const C={};if(M&&typeof M=="object"&&!Array.isArray(M)&&x(M,"code")&&a(M.code)){const P=M;C.code=P.code,P.message&&typeof P.message=="string"?(C.message=P.message,x(P,"data")&&(C.data=P.data)):(C.message=o(C.code),C.data={originalError:_(M)})}else{C.code=A.code;const P=(D=M)===null||D===void 0?void 0:D.message;C.message=P&&typeof P=="string"?P:A.message,C.data={originalError:_(M)}}const T=(H=M)===null||H===void 0?void 0:H.stack;return F&&M&&T&&typeof T=="string"&&(C.stack=T),C}e.serializeError=l;function p(M){return M>=-32099&&M<=-32e3}function _(M){return M&&typeof M=="object"&&!Array.isArray(M)?Object.assign({},M):M}function x(M,A){return Object.prototype.hasOwnProperty.call(M,A)}}(ia);var _s={};Object.defineProperty(_s,"__esModule",{value:!0}),_s.ethErrors=void 0;const sa=Mr,Tc=ia,pt=xr;_s.ethErrors={rpc:{parse:e=>Ot(pt.errorCodes.rpc.parse,e),invalidRequest:e=>Ot(pt.errorCodes.rpc.invalidRequest,e),invalidParams:e=>Ot(pt.errorCodes.rpc.invalidParams,e),methodNotFound:e=>Ot(pt.errorCodes.rpc.methodNotFound,e),internal:e=>Ot(pt.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ot(t,e)},invalidInput:e=>Ot(pt.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>Ot(pt.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Ot(pt.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Ot(pt.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Ot(pt.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Ot(pt.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>xi(pt.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>xi(pt.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>xi(pt.errorCodes.provider.unsupportedMethod,e),disconnected:e=>xi(pt.errorCodes.provider.disconnected,e),chainDisconnected:e=>xi(pt.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new sa.EthereumProviderError(t,r,n)}}};function Ot(e,t){const[r,n]=Pc(t);return new sa.EthereumRpcError(e,r||Tc.getMessageFromCode(e),n)}function xi(e,t){const[r,n]=Pc(t);return new sa.EthereumProviderError(e,r||Tc.getMessageFromCode(e),n)}function Pc(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Mr;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=ia;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=_s;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=xr;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(vs);var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.EVENTS=void 0,An.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Rn={},Lc={exports:{}},oa={exports:{}};typeof Object.create=="function"?oa.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:oa.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var Wt=oa.exports,aa={exports:{}},Ii={},Es={};Es.byteLength=r0,Es.toByteArray=i0,Es.fromByteArray=a0;for(var tr=[],jt=[],e0=typeof Uint8Array<"u"?Uint8Array:Array,ua="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nn=0,t0=ua.length;Nn<t0;++Nn)tr[Nn]=ua[Nn],jt[ua.charCodeAt(Nn)]=Nn;jt["-".charCodeAt(0)]=62,jt["_".charCodeAt(0)]=63;function Bc(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function r0(e){var t=Bc(e),r=t[0],n=t[1];return(r+n)*3/4-n}function n0(e,t,r){return(t+r)*3/4-r}function i0(e){var t,r=Bc(e),n=r[0],i=r[1],s=new e0(n0(e,n,i)),o=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)t=jt[e.charCodeAt(l)]<<18|jt[e.charCodeAt(l+1)]<<12|jt[e.charCodeAt(l+2)]<<6|jt[e.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=jt[e.charCodeAt(l)]<<2|jt[e.charCodeAt(l+1)]>>4,s[o++]=t&255),i===1&&(t=jt[e.charCodeAt(l)]<<10|jt[e.charCodeAt(l+1)]<<4|jt[e.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function s0(e){return tr[e>>18&63]+tr[e>>12&63]+tr[e>>6&63]+tr[e&63]}function o0(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(s0(n));return i.join("")}function a0(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(o0(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(tr[t>>2]+tr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(tr[t>>10]+tr[t>>4&63]+tr[t<<2&63]+"=")),i.join("")}var ca={};ca.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,p=l>>1,_=-7,x=r?i-1:0,M=r?-1:1,A=e[t+x];for(x+=M,s=A&(1<<-_)-1,A>>=-_,_+=a;_>0;s=s*256+e[t+x],x+=M,_-=8);for(o=s&(1<<-_)-1,s>>=-_,_+=n;_>0;o=o*256+e[t+x],x+=M,_-=8);if(s===0)s=1-p;else{if(s===l)return o?NaN:(A?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-p}return(A?-1:1)*o*Math.pow(2,s-n)},ca.write=function(e,t,r,n,i,s){var o,a,l,p=s*8-i-1,_=(1<<p)-1,x=_>>1,M=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,F=n?1:-1,D=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=_):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+x>=1?t+=M/l:t+=M*Math.pow(2,1-x),t*l>=2&&(o++,l/=2),o+x>=_?(a=0,o=_):o+x>=1?(a=(t*l-1)*Math.pow(2,i),o=o+x):(a=t*Math.pow(2,x-1)*Math.pow(2,i),o=0));i>=8;e[r+A]=a&255,A+=F,a/=256,i-=8);for(o=o<<i|a,p+=i;p>0;e[r+A]=o&255,A+=F,o/=256,p-=8);e[r+A-F]|=D*128},function(e){const t=Es,r=ca,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const c=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(c,f),c.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(c){if(c>i)throw new RangeError('The value "'+c+'" is invalid for option "size"');const f=new Uint8Array(c);return Object.setPrototypeOf(f,a.prototype),f}function a(c,f,y){if(typeof c=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(c)}return l(c,f,y)}a.poolSize=8192;function l(c,f,y){if(typeof c=="string")return M(c,f);if(ArrayBuffer.isView(c))return F(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(ve(c,ArrayBuffer)||c&&ve(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(c,SharedArrayBuffer)||c&&ve(c.buffer,SharedArrayBuffer)))return D(c,f,y);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const N=c.valueOf&&c.valueOf();if(N!=null&&N!==c)return a.from(N,f,y);const j=H(c);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return a.from(c[Symbol.toPrimitive]("string"),f,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}a.from=function(c,f,y){return l(c,f,y)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function p(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function _(c,f,y){return p(c),c<=0?o(c):f!==void 0?typeof y=="string"?o(c).fill(f,y):o(c).fill(f):o(c)}a.alloc=function(c,f,y){return _(c,f,y)};function x(c){return p(c),o(c<0?0:C(c)|0)}a.allocUnsafe=function(c){return x(c)},a.allocUnsafeSlow=function(c){return x(c)};function M(c,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const y=P(c,f)|0;let N=o(y);const j=N.write(c,f);return j!==y&&(N=N.slice(0,j)),N}function A(c){const f=c.length<0?0:C(c.length)|0,y=o(f);for(let N=0;N<f;N+=1)y[N]=c[N]&255;return y}function F(c){if(ve(c,Uint8Array)){const f=new Uint8Array(c);return D(f.buffer,f.byteOffset,f.byteLength)}return A(c)}function D(c,f,y){if(f<0||c.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<f+(y||0))throw new RangeError('"length" is outside of buffer bounds');let N;return f===void 0&&y===void 0?N=new Uint8Array(c):y===void 0?N=new Uint8Array(c,f):N=new Uint8Array(c,f,y),Object.setPrototypeOf(N,a.prototype),N}function H(c){if(a.isBuffer(c)){const f=C(c.length)|0,y=o(f);return y.length===0||c.copy(y,0,0,f),y}if(c.length!==void 0)return typeof c.length!="number"||xe(c.length)?o(0):A(c);if(c.type==="Buffer"&&Array.isArray(c.data))return A(c.data)}function C(c){if(c>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return c|0}function T(c){return+c!=c&&(c=0),a.alloc(+c)}a.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},a.compare=function(c,f){if(ve(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),ve(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(c)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===f)return 0;let y=c.length,N=f.length;for(let j=0,L=Math.min(y,N);j<L;++j)if(c[j]!==f[j]){y=c[j],N=f[j];break}return y<N?-1:N<y?1:0},a.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(c,f){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let y;if(f===void 0)for(f=0,y=0;y<c.length;++y)f+=c[y].length;const N=a.allocUnsafe(f);let j=0;for(y=0;y<c.length;++y){let L=c[y];if(ve(L,Uint8Array))j+L.length>N.length?(a.isBuffer(L)||(L=a.from(L)),L.copy(N,j)):Uint8Array.prototype.set.call(N,L,j);else if(a.isBuffer(L))L.copy(N,j);else throw new TypeError('"list" argument must be an Array of Buffers');j+=L.length}return N};function P(c,f){if(a.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||ve(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const y=c.length,N=arguments.length>2&&arguments[2]===!0;if(!N&&y===0)return 0;let j=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return ue(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return Ne(c).length;default:if(j)return N?-1:ue(c).length;f=(""+f).toLowerCase(),j=!0}}a.byteLength=P;function $(c,f,y){let N=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,f>>>=0,y<=f))return"";for(c||(c="utf8");;)switch(c){case"hex":return E(this,f,y);case"utf8":case"utf-8":return d(this,f,y);case"ascii":return g(this,f,y);case"latin1":case"binary":return v(this,f,y);case"base64":return u(this,f,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,f,y);default:if(N)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),N=!0}}a.prototype._isBuffer=!0;function B(c,f,y){const N=c[f];c[f]=c[y],c[y]=N}a.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<c;f+=2)B(this,f,f+1);return this},a.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<c;f+=4)B(this,f,f+3),B(this,f+1,f+2);return this},a.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<c;f+=8)B(this,f,f+7),B(this,f+1,f+6),B(this,f+2,f+5),B(this,f+3,f+4);return this},a.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?d(this,0,c):$.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},a.prototype.inspect=function(){let c="";const f=e.INSPECT_MAX_BYTES;return c=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(c+=" ... "),"<Buffer "+c+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(c,f,y,N,j){if(ve(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(f===void 0&&(f=0),y===void 0&&(y=c?c.length:0),N===void 0&&(N=0),j===void 0&&(j=this.length),f<0||y>c.length||N<0||j>this.length)throw new RangeError("out of range index");if(N>=j&&f>=y)return 0;if(N>=j)return-1;if(f>=y)return 1;if(f>>>=0,y>>>=0,N>>>=0,j>>>=0,this===c)return 0;let L=j-N,Z=y-f;const ce=Math.min(L,Z),ge=this.slice(N,j),ke=c.slice(f,y);for(let le=0;le<ce;++le)if(ge[le]!==ke[le]){L=ge[le],Z=ke[le];break}return L<Z?-1:Z<L?1:0};function J(c,f,y,N,j){if(c.length===0)return-1;if(typeof y=="string"?(N=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,xe(y)&&(y=j?0:c.length-1),y<0&&(y=c.length+y),y>=c.length){if(j)return-1;y=c.length-1}else if(y<0)if(j)y=0;else return-1;if(typeof f=="string"&&(f=a.from(f,N)),a.isBuffer(f))return f.length===0?-1:ne(c,f,y,N,j);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(c,f,y):Uint8Array.prototype.lastIndexOf.call(c,f,y):ne(c,[f],y,N,j);throw new TypeError("val must be string, number or Buffer")}function ne(c,f,y,N,j){let L=1,Z=c.length,ce=f.length;if(N!==void 0&&(N=String(N).toLowerCase(),N==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(c.length<2||f.length<2)return-1;L=2,Z/=2,ce/=2,y/=2}function ge(le,fe){return L===1?le[fe]:le.readUInt16BE(fe*L)}let ke;if(j){let le=-1;for(ke=y;ke<Z;ke++)if(ge(c,ke)===ge(f,le===-1?0:ke-le)){if(le===-1&&(le=ke),ke-le+1===ce)return le*L}else le!==-1&&(ke-=ke-le),le=-1}else for(y+ce>Z&&(y=Z-ce),ke=y;ke>=0;ke--){let le=!0;for(let fe=0;fe<ce;fe++)if(ge(c,ke+fe)!==ge(f,fe)){le=!1;break}if(le)return ke}return-1}a.prototype.includes=function(c,f,y){return this.indexOf(c,f,y)!==-1},a.prototype.indexOf=function(c,f,y){return J(this,c,f,y,!0)},a.prototype.lastIndexOf=function(c,f,y){return J(this,c,f,y,!1)};function ee(c,f,y,N){y=Number(y)||0;const j=c.length-y;N?(N=Number(N),N>j&&(N=j)):N=j;const L=f.length;N>L/2&&(N=L/2);let Z;for(Z=0;Z<N;++Z){const ce=parseInt(f.substr(Z*2,2),16);if(xe(ce))return Z;c[y+Z]=ce}return Z}function Q(c,f,y,N){return Ht(ue(f,c.length-y),c,y,N)}function pe(c,f,y,N){return Ht(zt(f),c,y,N)}function ie(c,f,y,N){return Ht(Ne(f),c,y,N)}function ae(c,f,y,N){return Ht(Re(f,c.length-y),c,y,N)}a.prototype.write=function(c,f,y,N){if(f===void 0)N="utf8",y=this.length,f=0;else if(y===void 0&&typeof f=="string")N=f,y=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(y)?(y=y>>>0,N===void 0&&(N="utf8")):(N=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const j=this.length-f;if((y===void 0||y>j)&&(y=j),c.length>0&&(y<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");let L=!1;for(;;)switch(N){case"hex":return ee(this,c,f,y);case"utf8":case"utf-8":return Q(this,c,f,y);case"ascii":case"latin1":case"binary":return pe(this,c,f,y);case"base64":return ie(this,c,f,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,c,f,y);default:if(L)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),L=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function u(c,f,y){return f===0&&y===c.length?t.fromByteArray(c):t.fromByteArray(c.slice(f,y))}function d(c,f,y){y=Math.min(c.length,y);const N=[];let j=f;for(;j<y;){const L=c[j];let Z=null,ce=L>239?4:L>223?3:L>191?2:1;if(j+ce<=y){let ge,ke,le,fe;switch(ce){case 1:L<128&&(Z=L);break;case 2:ge=c[j+1],(ge&192)===128&&(fe=(L&31)<<6|ge&63,fe>127&&(Z=fe));break;case 3:ge=c[j+1],ke=c[j+2],(ge&192)===128&&(ke&192)===128&&(fe=(L&15)<<12|(ge&63)<<6|ke&63,fe>2047&&(fe<55296||fe>57343)&&(Z=fe));break;case 4:ge=c[j+1],ke=c[j+2],le=c[j+3],(ge&192)===128&&(ke&192)===128&&(le&192)===128&&(fe=(L&15)<<18|(ge&63)<<12|(ke&63)<<6|le&63,fe>65535&&fe<1114112&&(Z=fe))}}Z===null?(Z=65533,ce=1):Z>65535&&(Z-=65536,N.push(Z>>>10&1023|55296),Z=56320|Z&1023),N.push(Z),j+=ce}return S(N)}const m=4096;function S(c){const f=c.length;if(f<=m)return String.fromCharCode.apply(String,c);let y="",N=0;for(;N<f;)y+=String.fromCharCode.apply(String,c.slice(N,N+=m));return y}function g(c,f,y){let N="";y=Math.min(c.length,y);for(let j=f;j<y;++j)N+=String.fromCharCode(c[j]&127);return N}function v(c,f,y){let N="";y=Math.min(c.length,y);for(let j=f;j<y;++j)N+=String.fromCharCode(c[j]);return N}function E(c,f,y){const N=c.length;(!f||f<0)&&(f=0),(!y||y<0||y>N)&&(y=N);let j="";for(let L=f;L<y;++L)j+=er[c[L]];return j}function b(c,f,y){const N=c.slice(f,y);let j="";for(let L=0;L<N.length-1;L+=2)j+=String.fromCharCode(N[L]+N[L+1]*256);return j}a.prototype.slice=function(c,f){const y=this.length;c=~~c,f=f===void 0?y:~~f,c<0?(c+=y,c<0&&(c=0)):c>y&&(c=y),f<0?(f+=y,f<0&&(f=0)):f>y&&(f=y),f<c&&(f=c);const N=this.subarray(c,f);return Object.setPrototypeOf(N,a.prototype),N};function h(c,f,y){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+f>y)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(c,f,y){c=c>>>0,f=f>>>0,y||h(c,f,this.length);let N=this[c],j=1,L=0;for(;++L<f&&(j*=256);)N+=this[c+L]*j;return N},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,f,y){c=c>>>0,f=f>>>0,y||h(c,f,this.length);let N=this[c+--f],j=1;for(;f>0&&(j*=256);)N+=this[c+--f]*j;return N},a.prototype.readUint8=a.prototype.readUInt8=function(c,f){return c=c>>>0,f||h(c,1,this.length),this[c]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(c,f){return c=c>>>0,f||h(c,2,this.length),this[c]|this[c+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(c,f){return c=c>>>0,f||h(c,2,this.length),this[c]<<8|this[c+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(c,f){return c=c>>>0,f||h(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(c,f){return c=c>>>0,f||h(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},a.prototype.readBigUInt64LE=we(function(c){c=c>>>0,z(c,"offset");const f=this[c],y=this[c+7];(f===void 0||y===void 0)&&q(c,this.length-8);const N=f+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,j=this[++c]+this[++c]*2**8+this[++c]*2**16+y*2**24;return BigInt(N)+(BigInt(j)<<BigInt(32))}),a.prototype.readBigUInt64BE=we(function(c){c=c>>>0,z(c,"offset");const f=this[c],y=this[c+7];(f===void 0||y===void 0)&&q(c,this.length-8);const N=f*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],j=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+y;return(BigInt(N)<<BigInt(32))+BigInt(j)}),a.prototype.readIntLE=function(c,f,y){c=c>>>0,f=f>>>0,y||h(c,f,this.length);let N=this[c],j=1,L=0;for(;++L<f&&(j*=256);)N+=this[c+L]*j;return j*=128,N>=j&&(N-=Math.pow(2,8*f)),N},a.prototype.readIntBE=function(c,f,y){c=c>>>0,f=f>>>0,y||h(c,f,this.length);let N=f,j=1,L=this[c+--N];for(;N>0&&(j*=256);)L+=this[c+--N]*j;return j*=128,L>=j&&(L-=Math.pow(2,8*f)),L},a.prototype.readInt8=function(c,f){return c=c>>>0,f||h(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},a.prototype.readInt16LE=function(c,f){c=c>>>0,f||h(c,2,this.length);const y=this[c]|this[c+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(c,f){c=c>>>0,f||h(c,2,this.length);const y=this[c+1]|this[c]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(c,f){return c=c>>>0,f||h(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},a.prototype.readInt32BE=function(c,f){return c=c>>>0,f||h(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},a.prototype.readBigInt64LE=we(function(c){c=c>>>0,z(c,"offset");const f=this[c],y=this[c+7];(f===void 0||y===void 0)&&q(c,this.length-8);const N=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(y<<24);return(BigInt(N)<<BigInt(32))+BigInt(f+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),a.prototype.readBigInt64BE=we(function(c){c=c>>>0,z(c,"offset");const f=this[c],y=this[c+7];(f===void 0||y===void 0)&&q(c,this.length-8);const N=(f<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(N)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+y)}),a.prototype.readFloatLE=function(c,f){return c=c>>>0,f||h(c,4,this.length),r.read(this,c,!0,23,4)},a.prototype.readFloatBE=function(c,f){return c=c>>>0,f||h(c,4,this.length),r.read(this,c,!1,23,4)},a.prototype.readDoubleLE=function(c,f){return c=c>>>0,f||h(c,8,this.length),r.read(this,c,!0,52,8)},a.prototype.readDoubleBE=function(c,f){return c=c>>>0,f||h(c,8,this.length),r.read(this,c,!1,52,8)};function w(c,f,y,N,j,L){if(!a.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>j||f<L)throw new RangeError('"value" argument is out of bounds');if(y+N>c.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(c,f,y,N){if(c=+c,f=f>>>0,y=y>>>0,!N){const Z=Math.pow(2,8*y)-1;w(this,c,f,y,Z,0)}let j=1,L=0;for(this[f]=c&255;++L<y&&(j*=256);)this[f+L]=c/j&255;return f+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(c,f,y,N){if(c=+c,f=f>>>0,y=y>>>0,!N){const Z=Math.pow(2,8*y)-1;w(this,c,f,y,Z,0)}let j=y-1,L=1;for(this[f+j]=c&255;--j>=0&&(L*=256);)this[f+j]=c/L&255;return f+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,1,255,0),this[f]=c&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,2,65535,0),this[f]=c&255,this[f+1]=c>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,2,65535,0),this[f]=c>>>8,this[f+1]=c&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,4,4294967295,0),this[f+3]=c>>>24,this[f+2]=c>>>16,this[f+1]=c>>>8,this[f]=c&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,4,4294967295,0),this[f]=c>>>24,this[f+1]=c>>>16,this[f+2]=c>>>8,this[f+3]=c&255,f+4};function V(c,f,y,N,j){k(f,N,j,c,y,7);let L=Number(f&BigInt(4294967295));c[y++]=L,L=L>>8,c[y++]=L,L=L>>8,c[y++]=L,L=L>>8,c[y++]=L;let Z=Number(f>>BigInt(32)&BigInt(4294967295));return c[y++]=Z,Z=Z>>8,c[y++]=Z,Z=Z>>8,c[y++]=Z,Z=Z>>8,c[y++]=Z,y}function G(c,f,y,N,j){k(f,N,j,c,y,7);let L=Number(f&BigInt(4294967295));c[y+7]=L,L=L>>8,c[y+6]=L,L=L>>8,c[y+5]=L,L=L>>8,c[y+4]=L;let Z=Number(f>>BigInt(32)&BigInt(4294967295));return c[y+3]=Z,Z=Z>>8,c[y+2]=Z,Z=Z>>8,c[y+1]=Z,Z=Z>>8,c[y]=Z,y+8}a.prototype.writeBigUInt64LE=we(function(c,f=0){return V(this,c,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=we(function(c,f=0){return G(this,c,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(c,f,y,N){if(c=+c,f=f>>>0,!N){const ce=Math.pow(2,8*y-1);w(this,c,f,y,ce-1,-ce)}let j=0,L=1,Z=0;for(this[f]=c&255;++j<y&&(L*=256);)c<0&&Z===0&&this[f+j-1]!==0&&(Z=1),this[f+j]=(c/L>>0)-Z&255;return f+y},a.prototype.writeIntBE=function(c,f,y,N){if(c=+c,f=f>>>0,!N){const ce=Math.pow(2,8*y-1);w(this,c,f,y,ce-1,-ce)}let j=y-1,L=1,Z=0;for(this[f+j]=c&255;--j>=0&&(L*=256);)c<0&&Z===0&&this[f+j+1]!==0&&(Z=1),this[f+j]=(c/L>>0)-Z&255;return f+y},a.prototype.writeInt8=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,1,127,-128),c<0&&(c=255+c+1),this[f]=c&255,f+1},a.prototype.writeInt16LE=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,2,32767,-32768),this[f]=c&255,this[f+1]=c>>>8,f+2},a.prototype.writeInt16BE=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,2,32767,-32768),this[f]=c>>>8,this[f+1]=c&255,f+2},a.prototype.writeInt32LE=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,4,2147483647,-2147483648),this[f]=c&255,this[f+1]=c>>>8,this[f+2]=c>>>16,this[f+3]=c>>>24,f+4},a.prototype.writeInt32BE=function(c,f,y){return c=+c,f=f>>>0,y||w(this,c,f,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[f]=c>>>24,this[f+1]=c>>>16,this[f+2]=c>>>8,this[f+3]=c&255,f+4},a.prototype.writeBigInt64LE=we(function(c,f=0){return V(this,c,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=we(function(c,f=0){return G(this,c,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(c,f,y,N,j,L){if(y+N>c.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function R(c,f,y,N,j){return f=+f,y=y>>>0,j||X(c,f,y,4),r.write(c,f,y,N,23,4),y+4}a.prototype.writeFloatLE=function(c,f,y){return R(this,c,f,!0,y)},a.prototype.writeFloatBE=function(c,f,y){return R(this,c,f,!1,y)};function O(c,f,y,N,j){return f=+f,y=y>>>0,j||X(c,f,y,8),r.write(c,f,y,N,52,8),y+8}a.prototype.writeDoubleLE=function(c,f,y){return O(this,c,f,!0,y)},a.prototype.writeDoubleBE=function(c,f,y){return O(this,c,f,!1,y)},a.prototype.copy=function(c,f,y,N){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(y||(y=0),!N&&N!==0&&(N=this.length),f>=c.length&&(f=c.length),f||(f=0),N>0&&N<y&&(N=y),N===y||c.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),c.length-f<N-y&&(N=c.length-f+y);const j=N-y;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,y,N):Uint8Array.prototype.set.call(c,this.subarray(y,N),f),j},a.prototype.fill=function(c,f,y,N){if(typeof c=="string"){if(typeof f=="string"?(N=f,f=0,y=this.length):typeof y=="string"&&(N=y,y=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(c.length===1){const L=c.charCodeAt(0);(N==="utf8"&&L<128||N==="latin1")&&(c=L)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(f<0||this.length<f||this.length<y)throw new RangeError("Out of range index");if(y<=f)return this;f=f>>>0,y=y===void 0?this.length:y>>>0,c||(c=0);let j;if(typeof c=="number")for(j=f;j<y;++j)this[j]=c;else{const L=a.isBuffer(c)?c:a.from(c,N),Z=L.length;if(Z===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(j=0;j<y-f;++j)this[j+f]=L[j%Z]}return this};const U={};function Y(c,f,y){U[c]=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(N){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:N,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(c,f){return`The "${c}" argument must be of type number. Received type ${typeof f}`},TypeError),Y("ERR_OUT_OF_RANGE",function(c,f,y){let N=`The value of "${c}" is out of range.`,j=y;return Number.isInteger(y)&&Math.abs(y)>2**32?j=K(String(y)):typeof y=="bigint"&&(j=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&(j=K(j)),j+="n"),N+=` It must be ${f}. Received ${j}`,N},RangeError);function K(c){let f="",y=c.length;const N=c[0]==="-"?1:0;for(;y>=N+4;y-=3)f=`_${c.slice(y-3,y)}${f}`;return`${c.slice(0,y)}${f}`}function I(c,f,y){z(f,"offset"),(c[f]===void 0||c[f+y]===void 0)&&q(f,c.length-(y+1))}function k(c,f,y,N,j,L){if(c>y||c<f){const Z=typeof f=="bigint"?"n":"";let ce;throw L>3?f===0||f===BigInt(0)?ce=`>= 0${Z} and < 2${Z} ** ${(L+1)*8}${Z}`:ce=`>= -(2${Z} ** ${(L+1)*8-1}${Z}) and < 2 ** ${(L+1)*8-1}${Z}`:ce=`>= ${f}${Z} and <= ${y}${Z}`,new U.ERR_OUT_OF_RANGE("value",ce,c)}I(N,j,L)}function z(c,f){if(typeof c!="number")throw new U.ERR_INVALID_ARG_TYPE(f,"number",c)}function q(c,f,y){throw Math.floor(c)!==c?(z(c,y),new U.ERR_OUT_OF_RANGE(y||"offset","an integer",c)):f<0?new U.ERR_BUFFER_OUT_OF_BOUNDS:new U.ERR_OUT_OF_RANGE(y||"offset",`>= ${y?1:0} and <= ${f}`,c)}const Ae=/[^+/0-9A-Za-z-_]/g;function re(c){if(c=c.split("=")[0],c=c.trim().replace(Ae,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function ue(c,f){f=f||1/0;let y;const N=c.length;let j=null;const L=[];for(let Z=0;Z<N;++Z){if(y=c.charCodeAt(Z),y>55295&&y<57344){if(!j){if(y>56319){(f-=3)>-1&&L.push(239,191,189);continue}else if(Z+1===N){(f-=3)>-1&&L.push(239,191,189);continue}j=y;continue}if(y<56320){(f-=3)>-1&&L.push(239,191,189),j=y;continue}y=(j-55296<<10|y-56320)+65536}else j&&(f-=3)>-1&&L.push(239,191,189);if(j=null,y<128){if((f-=1)<0)break;L.push(y)}else if(y<2048){if((f-=2)<0)break;L.push(y>>6|192,y&63|128)}else if(y<65536){if((f-=3)<0)break;L.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((f-=4)<0)break;L.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return L}function zt(c){const f=[];for(let y=0;y<c.length;++y)f.push(c.charCodeAt(y)&255);return f}function Re(c,f){let y,N,j;const L=[];for(let Z=0;Z<c.length&&!((f-=2)<0);++Z)y=c.charCodeAt(Z),N=y>>8,j=y%256,L.push(j),L.push(N);return L}function Ne(c){return t.toByteArray(re(c))}function Ht(c,f,y,N){let j;for(j=0;j<N&&!(j+y>=f.length||j>=c.length);++j)f[j+y]=c[j];return j}function ve(c,f){return c instanceof f||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===f.name}function xe(c){return c!==c}const er=function(){const c="0123456789abcdef",f=new Array(256);for(let y=0;y<16;++y){const N=y*16;for(let j=0;j<16;++j)f[N+j]=c[y]+c[j]}return f}();function we(c){return typeof BigInt>"u"?Ie:c}function Ie(){throw new Error("BigInt not supported")}}(Ii),function(e,t){var r=Ii,n=r.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,a,l){return n(o,a,l)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var p=n(o);return a!==void 0?typeof l=="string"?p.fill(a,l):p.fill(a):p.fill(0),p},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(aa,aa.exports);var Ir=aa.exports,Dc=Ir.Buffer;function Ss(e,t){this._block=Dc.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Ss.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Dc.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var a=s%n,l=Math.min(i-o,n-a),p=0;p<l;p++)r[a+p]=e[o+p];s+=l,o+=l,s%n===0&&this._update(r)}return this._len+=i,this},Ss.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},Ss.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var On=Ss,u0=Wt,Fc=On,c0=Ir.Buffer,l0=[1518500249,1859775393,-1894007588,-899497514],h0=new Array(80);function ki(){this.init(),this._w=h0,Fc.call(this,64,56)}u0(ki,Fc),ki.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function d0(e){return e<<5|e>>>27}function f0(e){return e<<30|e>>>2}function p0(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}ki.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var l=0;l<80;++l){var p=~~(l/20),_=d0(r)+p0(p,n,i,s)+o+t[l]+l0[p]|0;o=s,s=i,i=f0(n),n=r,r=_}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0},ki.prototype._hash=function(){var e=c0.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var g0=ki,y0=Wt,Uc=On,m0=Ir.Buffer,b0=[1518500249,1859775393,-1894007588,-899497514],v0=new Array(80);function Ci(){this.init(),this._w=v0,Uc.call(this,64,56)}y0(Ci,Uc),Ci.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function w0(e){return e<<1|e>>>31}function _0(e){return e<<5|e>>>27}function E0(e){return e<<30|e>>>2}function S0(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Ci.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=w0(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var l=0;l<80;++l){var p=~~(l/20),_=_0(r)+S0(p,n,i,s)+o+t[l]+b0[p]|0;o=s,s=i,i=E0(n),n=r,r=_}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0},Ci.prototype._hash=function(){var e=m0.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var M0=Ci,x0=Wt,$c=On,I0=Ir.Buffer,k0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],C0=new Array(64);function Ai(){this.init(),this._w=C0,$c.call(this,64,56)}x0(Ai,$c),Ai.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function A0(e,t,r){return r^e&(t^r)}function R0(e,t,r){return e&t|r&(e|t)}function N0(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function O0(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function j0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function T0(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Ai.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,l=this._g|0,p=this._h|0,_=0;_<16;++_)t[_]=e.readInt32BE(_*4);for(;_<64;++_)t[_]=T0(t[_-2])+t[_-7]+j0(t[_-15])+t[_-16]|0;for(var x=0;x<64;++x){var M=p+O0(o)+A0(o,a,l)+k0[x]+t[x]|0,A=N0(r)+R0(r,n,i)|0;p=l,l=a,a=o,o=s+M|0,s=i,i=n,n=r,r=M+A|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=p+this._h|0},Ai.prototype._hash=function(){var e=I0.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var Vc=Ai,P0=Wt,L0=Vc,B0=On,D0=Ir.Buffer,F0=new Array(64);function Ms(){this.init(),this._w=F0,B0.call(this,64,56)}P0(Ms,L0),Ms.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Ms.prototype._hash=function(){var e=D0.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var U0=Ms,$0=Wt,zc=On,V0=Ir.Buffer,Hc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],z0=new Array(160);function Ri(){this.init(),this._w=z0,zc.call(this,128,112)}$0(Ri,zc),Ri.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Wc(e,t,r){return r^e&(t^r)}function qc(e,t,r){return e&t|r&(e|t)}function Jc(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Gc(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function H0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function W0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function q0(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function J0(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function ot(e,t){return e>>>0<t>>>0?1:0}Ri.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,l=this._gh|0,p=this._hh|0,_=this._al|0,x=this._bl|0,M=this._cl|0,A=this._dl|0,F=this._el|0,D=this._fl|0,H=this._gl|0,C=this._hl|0,T=0;T<32;T+=2)t[T]=e.readInt32BE(T*4),t[T+1]=e.readInt32BE(T*4+4);for(;T<160;T+=2){var P=t[T-30],$=t[T-15*2+1],B=H0(P,$),J=W0($,P);P=t[T-2*2],$=t[T-2*2+1];var ne=q0(P,$),ee=J0($,P),Q=t[T-7*2],pe=t[T-7*2+1],ie=t[T-16*2],ae=t[T-16*2+1],u=J+pe|0,d=B+Q+ot(u,J)|0;u=u+ee|0,d=d+ne+ot(u,ee)|0,u=u+ae|0,d=d+ie+ot(u,ae)|0,t[T]=d,t[T+1]=u}for(var m=0;m<160;m+=2){d=t[m],u=t[m+1];var S=qc(r,n,i),g=qc(_,x,M),v=Jc(r,_),E=Jc(_,r),b=Gc(o,F),h=Gc(F,o),w=Hc[m],V=Hc[m+1],G=Wc(o,a,l),X=Wc(F,D,H),R=C+h|0,O=p+b+ot(R,C)|0;R=R+X|0,O=O+G+ot(R,X)|0,R=R+V|0,O=O+w+ot(R,V)|0,R=R+u|0,O=O+d+ot(R,u)|0;var U=E+g|0,Y=v+S+ot(U,E)|0;p=l,C=H,l=a,H=D,a=o,D=F,F=A+R|0,o=s+O+ot(F,A)|0,s=i,A=M,i=n,M=x,n=r,x=_,_=R+U|0,r=O+Y+ot(_,R)|0}this._al=this._al+_|0,this._bl=this._bl+x|0,this._cl=this._cl+M|0,this._dl=this._dl+A|0,this._el=this._el+F|0,this._fl=this._fl+D|0,this._gl=this._gl+H|0,this._hl=this._hl+C|0,this._ah=this._ah+r+ot(this._al,_)|0,this._bh=this._bh+n+ot(this._bl,x)|0,this._ch=this._ch+i+ot(this._cl,M)|0,this._dh=this._dh+s+ot(this._dl,A)|0,this._eh=this._eh+o+ot(this._el,F)|0,this._fh=this._fh+a+ot(this._fl,D)|0,this._gh=this._gh+l+ot(this._gl,H)|0,this._hh=this._hh+p+ot(this._hl,C)|0},Ri.prototype._hash=function(){var e=V0.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var Zc=Ri,G0=Wt,Z0=Zc,Q0=On,Y0=Ir.Buffer,K0=new Array(160);function xs(){this.init(),this._w=K0,Q0.call(this,128,112)}G0(xs,Z0),xs.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},xs.prototype._hash=function(){var e=Y0.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var X0=xs,Hr=Lc.exports=function(e){e=e.toLowerCase();var t=Hr[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};Hr.sha=g0,Hr.sha1=M0,Hr.sha224=U0,Hr.sha256=Vc,Hr.sha384=X0,Hr.sha512=Zc;var eg=Lc.exports,se={},tg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==n||s.enumerable!==!0)return!1}return!0},Qc=typeof Symbol<"u"&&Symbol,rg=tg,ng=function(){return typeof Qc!="function"||typeof Symbol!="function"||typeof Qc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:rg()},ig="Function.prototype.bind called on incompatible ",la=Array.prototype.slice,sg=Object.prototype.toString,og="[object Function]",ag=function(e){var t=this;if(typeof t!="function"||sg.call(t)!==og)throw new TypeError(ig+t);for(var r=la.call(arguments,1),n,i=function(){if(this instanceof n){var p=t.apply(this,r.concat(la.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,r.concat(la.call(arguments)))},s=Math.max(0,t.length-r.length),o=[],a=0;a<s;a++)o.push("$"+a);if(n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n},ug=ag,ha=Function.prototype.bind||ug,cg=ha,lg=cg.call(Function.call,Object.prototype.hasOwnProperty),_e,jn=SyntaxError,Yc=Function,Tn=TypeError,da=function(e){try{return Yc('"use strict"; return ('+e+").constructor;")()}catch{}},Wr=Object.getOwnPropertyDescriptor;if(Wr)try{Wr({},"")}catch{Wr=null}var fa=function(){throw new Tn},hg=Wr?function(){try{return arguments.callee,fa}catch{try{return Wr(arguments,"callee").get}catch{return fa}}}():fa,Pn=ng(),rr=Object.getPrototypeOf||function(e){return e.__proto__},Ln={},dg=typeof Uint8Array>"u"?_e:rr(Uint8Array),qr={"%AggregateError%":typeof AggregateError>"u"?_e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_e:ArrayBuffer,"%ArrayIteratorPrototype%":Pn?rr([][Symbol.iterator]()):_e,"%AsyncFromSyncIteratorPrototype%":_e,"%AsyncFunction%":Ln,"%AsyncGenerator%":Ln,"%AsyncGeneratorFunction%":Ln,"%AsyncIteratorPrototype%":Ln,"%Atomics%":typeof Atomics>"u"?_e:Atomics,"%BigInt%":typeof BigInt>"u"?_e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?_e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_e:FinalizationRegistry,"%Function%":Yc,"%GeneratorFunction%":Ln,"%Int8Array%":typeof Int8Array>"u"?_e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Pn?rr(rr([][Symbol.iterator]())):_e,"%JSON%":typeof JSON=="object"?JSON:_e,"%Map%":typeof Map>"u"?_e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Pn?_e:rr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_e:Promise,"%Proxy%":typeof Proxy>"u"?_e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?_e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Pn?_e:rr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Pn?rr(""[Symbol.iterator]()):_e,"%Symbol%":Pn?Symbol:_e,"%SyntaxError%":jn,"%ThrowTypeError%":hg,"%TypedArray%":dg,"%TypeError%":Tn,"%Uint8Array%":typeof Uint8Array>"u"?_e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?_e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_e:WeakSet};try{null.error}catch(e){var fg=rr(rr(e));qr["%Error.prototype%"]=fg}var pg=function e(t){var r;if(t==="%AsyncFunction%")r=da("async function () {}");else if(t==="%GeneratorFunction%")r=da("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=da("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(r=rr(i.prototype))}return qr[t]=r,r},Kc={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ni=ha,Is=lg,gg=Ni.call(Function.call,Array.prototype.concat),yg=Ni.call(Function.apply,Array.prototype.splice),Xc=Ni.call(Function.call,String.prototype.replace),ks=Ni.call(Function.call,String.prototype.slice),mg=Ni.call(Function.call,RegExp.prototype.exec),bg=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vg=/\\(\\)?/g,wg=function(e){var t=ks(e,0,1),r=ks(e,-1);if(t==="%"&&r!=="%")throw new jn("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new jn("invalid intrinsic syntax, expected opening `%`");var n=[];return Xc(e,bg,function(i,s,o,a){n[n.length]=o?Xc(a,vg,"$1"):s||i}),n},_g=function(e,t){var r=e,n;if(Is(Kc,r)&&(n=Kc[r],r="%"+n[0]+"%"),Is(qr,r)){var i=qr[r];if(i===Ln&&(i=pg(r)),typeof i>"u"&&!t)throw new Tn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new jn("intrinsic "+e+" does not exist!")},pa=function(e,t){if(typeof e!="string"||e.length===0)throw new Tn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Tn('"allowMissing" argument must be a boolean');if(mg(/^%?[^%]*%?$/,e)===null)throw new jn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=wg(e),n=r.length>0?r[0]:"",i=_g("%"+n+"%",t),s=i.name,o=i.value,a=!1,l=i.alias;l&&(n=l[0],yg(r,gg([0,1],l)));for(var p=1,_=!0;p<r.length;p+=1){var x=r[p],M=ks(x,0,1),A=ks(x,-1);if((M==='"'||M==="'"||M==="`"||A==='"'||A==="'"||A==="`")&&M!==A)throw new jn("property names with quotes must have matching quotes");if((x==="constructor"||!_)&&(a=!0),n+="."+x,s="%"+n+"%",Is(qr,s))o=qr[s];else if(o!=null){if(!(x in o)){if(!t)throw new Tn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Wr&&p+1>=r.length){var F=Wr(o,x);_=!!F,_&&"get"in F&&!("originalValue"in F.get)?o=F.get:o=o[x]}else _=Is(o,x),o=o[x];_&&!a&&(qr[s]=o)}}return o},el={exports:{}};(function(e){var t=ha,r=pa,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||t.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}e.exports=function(_){var x=s(t,i,arguments);if(o&&a){var M=o(x,"length");M.configurable&&a(x,"length",{value:1+l(0,_.length-(arguments.length-1))})}return x};var p=function(){return s(t,n,arguments)};a?a(e.exports,"apply",{value:p}):e.exports.apply=p})(el);var Eg=el.exports,tl=pa,rl=Eg,Sg=rl(tl("String.prototype.indexOf")),Mg=function(e,t){var r=tl(e,!!t);return typeof r=="function"&&Sg(e,".prototype.")>-1?rl(r):r},ga=typeof Map=="function"&&Map.prototype,ya=Object.getOwnPropertyDescriptor&&ga?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Cs=ga&&ya&&typeof ya.get=="function"?ya.get:null,nl=ga&&Map.prototype.forEach,ma=typeof Set=="function"&&Set.prototype,ba=Object.getOwnPropertyDescriptor&&ma?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,As=ma&&ba&&typeof ba.get=="function"?ba.get:null,il=ma&&Set.prototype.forEach,xg=typeof WeakMap=="function"&&WeakMap.prototype,Oi=xg?WeakMap.prototype.has:null,Ig=typeof WeakSet=="function"&&WeakSet.prototype,ji=Ig?WeakSet.prototype.has:null,kg=typeof WeakRef=="function"&&WeakRef.prototype,sl=kg?WeakRef.prototype.deref:null,Cg=Boolean.prototype.valueOf,Ag=Object.prototype.toString,Rg=Function.prototype.toString,Ng=String.prototype.match,va=String.prototype.slice,kr=String.prototype.replace,Og=String.prototype.toUpperCase,ol=String.prototype.toLowerCase,al=RegExp.prototype.test,ul=Array.prototype.concat,nr=Array.prototype.join,jg=Array.prototype.slice,cl=Math.floor,wa=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_a=Object.getOwnPropertySymbols,Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",gt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Bn||"symbol")?Symbol.toStringTag:null,ll=Object.prototype.propertyIsEnumerable,hl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function dl(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||al.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-cl(-e):cl(e);if(n!==e){var i=String(n),s=va.call(t,i.length+1);return kr.call(i,r,"$&_")+"."+kr.call(kr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return kr.call(t,r,"$&_")}var Sa=ms,fl=Sa.custom,pl=ml(fl)?fl:null,Tg=function e(t,r,n,i){var s=r||{};if(Cr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Cr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Cr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Cr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Cr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return vl(t,s);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return a?dl(t,l):l}if(typeof t=="bigint"){var p=String(t)+"n";return a?dl(t,p):p}var _=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=_&&_>0&&typeof t=="object")return Ma(t)?"[Array]":"[Object]";var x=Kg(s,n);if(typeof i>"u")i=[];else if(bl(i,t)>=0)return"[Circular]";function M(u,d,m){if(d&&(i=jg.call(i),i.push(d)),m){var S={depth:s.depth};return Cr(s,"quoteStyle")&&(S.quoteStyle=s.quoteStyle),e(u,S,n+1,i)}return e(u,s,n+1,i)}if(typeof t=="function"&&!yl(t)){var A=zg(t),F=Rs(t,M);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(F.length>0?" { "+nr.call(F,", ")+" }":"")}if(ml(t)){var D=Bn?kr.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ea.call(t);return typeof t=="object"&&!Bn?Ti(D):D}if(Zg(t)){for(var H="<"+ol.call(String(t.nodeName)),C=t.attributes||[],T=0;T<C.length;T++)H+=" "+C[T].name+"="+gl(Pg(C[T].value),"double",s);return H+=">",t.childNodes&&t.childNodes.length&&(H+="..."),H+="</"+ol.call(String(t.nodeName))+">",H}if(Ma(t)){if(t.length===0)return"[]";var P=Rs(t,M);return x&&!Yg(P)?"["+Ia(P,x)+"]":"[ "+nr.call(P,", ")+" ]"}if(Bg(t)){var $=Rs(t,M);return!("cause"in Error.prototype)&&"cause"in t&&!ll.call(t,"cause")?"{ ["+String(t)+"] "+nr.call(ul.call("[cause]: "+M(t.cause),$),", ")+" }":$.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+nr.call($,", ")+" }"}if(typeof t=="object"&&o){if(pl&&typeof t[pl]=="function"&&Sa)return Sa(t,{depth:_-n});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(Hg(t)){var B=[];return nl&&nl.call(t,function(u,d){B.push(M(d,t,!0)+" => "+M(u,t))}),wl("Map",Cs.call(t),B,x)}if(Jg(t)){var J=[];return il&&il.call(t,function(u){J.push(M(u,t))}),wl("Set",As.call(t),J,x)}if(Wg(t))return xa("WeakMap");if(Gg(t))return xa("WeakSet");if(qg(t))return xa("WeakRef");if(Fg(t))return Ti(M(Number(t)));if($g(t))return Ti(M(wa.call(t)));if(Ug(t))return Ti(Cg.call(t));if(Dg(t))return Ti(M(String(t)));if(!Lg(t)&&!yl(t)){var ne=Rs(t,M),ee=hl?hl(t)===Object.prototype:t instanceof Object||t.constructor===Object,Q=t instanceof Object?"":"null prototype",pe=!ee&&gt&&Object(t)===t&&gt in t?va.call(Ar(t),8,-1):Q?"Object":"",ie=ee||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",ae=ie+(pe||Q?"["+nr.call(ul.call([],pe||[],Q||[]),": ")+"] ":"");return ne.length===0?ae+"{}":x?ae+"{"+Ia(ne,x)+"}":ae+"{ "+nr.call(ne,", ")+" }"}return String(t)};function gl(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function Pg(e){return kr.call(String(e),/"/g,"&quot;")}function Ma(e){return Ar(e)==="[object Array]"&&(!gt||!(typeof e=="object"&&gt in e))}function Lg(e){return Ar(e)==="[object Date]"&&(!gt||!(typeof e=="object"&&gt in e))}function yl(e){return Ar(e)==="[object RegExp]"&&(!gt||!(typeof e=="object"&&gt in e))}function Bg(e){return Ar(e)==="[object Error]"&&(!gt||!(typeof e=="object"&&gt in e))}function Dg(e){return Ar(e)==="[object String]"&&(!gt||!(typeof e=="object"&&gt in e))}function Fg(e){return Ar(e)==="[object Number]"&&(!gt||!(typeof e=="object"&&gt in e))}function Ug(e){return Ar(e)==="[object Boolean]"&&(!gt||!(typeof e=="object"&&gt in e))}function ml(e){if(Bn)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Ea)return!1;try{return Ea.call(e),!0}catch{}return!1}function $g(e){if(!e||typeof e!="object"||!wa)return!1;try{return wa.call(e),!0}catch{}return!1}var Vg=Object.prototype.hasOwnProperty||function(e){return e in this};function Cr(e,t){return Vg.call(e,t)}function Ar(e){return Ag.call(e)}function zg(e){if(e.name)return e.name;var t=Ng.call(Rg.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function bl(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Hg(e){if(!Cs||!e||typeof e!="object")return!1;try{Cs.call(e);try{As.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function Wg(e){if(!Oi||!e||typeof e!="object")return!1;try{Oi.call(e,Oi);try{ji.call(e,ji)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function qg(e){if(!sl||!e||typeof e!="object")return!1;try{return sl.call(e),!0}catch{}return!1}function Jg(e){if(!As||!e||typeof e!="object")return!1;try{As.call(e);try{Cs.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function Gg(e){if(!ji||!e||typeof e!="object")return!1;try{ji.call(e,ji);try{Oi.call(e,Oi)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function Zg(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function vl(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return vl(va.call(e,0,t.maxStringLength),t)+n}var i=kr.call(kr.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qg);return gl(i,"single",t)}function Qg(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+Og.call(t.toString(16))}function Ti(e){return"Object("+e+")"}function xa(e){return e+" { ? }"}function wl(e,t,r,n){var i=n?Ia(r,n):nr.call(r,", ");return e+" ("+t+") {"+i+"}"}function Yg(e){for(var t=0;t<e.length;t++)if(bl(e[t],`
`)>=0)return!1;return!0}function Kg(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=nr.call(Array(e.indent+1)," ");else return null;return{base:r,prev:nr.call(Array(t+1),r)}}function Ia(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+nr.call(e,","+r)+`
`+t.prev}function Rs(e,t){var r=Ma(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=Cr(e,i)?t(e[i],e):""}var s=typeof _a=="function"?_a(e):[],o;if(Bn){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)Cr(e,l)&&(r&&String(Number(l))===l&&l<e.length||Bn&&o["$"+l]instanceof Symbol||(al.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if(typeof _a=="function")for(var p=0;p<s.length;p++)ll.call(e,s[p])&&n.push("["+t(s[p])+"]: "+t(e[s[p]],e));return n}var ka=pa,Dn=Mg,Xg=Tg,e1=ka("%TypeError%"),Ns=ka("%WeakMap%",!0),Os=ka("%Map%",!0),t1=Dn("WeakMap.prototype.get",!0),r1=Dn("WeakMap.prototype.set",!0),n1=Dn("WeakMap.prototype.has",!0),i1=Dn("Map.prototype.get",!0),s1=Dn("Map.prototype.set",!0),o1=Dn("Map.prototype.has",!0),Ca=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},a1=function(e,t){var r=Ca(e,t);return r&&r.value},u1=function(e,t,r){var n=Ca(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},c1=function(e,t){return!!Ca(e,t)},l1=function(){var e,t,r,n={assert:function(i){if(!n.has(i))throw new e1("Side channel does not contain "+Xg(i))},get:function(i){if(Ns&&i&&(typeof i=="object"||typeof i=="function")){if(e)return t1(e,i)}else if(Os){if(t)return i1(t,i)}else if(r)return a1(r,i)},has:function(i){if(Ns&&i&&(typeof i=="object"||typeof i=="function")){if(e)return n1(e,i)}else if(Os){if(t)return o1(t,i)}else if(r)return c1(r,i);return!1},set:function(i,s){Ns&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new Ns),r1(e,i,s)):Os?(t||(t=new Os),s1(t,i,s)):(r||(r={key:{},next:null}),u1(r,i,s))}};return n},h1=String.prototype.replace,d1=/%20/g,Aa={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ra={default:Aa.RFC3986,formatters:{RFC1738:function(e){return h1.call(e,d1,"+")},RFC3986:function(e){return String(e)}},RFC1738:Aa.RFC1738,RFC3986:Aa.RFC3986},f1=Ra,Na=Object.prototype.hasOwnProperty,Jr=Array.isArray,ir=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),p1=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Jr(r)){for(var n=[],i=0;i<r.length;++i)typeof r[i]<"u"&&n.push(r[i]);t.obj[t.prop]=n}}},_l=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(r[n]=e[n]);return r},g1=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(Jr(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Na.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return Jr(t)&&!Jr(r)&&(i=_l(t,n)),Jr(t)&&Jr(r)?(r.forEach(function(s,o){if(Na.call(t,o)){var a=t[o];a&&typeof a=="object"&&s&&typeof s=="object"?t[o]=e(a,s,n):t.push(s)}else t[o]=s}),t):Object.keys(r).reduce(function(s,o){var a=r[o];return Na.call(s,o)?s[o]=e(s[o],a,n):s[o]=a,s},i)},y1=function(e,t){return Object.keys(t).reduce(function(r,n){return r[n]=t[n],r},e)},m1=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},b1=function(e,t,r,n,i){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var o="",a=0;a<s.length;++a){var l=s.charCodeAt(a);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===f1.RFC1738&&(l===40||l===41)){o+=s.charAt(a);continue}if(l<128){o=o+ir[l];continue}if(l<2048){o=o+(ir[192|l>>6]+ir[128|l&63]);continue}if(l<55296||l>=57344){o=o+(ir[224|l>>12]+ir[128|l>>6&63]+ir[128|l&63]);continue}a+=1,l=65536+((l&1023)<<10|s.charCodeAt(a)&1023),o+=ir[240|l>>18]+ir[128|l>>12&63]+ir[128|l>>6&63]+ir[128|l&63]}return o},v1=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],o=Object.keys(s),a=0;a<o.length;++a){var l=o[a],p=s[l];typeof p=="object"&&p!==null&&r.indexOf(p)===-1&&(t.push({obj:s,prop:l}),r.push(p))}return p1(t),e},w1=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_1=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},E1=function(e,t){return[].concat(e,t)},S1=function(e,t){if(Jr(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},El={arrayToObject:_l,assign:y1,combine:E1,compact:v1,decode:m1,encode:b1,isBuffer:_1,isRegExp:w1,maybeMap:S1,merge:g1},Sl=l1,js=El,Pi=Ra,M1=Object.prototype.hasOwnProperty,Ml={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},yr=Array.isArray,x1=Array.prototype.push,xl=function(e,t){x1.apply(e,yr(t)?t:[t])},I1=Date.prototype.toISOString,Il=Pi.default,yt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:js.encode,encodeValuesOnly:!1,format:Il,formatter:Pi.formatters[Il],indices:!1,serializeDate:function(e){return I1.call(e)},skipNulls:!1,strictNullHandling:!1},k1=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Oa={},C1=function e(t,r,n,i,s,o,a,l,p,_,x,M,A,F,D,H){for(var C=t,T=H,P=0,$=!1;(T=T.get(Oa))!==void 0&&!$;){var B=T.get(t);if(P+=1,typeof B<"u"){if(B===P)throw new RangeError("Cyclic object value");$=!0}typeof T.get(Oa)>"u"&&(P=0)}if(typeof l=="function"?C=l(r,C):C instanceof Date?C=x(C):n==="comma"&&yr(C)&&(C=js.maybeMap(C,function(S){return S instanceof Date?x(S):S})),C===null){if(s)return a&&!F?a(r,yt.encoder,D,"key",M):r;C=""}if(k1(C)||js.isBuffer(C)){if(a){var J=F?r:a(r,yt.encoder,D,"key",M);return[A(J)+"="+A(a(C,yt.encoder,D,"value",M))]}return[A(r)+"="+A(String(C))]}var ne=[];if(typeof C>"u")return ne;var ee;if(n==="comma"&&yr(C))F&&a&&(C=js.maybeMap(C,a)),ee=[{value:C.length>0?C.join(",")||null:void 0}];else if(yr(l))ee=l;else{var Q=Object.keys(C);ee=p?Q.sort(p):Q}for(var pe=i&&yr(C)&&C.length===1?r+"[]":r,ie=0;ie<ee.length;++ie){var ae=ee[ie],u=typeof ae=="object"&&typeof ae.value<"u"?ae.value:C[ae];if(!(o&&u===null)){var d=yr(C)?typeof n=="function"?n(pe,ae):pe:pe+(_?"."+ae:"["+ae+"]");H.set(t,P);var m=Sl();m.set(Oa,H),xl(ne,e(u,d,n,i,s,o,n==="comma"&&F&&yr(C)?null:a,l,p,_,x,M,A,F,D,m))}}return ne},A1=function(e){if(!e)return yt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||yt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Pi.default;if(typeof e.format<"u"){if(!M1.call(Pi.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=Pi.formatters[r],i=yt.filter;return(typeof e.filter=="function"||yr(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:yt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?yt.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:yt.charsetSentinel,delimiter:typeof e.delimiter>"u"?yt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:yt.encode,encoder:typeof e.encoder=="function"?e.encoder:yt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:yt.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:yt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:yt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:yt.strictNullHandling}},R1=function(e,t){var r=e,n=A1(t),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):yr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;t&&t.arrayFormat in Ml?a=t.arrayFormat:t&&"indices"in t?a=t.indices?"indices":"repeat":a="indices";var l=Ml[a];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var p=l==="comma"&&t&&t.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var _=Sl(),x=0;x<i.length;++x){var M=i[x];n.skipNulls&&r[M]===null||xl(o,C1(r[M],M,l,p,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,_))}var A=o.join(n.delimiter),F=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),A.length>0?F+A:""},Fn=El,ja=Object.prototype.hasOwnProperty,N1=Array.isArray,at={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Fn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},O1=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},kl=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},j1="utf8=%26%2310003%3B",T1="utf8=%E2%9C%93",P1=function(e,t){var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,i),o=-1,a,l=t.charset;if(t.charsetSentinel)for(a=0;a<s.length;++a)s[a].indexOf("utf8=")===0&&(s[a]===T1?l="utf-8":s[a]===j1&&(l="iso-8859-1"),o=a,a=s.length);for(a=0;a<s.length;++a)if(a!==o){var p=s[a],_=p.indexOf("]="),x=_===-1?p.indexOf("="):_+1,M,A;x===-1?(M=t.decoder(p,at.decoder,l,"key"),A=t.strictNullHandling?null:""):(M=t.decoder(p.slice(0,x),at.decoder,l,"key"),A=Fn.maybeMap(kl(p.slice(x+1),t),function(F){return t.decoder(F,at.decoder,l,"value")})),A&&t.interpretNumericEntities&&l==="iso-8859-1"&&(A=O1(A)),p.indexOf("[]=")>-1&&(A=N1(A)?[A]:A),ja.call(r,M)?r[M]=Fn.combine(r[M],A):r[M]=A}return r},L1=function(e,t,r,n){for(var i=n?t:kl(t,r),s=e.length-1;s>=0;--s){var o,a=e[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,p=parseInt(l,10);!r.parseArrays&&l===""?o={0:i}:!isNaN(p)&&a!==l&&String(p)===l&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(o=[],o[p]=i):l!=="__proto__"&&(o[l]=i)}i=o}return i},B1=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,a=r.depth>0&&s.exec(i),l=a?i.slice(0,a.index):i,p=[];if(l){if(!r.plainObjects&&ja.call(Object.prototype,l)&&!r.allowPrototypes)return;p.push(l)}for(var _=0;r.depth>0&&(a=o.exec(i))!==null&&_<r.depth;){if(_+=1,!r.plainObjects&&ja.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;p.push(a[1])}return a&&p.push("["+i.slice(a.index)+"]"),L1(p,t,r,n)}},D1=function(e){if(!e)return at;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?at.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?at.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:at.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:at.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:at.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:at.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:at.comma,decoder:typeof e.decoder=="function"?e.decoder:at.decoder,delimiter:typeof e.delimiter=="string"||Fn.isRegExp(e.delimiter)?e.delimiter:at.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:at.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:at.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:at.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:at.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:at.strictNullHandling}},F1=function(e,t){var r=D1(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?P1(e,r):e,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=B1(a,n[a],r,typeof e=="string");i=Fn.merge(i,l,r)}return r.allowSparse===!0?i:Fn.compact(i)},U1=R1,$1=F1,V1=Ra,z1={formats:V1,parse:$1,stringify:U1},Li={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProviderType=e.RegExpString=e.IntNumber=e.BigIntString=e.AddressString=e.HexString=e.OpaqueType=void 0;function t(){return n=>n}e.OpaqueType=t,e.HexString=t(),e.AddressString=t(),e.BigIntString=t();function r(n){return Math.floor(n)}e.IntNumber=r,e.RegExpString=t(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(e.ProviderType||(e.ProviderType={}))})(Li);var H1=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(se,"__esModule",{value:!0}),se.isInIFrame=se.createQrUrl=se.getFavicon=se.range=se.isBigNumber=se.ensureParsedJSONObject=se.ensureBN=se.ensureRegExpString=se.ensureIntNumber=se.ensureBuffer=se.ensureAddressString=se.ensureEvenLengthHexString=se.ensureHexString=se.isHexString=se.prepend0x=se.strip0x=se.has0xPrefix=se.hexStringFromIntNumber=se.intNumberFromHexString=se.bigIntStringFromBN=se.hexStringFromBuffer=se.hexStringToUint8Array=se.uint8ArrayToHex=se.randomBytesHex=void 0;const Rr=H1(bs),W1=z1,Tt=Li,Cl=/^[0-9]*$/,Al=/^[a-f0-9]*$/;function q1(e){return Rl(crypto.getRandomValues(new Uint8Array(e)))}se.randomBytesHex=q1;function Rl(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}se.uint8ArrayToHex=Rl;function J1(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}se.hexStringToUint8Array=J1;function G1(e,t=!1){const r=e.toString("hex");return(0,Tt.HexString)(t?"0x"+r:r)}se.hexStringFromBuffer=G1;function Z1(e){return(0,Tt.BigIntString)(e.toString(10))}se.bigIntStringFromBN=Z1;function Q1(e){return(0,Tt.IntNumber)(new Rr.default(Di(e,!1),16).toNumber())}se.intNumberFromHexString=Q1;function Y1(e){return(0,Tt.HexString)("0x"+new Rr.default(e).toString(16))}se.hexStringFromIntNumber=Y1;function Ta(e){return e.startsWith("0x")||e.startsWith("0X")}se.has0xPrefix=Ta;function Ts(e){return Ta(e)?e.slice(2):e}se.strip0x=Ts;function Nl(e){return Ta(e)?"0x"+e.slice(2):"0x"+e}se.prepend0x=Nl;function Bi(e){if(typeof e!="string")return!1;const t=Ts(e).toLowerCase();return Al.test(t)}se.isHexString=Bi;function Ol(e,t=!1){if(typeof e=="string"){const r=Ts(e).toLowerCase();if(Al.test(r))return(0,Tt.HexString)(t?"0x"+r:r)}throw new Error(`"${String(e)}" is not a hexadecimal string`)}se.ensureHexString=Ol;function Di(e,t=!1){let r=Ol(e,!1);return r.length%2===1&&(r=(0,Tt.HexString)("0"+r)),t?(0,Tt.HexString)("0x"+r):r}se.ensureEvenLengthHexString=Di;function K1(e){if(typeof e=="string"){const t=Ts(e).toLowerCase();if(Bi(t)&&t.length===40)return(0,Tt.AddressString)(Nl(t))}throw new Error(`Invalid Ethereum address: ${String(e)}`)}se.ensureAddressString=K1;function X1(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string")if(Bi(e)){const t=Di(e,!1);return Buffer.from(t,"hex")}else return Buffer.from(e,"utf8");throw new Error(`Not binary data: ${String(e)}`)}se.ensureBuffer=X1;function jl(e){if(typeof e=="number"&&Number.isInteger(e))return(0,Tt.IntNumber)(e);if(typeof e=="string"){if(Cl.test(e))return(0,Tt.IntNumber)(Number(e));if(Bi(e))return(0,Tt.IntNumber)(new Rr.default(Di(e,!1),16).toNumber())}throw new Error(`Not an integer: ${String(e)}`)}se.ensureIntNumber=jl;function ey(e){if(e instanceof RegExp)return(0,Tt.RegExpString)(e.toString());throw new Error(`Not a RegExp: ${String(e)}`)}se.ensureRegExpString=ey;function ty(e){if(e!==null&&(Rr.default.isBN(e)||Tl(e)))return new Rr.default(e.toString(10),10);if(typeof e=="number")return new Rr.default(jl(e));if(typeof e=="string"){if(Cl.test(e))return new Rr.default(e,10);if(Bi(e))return new Rr.default(Di(e,!1),16)}throw new Error(`Not an integer: ${String(e)}`)}se.ensureBN=ty;function ry(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw new Error(`Not a JSON string or an object: ${String(e)}`)}se.ensureParsedJSONObject=ry;function Tl(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}se.isBigNumber=Tl;function ny(e,t){return Array.from({length:t-e},(r,n)=>e+n)}se.range=ny;function iy(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}se.getFavicon=iy;function sy(e,t,r,n,i,s){const o=n?"parent-id":"id",a=(0,W1.stringify)({[o]:e,secret:t,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}se.createQrUrl=sy;function oy(){try{return window.frameElement!==null}catch{return!1}}se.isInIFrame=oy,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.Session=void 0;const Pl=eg,Ll=se,Bl="session:id",Dl="session:secret",Fl="session:linked";class Pa{constructor(t,r,n,i){this._storage=t,this._id=r||(0,Ll.randomBytesHex)(16),this._secret=n||(0,Ll.randomBytesHex)(32),this._key=new Pl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(t){const r=t.getItem(Bl),n=t.getItem(Fl),i=t.getItem(Dl);return r&&i?new Pa(t,r,i,n==="1"):null}static hash(t){return new Pl.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(Bl,this._id),this._storage.setItem(Dl,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Fl,this._linked?"1":"0")}}Rn.Session=Pa;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.WalletSDKRelayAbstract=qt.APP_VERSION_KEY=qt.LOCAL_STORAGE_ADDRESSES_KEY=qt.WALLET_USER_NAME_KEY=void 0;const Ul=vs;qt.WALLET_USER_NAME_KEY="walletUsername",qt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",qt.APP_VERSION_KEY="AppVersion";class ay{async makeEthereumJSONRPCRequest(t,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Ul.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Ul.serializeError)(s);return i})}}qt.WalletSDKRelayAbstract=ay;var La={exports:{}},$l=Ic.EventEmitter,Ba,Vl;function uy(){if(Vl)return Ba;Vl=1;function e(F,D){var H=Object.keys(F);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(F);D&&(C=C.filter(function(T){return Object.getOwnPropertyDescriptor(F,T).enumerable})),H.push.apply(H,C)}return H}function t(F){for(var D=1;D<arguments.length;D++){var H=arguments[D]!=null?arguments[D]:{};D%2?e(Object(H),!0).forEach(function(C){r(F,C,H[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(H)):e(Object(H)).forEach(function(C){Object.defineProperty(F,C,Object.getOwnPropertyDescriptor(H,C))})}return F}function r(F,D,H){return D=o(D),D in F?Object.defineProperty(F,D,{value:H,enumerable:!0,configurable:!0,writable:!0}):F[D]=H,F}function n(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function i(F,D){for(var H=0;H<D.length;H++){var C=D[H];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(F,o(C.key),C)}}function s(F,D,H){return D&&i(F.prototype,D),H&&i(F,H),Object.defineProperty(F,"prototype",{writable:!1}),F}function o(F){var D=a(F,"string");return typeof D=="symbol"?D:String(D)}function a(F,D){if(typeof F!="object"||F===null)return F;var H=F[Symbol.toPrimitive];if(H!==void 0){var C=H.call(F,D||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(F)}var l=Ii,p=l.Buffer,_=ms,x=_.inspect,M=x&&x.custom||"inspect";function A(F,D,H){p.prototype.copy.call(F,D,H)}return Ba=function(){function F(){n(this,F),this.head=null,this.tail=null,this.length=0}return s(F,[{key:"push",value:function(D){var H={data:D,next:null};this.length>0?this.tail.next=H:this.head=H,this.tail=H,++this.length}},{key:"unshift",value:function(D){var H={data:D,next:this.head};this.length===0&&(this.tail=H),this.head=H,++this.length}},{key:"shift",value:function(){if(this.length!==0){var D=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,D}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(D){if(this.length===0)return"";for(var H=this.head,C=""+H.data;H=H.next;)C+=D+H.data;return C}},{key:"concat",value:function(D){if(this.length===0)return p.alloc(0);for(var H=p.allocUnsafe(D>>>0),C=this.head,T=0;C;)A(C.data,H,T),T+=C.data.length,C=C.next;return H}},{key:"consume",value:function(D,H){var C;return D<this.head.data.length?(C=this.head.data.slice(0,D),this.head.data=this.head.data.slice(D)):D===this.head.data.length?C=this.shift():C=H?this._getString(D):this._getBuffer(D),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(D){var H=this.head,C=1,T=H.data;for(D-=T.length;H=H.next;){var P=H.data,$=D>P.length?P.length:D;if($===P.length?T+=P:T+=P.slice(0,D),D-=$,D===0){$===P.length?(++C,H.next?this.head=H.next:this.head=this.tail=null):(this.head=H,H.data=P.slice($));break}++C}return this.length-=C,T}},{key:"_getBuffer",value:function(D){var H=p.allocUnsafe(D),C=this.head,T=1;for(C.data.copy(H),D-=C.data.length;C=C.next;){var P=C.data,$=D>P.length?P.length:D;if(P.copy(H,H.length-D,0,$),D-=$,D===0){$===P.length?(++T,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=P.slice($));break}++T}return this.length-=T,H}},{key:M,value:function(D,H){return x(this,t(t({},H),{},{depth:0,customInspect:!1}))}}]),F}(),Ba}function cy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Da,this,e)):process.nextTick(Da,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Ps,r):(r._writableState.errorEmitted=!0,process.nextTick(zl,r,s)):process.nextTick(zl,r,s):t?(process.nextTick(Ps,r),t(s)):process.nextTick(Ps,r)}),this)}function zl(e,t){Da(e,t),Ps(e)}function Ps(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function ly(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Da(e,t){e.emit("error",t)}function hy(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var Hl={destroy:cy,undestroy:ly,errorOrDestroy:hy},Gr={};function dy(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Wl={};function Pt(e,t,r){r||(r=Error);function n(s,o,a){return typeof t=="string"?t:t(s,o,a)}var i=function(s){dy(o,s);function o(a,l,p){return s.call(this,n(a,l,p))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=e,Wl[e]=i}function ql(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function fy(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function py(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function gy(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Pt("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),Pt("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&fy(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(py(e," argument"))i="The ".concat(e," ").concat(n," ").concat(ql(t,"type"));else{var s=gy(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(ql(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),Pt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Pt("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),Pt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Pt("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),Pt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Pt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Pt("ERR_STREAM_WRITE_AFTER_END","write after end"),Pt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Pt("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),Pt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Gr.codes=Wl;var yy=Gr.codes.ERR_INVALID_OPT_VALUE;function my(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function by(e,t,r,n){var i=my(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new yy(s,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var Jl={getHighWaterMark:by},vy=wy;function wy(e,t){if(Fa("noDeprecation"))return e;var r=!1;function n(){if(!r){if(Fa("throwDeprecation"))throw new Error(t);Fa("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function Fa(e){try{if(!te.localStorage)return!1}catch{return!1}var t=te.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var Ua,Gl;function Zl(){if(Gl)return Ua;Gl=1,Ua=ee;function e(R){var O=this;this.next=null,this.entry=null,this.finish=function(){X(O,R)}}var t;ee.WritableState=J;var r={deprecate:vy},n=$l,i=Ii.Buffer,s=(typeof te<"u"?te:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(R){return i.from(R)}function a(R){return i.isBuffer(R)||R instanceof s}var l=Hl,p=Jl,_=p.getHighWaterMark,x=Gr.codes,M=x.ERR_INVALID_ARG_TYPE,A=x.ERR_METHOD_NOT_IMPLEMENTED,F=x.ERR_MULTIPLE_CALLBACK,D=x.ERR_STREAM_CANNOT_PIPE,H=x.ERR_STREAM_DESTROYED,C=x.ERR_STREAM_NULL_VALUES,T=x.ERR_STREAM_WRITE_AFTER_END,P=x.ERR_UNKNOWN_ENCODING,$=l.errorOrDestroy;Wt(ee,n);function B(){}function J(R,O,U){t=t||Un(),R=R||{},typeof U!="boolean"&&(U=O instanceof t),this.objectMode=!!R.objectMode,U&&(this.objectMode=this.objectMode||!!R.writableObjectMode),this.highWaterMark=_(this,R,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=R.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){S(O,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}J.prototype.getBuffer=function(){for(var R=this.bufferedRequest,O=[];R;)O.push(R),R=R.next;return O},function(){try{Object.defineProperty(J.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ne;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ne=Function.prototype[Symbol.hasInstance],Object.defineProperty(ee,Symbol.hasInstance,{value:function(R){return ne.call(this,R)?!0:this!==ee?!1:R&&R._writableState instanceof J}})):ne=function(R){return R instanceof this};function ee(R){t=t||Un();var O=this instanceof t;if(!O&&!ne.call(ee,this))return new ee(R);this._writableState=new J(R,this,O),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),n.call(this)}ee.prototype.pipe=function(){$(this,new D)};function Q(R,O){var U=new T;$(R,U),process.nextTick(O,U)}function pe(R,O,U,Y){var K;return U===null?K=new C:typeof U!="string"&&!O.objectMode&&(K=new M("chunk",["string","Buffer"],U)),K?($(R,K),process.nextTick(Y,K),!1):!0}ee.prototype.write=function(R,O,U){var Y=this._writableState,K=!1,I=!Y.objectMode&&a(R);return I&&!i.isBuffer(R)&&(R=o(R)),typeof O=="function"&&(U=O,O=null),I?O="buffer":O||(O=Y.defaultEncoding),typeof U!="function"&&(U=B),Y.ending?Q(this,U):(I||pe(this,Y,R,U))&&(Y.pendingcb++,K=ae(this,Y,I,R,O,U)),K},ee.prototype.cork=function(){this._writableState.corked++},ee.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&E(this,R))},ee.prototype.setDefaultEncoding=function(R){if(typeof R=="string"&&(R=R.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((R+"").toLowerCase())>-1))throw new P(R);return this._writableState.defaultEncoding=R,this},Object.defineProperty(ee.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ie(R,O,U){return!R.objectMode&&R.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,U)),O}Object.defineProperty(ee.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ae(R,O,U,Y,K,I){if(!U){var k=ie(O,Y,K);Y!==k&&(U=!0,K="buffer",Y=k)}var z=O.objectMode?1:Y.length;O.length+=z;var q=O.length<O.highWaterMark;if(q||(O.needDrain=!0),O.writing||O.corked){var Ae=O.lastBufferedRequest;O.lastBufferedRequest={chunk:Y,encoding:K,isBuf:U,callback:I,next:null},Ae?Ae.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else u(R,O,!1,z,Y,K,I);return q}function u(R,O,U,Y,K,I,k){O.writelen=Y,O.writecb=k,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new H("write")):U?R._writev(K,O.onwrite):R._write(K,I,O.onwrite),O.sync=!1}function d(R,O,U,Y,K){--O.pendingcb,U?(process.nextTick(K,Y),process.nextTick(V,R,O),R._writableState.errorEmitted=!0,$(R,Y)):(K(Y),R._writableState.errorEmitted=!0,$(R,Y),V(R,O))}function m(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function S(R,O){var U=R._writableState,Y=U.sync,K=U.writecb;if(typeof K!="function")throw new F;if(m(U),O)d(R,U,Y,O,K);else{var I=b(U)||R.destroyed;!I&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&E(R,U),Y?process.nextTick(g,R,U,I,K):g(R,U,I,K)}}function g(R,O,U,Y){U||v(R,O),O.pendingcb--,Y(),V(R,O)}function v(R,O){O.length===0&&O.needDrain&&(O.needDrain=!1,R.emit("drain"))}function E(R,O){O.bufferProcessing=!0;var U=O.bufferedRequest;if(R._writev&&U&&U.next){var Y=O.bufferedRequestCount,K=new Array(Y),I=O.corkedRequestsFree;I.entry=U;for(var k=0,z=!0;U;)K[k]=U,U.isBuf||(z=!1),U=U.next,k+=1;K.allBuffers=z,u(R,O,!0,O.length,K,"",I.finish),O.pendingcb++,O.lastBufferedRequest=null,I.next?(O.corkedRequestsFree=I.next,I.next=null):O.corkedRequestsFree=new e(O),O.bufferedRequestCount=0}else{for(;U;){var q=U.chunk,Ae=U.encoding,re=U.callback,ue=O.objectMode?1:q.length;if(u(R,O,!1,ue,q,Ae,re),U=U.next,O.bufferedRequestCount--,O.writing)break}U===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=U,O.bufferProcessing=!1}ee.prototype._write=function(R,O,U){U(new A("_write()"))},ee.prototype._writev=null,ee.prototype.end=function(R,O,U){var Y=this._writableState;return typeof R=="function"?(U=R,R=null,O=null):typeof O=="function"&&(U=O,O=null),R!=null&&this.write(R,O),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||G(this,Y,U),this},Object.defineProperty(ee.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function b(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function h(R,O){R._final(function(U){O.pendingcb--,U&&$(R,U),O.prefinished=!0,R.emit("prefinish"),V(R,O)})}function w(R,O){!O.prefinished&&!O.finalCalled&&(typeof R._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,process.nextTick(h,R,O)):(O.prefinished=!0,R.emit("prefinish")))}function V(R,O){var U=b(O);if(U&&(w(R,O),O.pendingcb===0&&(O.finished=!0,R.emit("finish"),O.autoDestroy))){var Y=R._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&R.destroy()}return U}function G(R,O,U){O.ending=!0,V(R,O),U&&(O.finished?process.nextTick(U):R.once("finish",U)),O.ended=!0,R.writable=!1}function X(R,O,U){var Y=R.entry;for(R.entry=null;Y;){var K=Y.callback;O.pendingcb--,K(U),Y=Y.next}O.corkedRequestsFree.next=R}return Object.defineProperty(ee.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),ee.prototype.destroy=l.destroy,ee.prototype._undestroy=l.undestroy,ee.prototype._destroy=function(R,O){O(R)},Ua}var $a,Ql;function Un(){if(Ql)return $a;Ql=1;var e=Object.keys||function(p){var _=[];for(var x in p)_.push(x);return _};$a=o;var t=sh(),r=Zl();Wt(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(p){if(!(this instanceof o))return new o(p);t.call(this,p),r.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(l,this)}function l(p){p.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),$a}var Va={},Yl;function Kl(){if(Yl)return Va;Yl=1;var e=Ir.Buffer,t=e.isEncoding||function(C){switch(C=""+C,C&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(C){if(!C)return"utf8";for(var T;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(T)return;C=(""+C).toLowerCase(),T=!0}}function n(C){var T=r(C);if(typeof T!="string"&&(e.isEncoding===t||!t(C)))throw new Error("Unknown encoding: "+C);return T||C}Va.StringDecoder=i;function i(C){this.encoding=n(C);var T;switch(this.encoding){case"utf16le":this.text=x,this.end=M,T=4;break;case"utf8":this.fillLast=l,T=4;break;case"base64":this.text=A,this.end=F,T=3;break;default:this.write=D,this.end=H;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(T)}i.prototype.write=function(C){if(C.length===0)return"";var T,P;if(this.lastNeed){if(T=this.fillLast(C),T===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<C.length?T?T+this.text(C,P):this.text(C,P):T||""},i.prototype.end=_,i.prototype.text=p,i.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length};function s(C){return C<=127?0:C>>5===6?2:C>>4===14?3:C>>3===30?4:C>>6===2?-1:-2}function o(C,T,P){var $=T.length-1;if($<P)return 0;var B=s(T[$]);return B>=0?(B>0&&(C.lastNeed=B-1),B):--$<P||B===-2?0:(B=s(T[$]),B>=0?(B>0&&(C.lastNeed=B-2),B):--$<P||B===-2?0:(B=s(T[$]),B>=0?(B>0&&(B===2?B=0:C.lastNeed=B-3),B):0))}function a(C,T,P){if((T[0]&192)!==128)return C.lastNeed=0,"\uFFFD";if(C.lastNeed>1&&T.length>1){if((T[1]&192)!==128)return C.lastNeed=1,"\uFFFD";if(C.lastNeed>2&&T.length>2&&(T[2]&192)!==128)return C.lastNeed=2,"\uFFFD"}}function l(C){var T=this.lastTotal-this.lastNeed,P=a(this,C);if(P!==void 0)return P;if(this.lastNeed<=C.length)return C.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,T,0,C.length),this.lastNeed-=C.length}function p(C,T){var P=o(this,C,T);if(!this.lastNeed)return C.toString("utf8",T);this.lastTotal=P;var $=C.length-(P-this.lastNeed);return C.copy(this.lastChar,0,$),C.toString("utf8",T,$)}function _(C){var T=C&&C.length?this.write(C):"";return this.lastNeed?T+"\uFFFD":T}function x(C,T){if((C.length-T)%2===0){var P=C.toString("utf16le",T);if(P){var $=P.charCodeAt(P.length-1);if($>=55296&&$<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",T,C.length-1)}function M(C){var T=C&&C.length?this.write(C):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,P)}return T}function A(C,T){var P=(C.length-T)%3;return P===0?C.toString("base64",T):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",T,C.length-P))}function F(C){var T=C&&C.length?this.write(C):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function D(C){return C.toString(this.encoding)}function H(C){return C&&C.length?this.write(C):""}return Va}var Xl=Gr.codes.ERR_STREAM_PREMATURE_CLOSE;function _y(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function Ey(){}function Sy(e){return e.setHeader&&typeof e.abort=="function"}function eh(e,t,r){if(typeof t=="function")return eh(e,null,t);t||(t={}),r=_y(r||Ey);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,s=function(){e.writable||a()},o=e._writableState&&e._writableState.finished,a=function(){i=!1,o=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,p=function(){n=!1,l=!0,i||r.call(e)},_=function(A){r.call(e,A)},x=function(){var A;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(A=new Xl),r.call(e,A);if(i&&!o)return(!e._writableState||!e._writableState.ended)&&(A=new Xl),r.call(e,A)},M=function(){e.req.on("finish",a)};return Sy(e)?(e.on("complete",a),e.on("abort",x),e.req?M():e.on("request",M)):i&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",p),e.on("finish",a),t.error!==!1&&e.on("error",_),e.on("close",x),function(){e.removeListener("complete",a),e.removeListener("abort",x),e.removeListener("request",M),e.req&&e.req.removeListener("finish",a),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",a),e.removeListener("end",p),e.removeListener("error",_),e.removeListener("close",x)}}var za=eh,Ha,th;function My(){if(th)return Ha;th=1;var e;function t(P,$,B){return $=r($),$ in P?Object.defineProperty(P,$,{value:B,enumerable:!0,configurable:!0,writable:!0}):P[$]=B,P}function r(P){var $=n(P,"string");return typeof $=="symbol"?$:String($)}function n(P,$){if(typeof P!="object"||P===null)return P;var B=P[Symbol.toPrimitive];if(B!==void 0){var J=B.call(P,$||"default");if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(P)}var i=za,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),l=Symbol("ended"),p=Symbol("lastPromise"),_=Symbol("handlePromise"),x=Symbol("stream");function M(P,$){return{value:P,done:$}}function A(P){var $=P[s];if($!==null){var B=P[x].read();B!==null&&(P[p]=null,P[s]=null,P[o]=null,$(M(B,!1)))}}function F(P){process.nextTick(A,P)}function D(P,$){return function(B,J){P.then(function(){if($[l]){B(M(void 0,!0));return}$[_](B,J)},J)}}var H=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((e={get stream(){return this[x]},next:function(){var P=this,$=this[a];if($!==null)return Promise.reject($);if(this[l])return Promise.resolve(M(void 0,!0));if(this[x].destroyed)return new Promise(function(ee,Q){process.nextTick(function(){P[a]?Q(P[a]):ee(M(void 0,!0))})});var B=this[p],J;if(B)J=new Promise(D(B,this));else{var ne=this[x].read();if(ne!==null)return Promise.resolve(M(ne,!1));J=new Promise(this[_])}return this[p]=J,J}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var P=this;return new Promise(function($,B){P[x].destroy(null,function(J){if(J){B(J);return}$(M(void 0,!0))})})}),e),H),T=function(P){var $,B=Object.create(C,($={},t($,x,{value:P,writable:!0}),t($,s,{value:null,writable:!0}),t($,o,{value:null,writable:!0}),t($,a,{value:null,writable:!0}),t($,l,{value:P._readableState.endEmitted,writable:!0}),t($,_,{value:function(J,ne){var ee=B[x].read();ee?(B[p]=null,B[s]=null,B[o]=null,J(M(ee,!1))):(B[s]=J,B[o]=ne)},writable:!0}),$));return B[p]=null,i(P,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ne=B[o];ne!==null&&(B[p]=null,B[s]=null,B[o]=null,ne(J)),B[a]=J;return}var ee=B[s];ee!==null&&(B[p]=null,B[s]=null,B[o]=null,ee(M(void 0,!0))),B[l]=!0}),P.on("readable",F.bind(null,B)),B};return Ha=T,Ha}var rh,nh;function xy(){return nh||(nh=1,rh=function(){throw new Error("Readable.from is not available in the browser")}),rh}var Wa,ih;function sh(){if(ih)return Wa;ih=1,Wa=Q;var e;Q.ReadableState=ee,Ic.EventEmitter;var t=function(I,k){return I.listeners(k).length},r=$l,n=Ii.Buffer,i=(typeof te<"u"?te:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(I){return n.from(I)}function o(I){return n.isBuffer(I)||I instanceof i}var a=ms,l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var p=uy(),_=Hl,x=Jl,M=x.getHighWaterMark,A=Gr.codes,F=A.ERR_INVALID_ARG_TYPE,D=A.ERR_STREAM_PUSH_AFTER_EOF,H=A.ERR_METHOD_NOT_IMPLEMENTED,C=A.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,T,P,$;Wt(Q,r);var B=_.errorOrDestroy,J=["error","close","destroy","pause","resume"];function ne(I,k,z){if(typeof I.prependListener=="function")return I.prependListener(k,z);!I._events||!I._events[k]?I.on(k,z):Array.isArray(I._events[k])?I._events[k].unshift(z):I._events[k]=[z,I._events[k]]}function ee(I,k,z){e=e||Un(),I=I||{},typeof z!="boolean"&&(z=k instanceof e),this.objectMode=!!I.objectMode,z&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=M(this,I,"readableHighWaterMark",z),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(T||(T=Kl().StringDecoder),this.decoder=new T(I.encoding),this.encoding=I.encoding)}function Q(I){if(e=e||Un(),!(this instanceof Q))return new Q(I);var k=this instanceof e;this._readableState=new ee(I,this,k),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),r.call(this)}Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),Q.prototype.destroy=_.destroy,Q.prototype._undestroy=_.undestroy,Q.prototype._destroy=function(I,k){k(I)},Q.prototype.push=function(I,k){var z=this._readableState,q;return z.objectMode?q=!0:typeof I=="string"&&(k=k||z.defaultEncoding,k!==z.encoding&&(I=n.from(I,k),k=""),q=!0),pe(this,I,k,!1,q)},Q.prototype.unshift=function(I){return pe(this,I,null,!0,!1)};function pe(I,k,z,q,Ae){l("readableAddChunk",k);var re=I._readableState;if(k===null)re.reading=!1,S(I,re);else{var ue;if(Ae||(ue=ae(re,k)),ue)B(I,ue);else if(re.objectMode||k&&k.length>0)if(typeof k!="string"&&!re.objectMode&&Object.getPrototypeOf(k)!==n.prototype&&(k=s(k)),q)re.endEmitted?B(I,new C):ie(I,re,k,!0);else if(re.ended)B(I,new D);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!z?(k=re.decoder.write(k),re.objectMode||k.length!==0?ie(I,re,k,!1):E(I,re)):ie(I,re,k,!1)}else q||(re.reading=!1,E(I,re))}return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function ie(I,k,z,q){k.flowing&&k.length===0&&!k.sync?(k.awaitDrain=0,I.emit("data",z)):(k.length+=k.objectMode?1:z.length,q?k.buffer.unshift(z):k.buffer.push(z),k.needReadable&&g(I)),E(I,k)}function ae(I,k){var z;return!o(k)&&typeof k!="string"&&k!==void 0&&!I.objectMode&&(z=new F("chunk",["string","Buffer","Uint8Array"],k)),z}Q.prototype.isPaused=function(){return this._readableState.flowing===!1},Q.prototype.setEncoding=function(I){T||(T=Kl().StringDecoder);var k=new T(I);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,q="";z!==null;)q+=k.write(z.data),z=z.next;return this._readableState.buffer.clear(),q!==""&&this._readableState.buffer.push(q),this._readableState.length=q.length,this};var u=1073741824;function d(I){return I>=u?I=u:(I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++),I}function m(I,k){return I<=0||k.length===0&&k.ended?0:k.objectMode?1:I!==I?k.flowing&&k.length?k.buffer.head.data.length:k.length:(I>k.highWaterMark&&(k.highWaterMark=d(I)),I<=k.length?I:k.ended?k.length:(k.needReadable=!0,0))}Q.prototype.read=function(I){l("read",I),I=parseInt(I,10);var k=this._readableState,z=I;if(I!==0&&(k.emittedReadable=!1),I===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return l("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?U(this):g(this),null;if(I=m(I,k),I===0&&k.ended)return k.length===0&&U(this),null;var q=k.needReadable;l("need readable",q),(k.length===0||k.length-I<k.highWaterMark)&&(q=!0,l("length less than watermark",q)),k.ended||k.reading?(q=!1,l("reading or ended",q)):q&&(l("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(I=m(z,k)));var Ae;return I>0?Ae=O(I,k):Ae=null,Ae===null?(k.needReadable=k.length<=k.highWaterMark,I=0):(k.length-=I,k.awaitDrain=0),k.length===0&&(k.ended||(k.needReadable=!0),z!==I&&k.ended&&U(this)),Ae!==null&&this.emit("data",Ae),Ae};function S(I,k){if(l("onEofChunk"),!k.ended){if(k.decoder){var z=k.decoder.end();z&&z.length&&(k.buffer.push(z),k.length+=k.objectMode?1:z.length)}k.ended=!0,k.sync?g(I):(k.needReadable=!1,k.emittedReadable||(k.emittedReadable=!0,v(I)))}}function g(I){var k=I._readableState;l("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(l("emitReadable",k.flowing),k.emittedReadable=!0,process.nextTick(v,I))}function v(I){var k=I._readableState;l("emitReadable_",k.destroyed,k.length,k.ended),!k.destroyed&&(k.length||k.ended)&&(I.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,R(I)}function E(I,k){k.readingMore||(k.readingMore=!0,process.nextTick(b,I,k))}function b(I,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){var z=k.length;if(l("maybeReadMore read 0"),I.read(0),z===k.length)break}k.readingMore=!1}Q.prototype._read=function(I){B(this,new H("_read()"))},Q.prototype.pipe=function(I,k){var z=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=I;break;case 1:q.pipes=[q.pipes,I];break;default:q.pipes.push(I);break}q.pipesCount+=1,l("pipe count=%d opts=%j",q.pipesCount,k);var Ae=(!k||k.end!==!1)&&I!==process.stdout&&I!==process.stderr,re=Ae?zt:Ie;q.endEmitted?process.nextTick(re):z.once("end",re),I.on("unpipe",ue);function ue(c,f){l("onunpipe"),c===z&&f&&f.hasUnpiped===!1&&(f.hasUnpiped=!0,Ht())}function zt(){l("onend"),I.end()}var Re=h(z);I.on("drain",Re);var Ne=!1;function Ht(){l("cleanup"),I.removeListener("close",er),I.removeListener("finish",we),I.removeListener("drain",Re),I.removeListener("error",xe),I.removeListener("unpipe",ue),z.removeListener("end",zt),z.removeListener("end",Ie),z.removeListener("data",ve),Ne=!0,q.awaitDrain&&(!I._writableState||I._writableState.needDrain)&&Re()}z.on("data",ve);function ve(c){l("ondata");var f=I.write(c);l("dest.write",f),f===!1&&((q.pipesCount===1&&q.pipes===I||q.pipesCount>1&&K(q.pipes,I)!==-1)&&!Ne&&(l("false write response, pause",q.awaitDrain),q.awaitDrain++),z.pause())}function xe(c){l("onerror",c),Ie(),I.removeListener("error",xe),t(I,"error")===0&&B(I,c)}ne(I,"error",xe);function er(){I.removeListener("finish",we),Ie()}I.once("close",er);function we(){l("onfinish"),I.removeListener("close",er),Ie()}I.once("finish",we);function Ie(){l("unpipe"),z.unpipe(I)}return I.emit("pipe",z),q.flowing||(l("pipe resume"),z.resume()),I};function h(I){return function(){var k=I._readableState;l("pipeOnDrain",k.awaitDrain),k.awaitDrain&&k.awaitDrain--,k.awaitDrain===0&&t(I,"data")&&(k.flowing=!0,R(I))}}Q.prototype.unpipe=function(I){var k=this._readableState,z={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return I&&I!==k.pipes?this:(I||(I=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,I&&I.emit("unpipe",this,z),this);if(!I){var q=k.pipes,Ae=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var re=0;re<Ae;re++)q[re].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=K(k.pipes,I);return ue===-1?this:(k.pipes.splice(ue,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),I.emit("unpipe",this,z),this)},Q.prototype.on=function(I,k){var z=r.prototype.on.call(this,I,k),q=this._readableState;return I==="data"?(q.readableListening=this.listenerCount("readable")>0,q.flowing!==!1&&this.resume()):I==="readable"&&!q.endEmitted&&!q.readableListening&&(q.readableListening=q.needReadable=!0,q.flowing=!1,q.emittedReadable=!1,l("on readable",q.length,q.reading),q.length?g(this):q.reading||process.nextTick(V,this)),z},Q.prototype.addListener=Q.prototype.on,Q.prototype.removeListener=function(I,k){var z=r.prototype.removeListener.call(this,I,k);return I==="readable"&&process.nextTick(w,this),z},Q.prototype.removeAllListeners=function(I){var k=r.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&process.nextTick(w,this),k};function w(I){var k=I._readableState;k.readableListening=I.listenerCount("readable")>0,k.resumeScheduled&&!k.paused?k.flowing=!0:I.listenerCount("data")>0&&I.resume()}function V(I){l("readable nexttick read 0"),I.read(0)}Q.prototype.resume=function(){var I=this._readableState;return I.flowing||(l("resume"),I.flowing=!I.readableListening,G(this,I)),I.paused=!1,this};function G(I,k){k.resumeScheduled||(k.resumeScheduled=!0,process.nextTick(X,I,k))}function X(I,k){l("resume",k.reading),k.reading||I.read(0),k.resumeScheduled=!1,I.emit("resume"),R(I),k.flowing&&!k.reading&&I.read(0)}Q.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function R(I){var k=I._readableState;for(l("flow",k.flowing);k.flowing&&I.read()!==null;);}Q.prototype.wrap=function(I){var k=this,z=this._readableState,q=!1;I.on("end",function(){if(l("wrapped end"),z.decoder&&!z.ended){var ue=z.decoder.end();ue&&ue.length&&k.push(ue)}k.push(null)}),I.on("data",function(ue){if(l("wrapped data"),z.decoder&&(ue=z.decoder.write(ue)),!(z.objectMode&&ue==null)&&!(!z.objectMode&&(!ue||!ue.length))){var zt=k.push(ue);zt||(q=!0,I.pause())}});for(var Ae in I)this[Ae]===void 0&&typeof I[Ae]=="function"&&(this[Ae]=function(ue){return function(){return I[ue].apply(I,arguments)}}(Ae));for(var re=0;re<J.length;re++)I.on(J[re],this.emit.bind(this,J[re]));return this._read=function(ue){l("wrapped _read",ue),q&&(q=!1,I.resume())},this},typeof Symbol=="function"&&(Q.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=My()),P(this)}),Object.defineProperty(Q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Q.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Q.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),Q._fromList=O,Object.defineProperty(Q.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(I,k){if(k.length===0)return null;var z;return k.objectMode?z=k.buffer.shift():!I||I>=k.length?(k.decoder?z=k.buffer.join(""):k.buffer.length===1?z=k.buffer.first():z=k.buffer.concat(k.length),k.buffer.clear()):z=k.buffer.consume(I,k.decoder),z}function U(I){var k=I._readableState;l("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,process.nextTick(Y,k,I))}function Y(I,k){if(l("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,k.readable=!1,k.emit("end"),I.autoDestroy)){var z=k._writableState;(!z||z.autoDestroy&&z.finished)&&k.destroy()}}typeof Symbol=="function"&&(Q.from=function(I,k){return $===void 0&&($=xy()),$(Q,I,k)});function K(I,k){for(var z=0,q=I.length;z<q;z++)if(I[z]===k)return z;return-1}return Wa}var oh=mr,Ls=Gr.codes,Iy=Ls.ERR_METHOD_NOT_IMPLEMENTED,ky=Ls.ERR_MULTIPLE_CALLBACK,Cy=Ls.ERR_TRANSFORM_ALREADY_TRANSFORMING,Ay=Ls.ERR_TRANSFORM_WITH_LENGTH_0,Bs=Un();Wt(mr,Bs);function Ry(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new ky);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function mr(e){if(!(this instanceof mr))return new mr(e);Bs.call(this,e),this._transformState={afterTransform:Ry.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Ny)}function Ny(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){ah(e,t,r)}):ah(this,null,null)}mr.prototype.push=function(e,t){return this._transformState.needTransform=!1,Bs.prototype.push.call(this,e,t)},mr.prototype._transform=function(e,t,r){r(new Iy("_transform()"))},mr.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},mr.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},mr.prototype._destroy=function(e,t){Bs.prototype._destroy.call(this,e,function(r){t(r)})};function ah(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Ay;if(e._transformState.transforming)throw new Cy;return e.push(null)}var Oy=Fi,uh=oh;Wt(Fi,uh);function Fi(e){if(!(this instanceof Fi))return new Fi(e);uh.call(this,e)}Fi.prototype._transform=function(e,t,r){r(null,e)};var qa;function jy(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var ch=Gr.codes,Ty=ch.ERR_MISSING_ARGS,Py=ch.ERR_STREAM_DESTROYED;function Ly(e){if(e)throw e}function By(e){return e.setHeader&&typeof e.abort=="function"}function Dy(e,t,r,n){n=jy(n);var i=!1;e.on("close",function(){i=!0}),qa===void 0&&(qa=za),qa(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,By(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(o||new Py("pipe"))}}}function lh(e){e()}function Fy(e,t){return e.pipe(t)}function Uy(e){return!e.length||typeof e[e.length-1]!="function"?Ly:e.pop()}function $y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Uy(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Ty("streams");var i,s=t.map(function(o,a){var l=a<t.length-1,p=a>0;return Dy(o,l,p,function(_){i||(i=_),_&&s.forEach(lh),!l&&(s.forEach(lh),n(i))})});return t.reduce(Fy)}var Vy=$y;(function(e,t){t=e.exports=sh(),t.Stream=t,t.Readable=t,t.Writable=Zl(),t.Duplex=Un(),t.Transform=oh,t.PassThrough=Oy,t.finished=za,t.pipeline=Vy})(La,La.exports);var hh=La.exports;const{Transform:zy}=hh;var Hy=e=>class Fp extends zy{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Fp(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Wy}=hh;var qy=e=>class Up extends Wy{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Up(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Jy=Hy,Gy=qy;var Zy=function(e){const t=Jy(e),r=Gy(e);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},dh={};const fh=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];dh.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],o=e[4]^e[14]^e[24]^e[34]^e[44],a=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],p=e[7]^e[17]^e[27]^e[37]^e[47],_=e[8]^e[18]^e[28]^e[38]^e[48],x=e[9]^e[19]^e[29]^e[39]^e[49];let M=_^(i<<1|s>>>31),A=x^(s<<1|i>>>31);const F=e[0]^M,D=e[1]^A,H=e[10]^M,C=e[11]^A,T=e[20]^M,P=e[21]^A,$=e[30]^M,B=e[31]^A,J=e[40]^M,ne=e[41]^A;M=r^(o<<1|a>>>31),A=n^(a<<1|o>>>31);const ee=e[2]^M,Q=e[3]^A,pe=e[12]^M,ie=e[13]^A,ae=e[22]^M,u=e[23]^A,d=e[32]^M,m=e[33]^A,S=e[42]^M,g=e[43]^A;M=i^(l<<1|p>>>31),A=s^(p<<1|l>>>31);const v=e[4]^M,E=e[5]^A,b=e[14]^M,h=e[15]^A,w=e[24]^M,V=e[25]^A,G=e[34]^M,X=e[35]^A,R=e[44]^M,O=e[45]^A;M=o^(_<<1|x>>>31),A=a^(x<<1|_>>>31);const U=e[6]^M,Y=e[7]^A,K=e[16]^M,I=e[17]^A,k=e[26]^M,z=e[27]^A,q=e[36]^M,Ae=e[37]^A,re=e[46]^M,ue=e[47]^A;M=l^(r<<1|n>>>31),A=p^(n<<1|r>>>31);const zt=e[8]^M,Re=e[9]^A,Ne=e[18]^M,Ht=e[19]^A,ve=e[28]^M,xe=e[29]^A,er=e[38]^M,we=e[39]^A,Ie=e[48]^M,c=e[49]^A,f=F,y=D,N=C<<4|H>>>28,j=H<<4|C>>>28,L=T<<3|P>>>29,Z=P<<3|T>>>29,ce=B<<9|$>>>23,ge=$<<9|B>>>23,ke=J<<18|ne>>>14,le=ne<<18|J>>>14,fe=ee<<1|Q>>>31,gi=Q<<1|ee>>>31,Te=ie<<12|pe>>>20,Pe=pe<<12|ie>>>20,yi=ae<<10|u>>>22,Le=u<<10|ae>>>22,Be=m<<13|d>>>19,mi=d<<13|m>>>19,De=S<<2|g>>>30,Fe=g<<2|S>>>30,bi=E<<30|v>>>2,Ue=v<<30|E>>>2,$e=b<<6|h>>>26,vi=h<<6|b>>>26,Ve=V<<11|w>>>21,ze=w<<11|V>>>21,wi=G<<15|X>>>17,He=X<<15|G>>>17,We=O<<29|R>>>3,_i=R<<29|O>>>3,qe=U<<28|Y>>>4,Je=Y<<28|U>>>4,Ei=I<<23|K>>>9,Ge=K<<23|I>>>9,Ze=k<<25|z>>>7,hn=z<<25|k>>>7,dn=q<<21|Ae>>>11,fn=Ae<<21|q>>>11,pn=ue<<24|re>>>8,gn=re<<24|ue>>>8,yn=zt<<27|Re>>>5,mn=Re<<27|zt>>>5,bn=Ne<<20|Ht>>>12,vn=Ht<<20|Ne>>>12,wn=xe<<7|ve>>>25,_n=ve<<7|xe>>>25,En=er<<8|we>>>24,Sn=we<<8|er>>>24,Mn=Ie<<14|c>>>18,xn=c<<14|Ie>>>18;e[0]=f^~Te&Ve,e[1]=y^~Pe&ze,e[10]=qe^~bn&L,e[11]=Je^~vn&Z,e[20]=fe^~$e&Ze,e[21]=gi^~vi&hn,e[30]=yn^~N&yi,e[31]=mn^~j&Le,e[40]=bi^~Ei&wn,e[41]=Ue^~Ge&_n,e[2]=Te^~Ve&dn,e[3]=Pe^~ze&fn,e[12]=bn^~L&Be,e[13]=vn^~Z&mi,e[22]=$e^~Ze&En,e[23]=vi^~hn&Sn,e[32]=N^~yi&wi,e[33]=j^~Le&He,e[42]=Ei^~wn&ce,e[43]=Ge^~_n&ge,e[4]=Ve^~dn&Mn,e[5]=ze^~fn&xn,e[14]=L^~Be&We,e[15]=Z^~mi&_i,e[24]=Ze^~En&ke,e[25]=hn^~Sn&le,e[34]=yi^~wi&pn,e[35]=Le^~He&gn,e[44]=wn^~ce&De,e[45]=_n^~ge&Fe,e[6]=dn^~Mn&f,e[7]=fn^~xn&y,e[16]=Be^~We&qe,e[17]=mi^~_i&Je,e[26]=En^~ke&fe,e[27]=Sn^~le&gi,e[36]=wi^~pn&yn,e[37]=He^~gn&mn,e[46]=ce^~De&bi,e[47]=ge^~Fe&Ue,e[8]=Mn^~f&Te,e[9]=xn^~y&Pe,e[18]=We^~qe&bn,e[19]=_i^~Je&vn,e[28]=ke^~fe&$e,e[29]=le^~gi&vi,e[38]=pn^~yn&N,e[39]=gn^~mn&j,e[48]=De^~bi&Ei,e[49]=Fe^~Ue&Ge,e[0]^=fh[t*2],e[1]^=fh[t*2+1]}};const Ds=dh;function $n(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}$n.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},$n.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Ds.p1600(this.state),this.count=0)},$n.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&Ds.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Ds.p1600(this.state),this.count=0,this.squeezing=!0},$n.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Ds.p1600(this.state),this.count=0);return t},$n.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var Qy=$n,Yy=Zy(Qy);const Ky=Yy,Xy=bs;function ph(e){return Buffer.allocUnsafe(e).fill(0)}function gh(e,t,r){const n=ph(t);return e=Fs(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function em(e,t){return gh(e,t,!0)}function Fs(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")yh(e)?e=Buffer.from(nm(mh(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(Xy.isBN(e))e=e.toArrayLike(Buffer);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function tm(e){return e=Fs(e),"0x"+e.toString("hex")}function rm(e,t){return e=Fs(e),t||(t=256),Ky("keccak"+t).update(e).digest()}function nm(e){return e.length%2?"0"+e:e}function yh(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function mh(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var bh={zeros:ph,setLength:gh,setLengthRight:em,isHexString:yh,stripHexPrefix:mh,toBuffer:Fs,bufferToHex:tm,keccak:rm};const Zr=bh,Qr=bs;function vh(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function Vn(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function wh(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function _h(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function Yr(e){var t=typeof e;if(t==="string")return Zr.isHexString(e)?new Qr(Zr.stripHexPrefix(e),16):new Qr(e,10);if(t==="number")return new Qr(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function sr(e,t){var r,n,i,s;if(e==="address")return sr("uint160",Yr(t));if(e==="bool")return sr("uint8",t?1:0);if(e==="string")return sr("bytes",new Buffer(t,"utf8"));if(sm(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=_h(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);i=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(s in t)i.push(sr(e,t[s]));if(r==="dynamic"){var o=sr("uint256",t.length);i.unshift(o)}return Buffer.concat(i)}else{if(e==="bytes")return t=new Buffer(t),i=Buffer.concat([sr("uint256",t.length),t]),t.length%32!==0&&(i=Buffer.concat([i,Zr.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if(r=Vn(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Zr.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=Vn(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Yr(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(e.startsWith("int")){if(r=Vn(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Yr(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(e.startsWith("ufixed")){if(r=wh(e),n=Yr(t),n<0)throw new Error("Supplied ufixed is negative");return sr("uint256",n.mul(new Qr(2).pow(new Qr(r[1]))))}else if(e.startsWith("fixed"))return r=wh(e),sr("int256",Yr(t).mul(new Qr(2).pow(new Qr(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function im(e){return e==="string"||e==="bytes"||_h(e)==="dynamic"}function sm(e){return e.lastIndexOf("]")===e.length-1}function om(e,t){var r=[],n=[],i=32*e.length;for(var s in e){var o=vh(e[s]),a=t[s],l=sr(o,a);im(o)?(r.push(sr("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function Eh(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<e.length;s++){var o=vh(e[s]),a=t[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Zr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Vn(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Zr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Vn(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Yr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Vn(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Yr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function am(e,t){return Zr.keccak(Eh(e,t))}var um={rawEncode:om,solidityPack:Eh,soliditySHA3:am};const Jt=bh,Ui=um,Sh={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ja={encodeData(e,t,r,n=!0){const i=["bytes32"],s=[this.hashType(e,r)];if(n){const o=(a,l,p)=>{if(r[l]!==void 0)return["bytes32",p==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Jt.keccak(this.encodeData(l,p,r,n))];if(p===void 0)throw new Error(`missing value for field ${a} of type ${l}`);if(l==="bytes")return["bytes32",Jt.keccak(p)];if(l==="string")return typeof p=="string"&&(p=Buffer.from(p,"utf8")),["bytes32",Jt.keccak(p)];if(l.lastIndexOf("]")===l.length-1){const _=l.slice(0,l.lastIndexOf("[")),x=p.map(M=>o(a,_,M));return["bytes32",Jt.keccak(Ui.rawEncode(x.map(([M])=>M),x.map(([,M])=>M)))]}return[l,p]};for(const a of r[e]){const[l,p]=o(a.name,a.type,t[a.name]);i.push(l),s.push(p)}}else for(const o of r[e]){let a=t[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Jt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Jt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Jt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Ui.rawEncode(i,s)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(i=>i!==e);n=[e].concat(n.sort());for(const i of n){if(!t[i])throw new Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:s,type:o})=>o+" "+s).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const i of this.findTypeDependencies(n.type,t,r))!r.includes(i)&&r.push(i);return r},hashStruct(e,t,r,n=!0){return Jt.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return Jt.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in Sh.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),Jt.keccak(Buffer.concat(n))}};var cm={TYPED_MESSAGE_SCHEMA:Sh,TypedDataUtils:Ja,hashForSignTypedDataLegacy:function(e){return lm(e.data)},hashForSignTypedData_v3:function(e){return Ja.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return Ja.hash(e.data)}};function lm(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(s){return s.type==="bytes"?Jt.toBuffer(s.value):s.value}),n=e.map(function(s){return s.type}),i=e.map(function(s){if(!s.name)throw t;return s.type+" "+s.name});return Ui.soliditySHA3(["bytes32","bytes32"],[Ui.soliditySHA3(new Array(e.length).fill("string"),i),Ui.soliditySHA3(n,r)])}var zn={};Object.defineProperty(zn,"__esModule",{value:!0}),zn.filterFromParam=zn.FilterPolyfill=void 0;const Hn=Li,wt=se,hm=5*60*1e3,Kr={jsonrpc:"2.0",id:0};class dm{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Hn.IntNumber)(1),this.provider=t}async newFilter(t){const r=Mh(t),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,wt.hexStringFromIntNumber)(n)}async newBlockFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,r),this.blockFilters.add(t),this.setFilterTimeout(t),(0,wt.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.log(`Installing new block filter (${t}) with initial cursor position:`,r),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,wt.hexStringFromIntNumber)(t)}uninstallFilter(t){const r=(0,wt.intNumberFromHexString)(t);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(t){const r=(0,wt.intNumberFromHexString)(t);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Us())}async getFilterLogs(t){const r=(0,wt.intNumberFromHexString)(t),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Kr),{method:"eth_getLogs",params:[xh(n)]})):Us()}makeFilterId(){return(0,Hn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((r,n)=>{this.provider.sendAsync(t,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(t){console.log(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const r=this.logFilters.get(t),n=this.cursors.get(t);if(!n||!r)return Us();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Ga();console.log(`Fetching logs from ${n} to ${s} for filter ${t}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Kr),{method:"eth_getLogs",params:[xh(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(p=>(0,wt.intNumberFromHexString)(p.blockNumber||"0x0")),l=Math.max(...a);if(l&&l>n){const p=(0,Hn.IntNumber)(l+1);console.log(`Moving cursor position for filter (${t}) from ${n} to ${p}`),this.cursors.set(t,p)}}return o}async getBlockFilterChanges(t){const r=this.cursors.get(t);if(!r)return Us();const n=await this.getCurrentBlockHeight();if(r>n)return Ga();console.log(`Fetching blocks from ${r} to ${n} for filter (${t})`);const i=(await Promise.all((0,wt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Hn.IntNumber)(o))))).filter(o=>!!o),s=(0,Hn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${t}) from ${r} to ${s}`),this.cursors.set(t,s),Object.assign(Object.assign({},Kr),{result:i})}async getPendingTransactionFilterChanges(t){return Promise.resolve(Ga())}async setInitialCursorPosition(t,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(t,i),i}setFilterTimeout(t){const r=this.timeouts.get(t);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${t}) timed out`),this.deleteFilter(t)},hm);this.timeouts.set(t,n)}async getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},Kr),{method:"eth_blockNumber",params:[]}));return(0,wt.intNumberFromHexString)((0,wt.ensureHexString)(t))}async getBlockHashByNumber(t){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Kr),{method:"eth_getBlockByNumber",params:[(0,wt.hexStringFromIntNumber)(t),!1]}));return r.result&&typeof r.result.hash=="string"?(0,wt.ensureHexString)(r.result.hash):null}}zn.FilterPolyfill=dm;function Mh(e){return{fromBlock:Ih(e.fromBlock),toBlock:Ih(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}zn.filterFromParam=Mh;function xh(e){const t={fromBlock:kh(e.fromBlock),toBlock:kh(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function Ih(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,Hn.IntNumber)(0);if((0,wt.isHexString)(e))return(0,wt.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function kh(e){return e==="latest"?e:(0,wt.hexStringFromIntNumber)(e)}function Us(){return Object.assign(Object.assign({},Kr),{error:{code:-32e3,message:"filter not found"}})}function Ga(){return Object.assign(Object.assign({},Kr),{result:[]})}var Ch={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCMethod=void 0,function(t){t.eth_accounts="eth_accounts",t.eth_coinbase="eth_coinbase",t.net_version="net_version",t.eth_chainId="eth_chainId",t.eth_uninstallFilter="eth_uninstallFilter",t.eth_requestAccounts="eth_requestAccounts",t.eth_sign="eth_sign",t.eth_ecRecover="eth_ecRecover",t.personal_sign="personal_sign",t.personal_ecRecover="personal_ecRecover",t.eth_signTransaction="eth_signTransaction",t.eth_sendRawTransaction="eth_sendRawTransaction",t.eth_sendTransaction="eth_sendTransaction",t.eth_signTypedData_v1="eth_signTypedData_v1",t.eth_signTypedData_v2="eth_signTypedData_v2",t.eth_signTypedData_v3="eth_signTypedData_v3",t.eth_signTypedData_v4="eth_signTypedData_v4",t.eth_signTypedData="eth_signTypedData",t.cbWallet_arbitrary="walletlink_arbitrary",t.wallet_addEthereumChain="wallet_addEthereumChain",t.wallet_switchEthereumChain="wallet_switchEthereumChain",t.wallet_watchAsset="wallet_watchAsset",t.eth_subscribe="eth_subscribe",t.eth_unsubscribe="eth_unsubscribe",t.eth_newFilter="eth_newFilter",t.eth_newBlockFilter="eth_newBlockFilter",t.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",t.eth_getFilterChanges="eth_getFilterChanges",t.eth_getFilterLogs="eth_getFilterLogs"}(e.JSONRPCMethod||(e.JSONRPCMethod={}))})(Ch);var $s={},Ah={},Vs={},Za=fm;function fm(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const Rh=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{t.errorFirst?n.push(function(o,a){if(t.multiArgs){const l=new Array(arguments.length-1);for(let p=1;p<arguments.length;p++)l[p-1]=arguments[p];o?(l.unshift(o),s(l)):i(l)}else o?s(o):i(a)}):n.push(function(o){if(t.multiArgs){const a=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)a[l]=arguments[l];i(a)}else i(o)}),e.apply(this,n)})};var pm=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return t.include?t.include.some(s):!t.exclude.some(s)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):Rh(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const i in e){const s=e[i];n[i]=typeof s=="function"&&r(i)?Rh(s,t):s}return n},$i={},gm=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($i,"__esModule",{value:!0}),$i.BaseBlockTracker=void 0;const ym=gm($r),mm=1e3,bm=(e,t)=>e+t,Nh=["sync","latest"];class vm extends ym.default{constructor(t){super(),this._blockResetDuration=t.blockResetDuration||20*mm,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(t=>this.once("latest",t))}removeAllListeners(t){return t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t){Nh.includes(t)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Nh.map(t=>this.listenerCount(t)).reduce(bm)}_newPotentialLatest(t){const r=this._currentBlock;r&&Oh(t)<=Oh(r)||this._setCurrentBlock(t)}_setCurrentBlock(t){const r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}$i.BaseBlockTracker=vm;function Oh(e){return Number.parseInt(e,16)}var jh={},Th={},dt={};class Ph extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...o}=t,{path:a}=t,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function wm(e){return Lt(e)&&typeof e[Symbol.iterator]=="function"}function Lt(e){return typeof e=="object"&&e!=null}function Lh(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function it(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function _m(e){const{done:t,value:r}=e.next();return t?void 0:r}function Em(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${it(n)}\``}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:l}}function*Qa(e,t,r,n){wm(e)||(e=[e]);for(const i of e){const s=Em(i,t,r,n);s&&(yield s)}}function*Ya(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&t.type!=="type"&&Lt(t.schema)&&Lt(e)&&!Array.isArray(e)))for(const p in e)t.schema[p]===void 0&&delete e[p];let l="valid";for(const p of t.validator(e,a))p.explanation=r.message,l="not_valid",yield[p,void 0];for(let[p,_,x]of t.entries(e,a)){const M=Ya(_,x,{path:p===void 0?n:[...n,p],branch:p===void 0?i:[...i,_],coerce:s,mask:o,message:r.message});for(const A of M)A[0]?(l=A[0].refinement!=null?"not_refined":"not_valid",yield[A[0],void 0]):s&&(_=A[1],p===void 0?e=_:e instanceof Map?e.set(p,_):e instanceof Set?e.add(_):Lt(e)&&(_!==void 0||p in e)&&(e[p]=_))}if(l!=="not_valid")for(const p of t.refiner(e,a))p.explanation=r.message,l="not_refined",yield[p,void 0];l==="valid"&&(yield[void 0,e])}class rt{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=t;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(l,p)=>{const _=i(l,p);return Qa(_,p,this,l)}:this.validator=()=>[],s?this.refiner=(l,p)=>{const _=s(l,p);return Qa(_,p,this,l)}:this.refiner=()=>[]}assert(t,r){return Bh(t,this,r)}create(t,r){return Dh(t,this,r)}is(t){return Ka(t,this)}mask(t,r){return Fh(t,this,r)}validate(t,r={}){return Wn(t,this,r)}}function Bh(e,t,r){const n=Wn(e,t,{message:r});if(n[0])throw n[0]}function Dh(e,t,r){const n=Wn(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Fh(e,t,r){const n=Wn(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Ka(e,t){return!Wn(e,t)[0]}function Wn(e,t,r={}){const n=Ya(e,t,r),i=_m(n);return i[0]?[new Ph(i[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Sm(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?eu(n):Vi(n)}function It(e,t){return new rt({type:e,schema:null,validator:t})}function Mm(e,t){return new rt({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function xm(e){return new rt({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function Im(e){let t;return new rt({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function km(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return eu(n);default:return Vi(n)}}function Cm(e){const t=e instanceof rt?{...e.schema}:{...e};for(const r in t)t[r]=Uh(t[r]);return Vi(t)}function Am(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];return Vi(n)}function Rm(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),It(e,t)}function Nm(){return It("any",()=>!0)}function Om(e){return new rt({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${it(t)}`}})}function jm(){return It("bigint",e=>typeof e=="bigint")}function Tm(){return It("boolean",e=>typeof e=="boolean")}function Pm(){return It("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${it(e)}`)}function Lm(e){const t={},r=e.map(n=>it(n)).join();for(const n of e)t[n]=n;return new rt({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${it(n)}`}})}function Bm(){return It("func",e=>typeof e=="function"||`Expected a function, but received: ${it(e)}`)}function Dm(e){return It("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${it(t)}`)}function Fm(){return It("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${it(e)}`)}function Um(e){return new rt({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function $m(e){const t=it(e),r=typeof e;return new rt({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${it(n)}`}})}function Vm(e,t){return new rt({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${it(r)}`}})}function Xa(){return It("never",()=>!1)}function zm(e){return new rt({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function Hm(){return It("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${it(e)}`)}function Vi(e){const t=e?Object.keys(e):[],r=Xa();return new rt({type:"object",schema:e||null,*entries(n){if(e&&Lt(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Lt(n)||`Expected an object, but received: ${it(n)}`},coercer(n){return Lt(n)?{...n}:n}})}function Uh(e){return new rt({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function Wm(e,t){return new rt({type:"record",schema:null,*entries(r){if(Lt(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return Lt(r)||`Expected an object, but received: ${it(r)}`}})}function qm(){return It("regexp",e=>e instanceof RegExp)}function Jm(e){return new rt({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${it(t)}`}})}function $h(){return It("string",e=>typeof e=="string"||`Expected a string, but received: ${it(e)}`)}function Gm(e){const t=Xa();return new rt({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${it(r)}`}})}function eu(e){const t=Object.keys(e);return new rt({type:"type",schema:e,*entries(r){if(Lt(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return Lt(r)||`Expected an object, but received: ${it(r)}`},coercer(r){return Lt(r)?{...r}:r}})}function Zm(e){const t=e.map(r=>r.type).join(" | ");return new rt({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...o]=Ya(r,s,n),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${it(r)}`,...i]}})}function Vh(){return It("unknown",()=>!0)}function tu(e,t,r){return new rt({...e,coercer:(n,i)=>Ka(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function Qm(e,t,r={}){return tu(e,Vh(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&Lh(n)&&Lh(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function Ym(e){return tu(e,$h(),t=>t.trim())}function Km(e){return Xr(e,"empty",t=>{const r=zh(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function zh(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Xm(e,t,r={}){const{exclusive:n}=r;return Xr(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function eb(e,t,r={}){const{exclusive:n}=r;return Xr(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function tb(e){return Xr(e,"nonempty",t=>zh(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function rb(e,t){return Xr(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function nb(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return Xr(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return t<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return t<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Xr(e,t,r){return new rt({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),o=Qa(s,i,e,n);for(const a of o)yield{...a,refinement:t}}})}const ib=Object.freeze(Object.defineProperty({__proto__:null,Struct:rt,StructError:Ph,any:Nm,array:Om,assert:Bh,assign:Sm,bigint:jm,boolean:Tm,coerce:tu,create:Dh,date:Pm,defaulted:Qm,define:It,deprecated:Mm,dynamic:xm,empty:Km,enums:Lm,func:Bm,instance:Dm,integer:Fm,intersection:Um,is:Ka,lazy:Im,literal:$m,map:Vm,mask:Fh,max:Xm,min:eb,never:Xa,nonempty:tb,nullable:zm,number:Hm,object:Vi,omit:km,optional:Uh,partial:Cm,pattern:rb,pick:Am,record:Wm,refine:Xr,regexp:qm,set:Jm,size:nb,string:$h,struct:Rm,trimmed:Ym,tuple:Gm,type:eu,union:Zm,unknown:Vh,validate:Wn},Symbol.toStringTag,{value:"Module"})),en=In(ib);Object.defineProperty(dt,"__esModule",{value:!0}),dt.assertExhaustive=dt.assertStruct=dt.assert=dt.AssertionError=void 0;const sb=en;function ob(e){return typeof e=="object"&&e!==null&&"message"in e}function ab(e){var t,r;return typeof((r=(t=e==null?void 0:e.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function ub(e){const t=ob(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function Hh(e,t){return ab(e)?new e({message:t}):e({message:t})}class ru extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}dt.AssertionError=ru;function cb(e,t="Assertion failed.",r=ru){if(!e)throw t instanceof Error?t:Hh(r,t)}dt.assert=cb;function lb(e,t,r="Assertion failed",n=ru){try{(0,sb.assert)(e,t)}catch(i){throw Hh(n,`${r}: ${ub(i)}.`)}}dt.assertStruct=lb;function hb(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}dt.assertExhaustive=hb;var zi={};Object.defineProperty(zi,"__esModule",{value:!0}),zi.base64=void 0;const db=en,fb=dt,pb=(e,t={})=>{var r,n;const i=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,fb.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,db.pattern)(e,a)};zi.base64=pb;var Se={},Hi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=en,r=dt;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(p){return(0,t.is)(p,e.HexStruct)}e.isHexString=n;function i(p){return(0,t.is)(p,e.StrictHexStruct)}e.isStrictHexString=i;function s(p){(0,r.assert)(n(p),"Value must be a hexadecimal string.")}e.assertIsHexString=s;function o(p){(0,r.assert)(i(p),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=o;function a(p){return p.startsWith("0x")?p:p.startsWith("0X")?`0x${p.substring(2)}`:`0x${p}`}e.add0x=a;function l(p){return p.startsWith("0x")||p.startsWith("0X")?p.substring(2):p}e.remove0x=l})(Hi),Object.defineProperty(Se,"__esModule",{value:!0}),Se.createDataView=Se.concatBytes=Se.valueToBytes=Se.stringToBytes=Se.numberToBytes=Se.signedBigIntToBytes=Se.bigIntToBytes=Se.hexToBytes=Se.bytesToString=Se.bytesToNumber=Se.bytesToSignedBigInt=Se.bytesToBigInt=Se.bytesToHex=Se.assertIsBytes=Se.isBytes=void 0;const kt=dt,nu=Hi,Wh=48,qh=58,Jh=87;function gb(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const yb=gb();function iu(e){return e instanceof Uint8Array}Se.isBytes=iu;function qn(e){(0,kt.assert)(iu(e),"Value must be a Uint8Array.")}Se.assertIsBytes=qn;function Gh(e){if(qn(e),e.length===0)return"0x";const t=yb(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,nu.add0x)(r.join(""))}Se.bytesToHex=Gh;function Zh(e){qn(e);const t=Gh(e);return BigInt(t)}Se.bytesToBigInt=Zh;function mb(e){qn(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}Se.bytesToSignedBigInt=mb;function bb(e){qn(e);const t=Zh(e);return(0,kt.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}Se.bytesToNumber=bb;function vb(e){return qn(e),new TextDecoder().decode(e)}Se.bytesToString=vb;function zs(e){var t;if(((t=e==null?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,nu.assertIsHexString)(e);const r=(0,nu.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),l=o-(o<qh?Wh:Jh),p=a-(a<qh?Wh:Jh);i[s]=l*16+p}return i}Se.hexToBytes=zs;function Qh(e){(0,kt.assert)(typeof e=="bigint","Value must be a bigint."),(0,kt.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return zs(t)}Se.bigIntToBytes=Qh;function wb(e,t){(0,kt.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function _b(e,t){(0,kt.assert)(typeof e=="bigint","Value must be a bigint."),(0,kt.assert)(typeof t=="number","Byte length must be a number."),(0,kt.assert)(t>0,"Byte length must be greater than 0."),(0,kt.assert)(wb(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}Se.signedBigIntToBytes=_b;function Yh(e){(0,kt.assert)(typeof e=="number","Value must be a number."),(0,kt.assert)(e>=0,"Value must be a non-negative number."),(0,kt.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return zs(t)}Se.numberToBytes=Yh;function Kh(e){return(0,kt.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}Se.stringToBytes=Kh;function Xh(e){if(typeof e=="bigint")return Qh(e);if(typeof e=="number")return Yh(e);if(typeof e=="string")return e.startsWith("0x")?zs(e):Kh(e);if(iu(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}Se.valueToBytes=Xh;function Eb(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const s=Xh(e[i]);t[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}Se.concatBytes=Eb;function Sb(e){if(typeof Buffer<"u"&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}Se.createDataView=Sb;var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.ChecksumStruct=void 0;const ed=en,Mb=zi;Hs.ChecksumStruct=(0,ed.size)((0,Mb.base64)((0,ed.string)(),{paddingRequired:!0}),44,44);var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.createHex=or.createBytes=or.createBigInt=or.createNumber=void 0;const Qe=en,xb=dt,td=Se,Ws=Hi,rd=(0,Qe.union)([(0,Qe.number)(),(0,Qe.bigint)(),(0,Qe.string)(),Ws.StrictHexStruct]),Ib=(0,Qe.coerce)((0,Qe.number)(),rd,Number),kb=(0,Qe.coerce)((0,Qe.bigint)(),rd,BigInt);(0,Qe.union)([Ws.StrictHexStruct,(0,Qe.instance)(Uint8Array)]);const Cb=(0,Qe.coerce)((0,Qe.instance)(Uint8Array),(0,Qe.union)([Ws.StrictHexStruct]),td.hexToBytes),Ab=(0,Qe.coerce)(Ws.StrictHexStruct,(0,Qe.instance)(Uint8Array),td.bytesToHex);function Rb(e){try{const t=(0,Qe.create)(e,Ib);return(0,xb.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof Qe.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}or.createNumber=Rb;function Nb(e){try{return(0,Qe.create)(e,kb)}catch(t){throw t instanceof Qe.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}or.createBigInt=Nb;function Ob(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,Qe.create)(e,Cb)}catch(t){throw t instanceof Qe.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}or.createBytes=Ob;function jb(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,Qe.create)(e,Ab)}catch(t){throw t instanceof Qe.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}or.createHex=jb;var Jn={},nd=te&&te.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},_t=te&&te.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Gt,ar;Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.FrozenSet=Jn.FrozenMap=void 0;class su{constructor(t){Gt.set(this,void 0),nd(this,Gt,new Map(t),"f"),Object.freeze(this)}get size(){return _t(this,Gt,"f").size}[(Gt=new WeakMap,Symbol.iterator)](){return _t(this,Gt,"f")[Symbol.iterator]()}entries(){return _t(this,Gt,"f").entries()}forEach(t,r){return _t(this,Gt,"f").forEach((n,i,s)=>t.call(r,n,i,this))}get(t){return _t(this,Gt,"f").get(t)}has(t){return _t(this,Gt,"f").has(t)}keys(){return _t(this,Gt,"f").keys()}values(){return _t(this,Gt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}Jn.FrozenMap=su;class ou{constructor(t){ar.set(this,void 0),nd(this,ar,new Set(t),"f"),Object.freeze(this)}get size(){return _t(this,ar,"f").size}[(ar=new WeakMap,Symbol.iterator)](){return _t(this,ar,"f")[Symbol.iterator]()}entries(){return _t(this,ar,"f").entries()}forEach(t,r){return _t(this,ar,"f").forEach((n,i,s)=>t.call(r,n,i,this))}has(t){return _t(this,ar,"f").has(t)}keys(){return _t(this,ar,"f").keys()}values(){return _t(this,ar,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}Jn.FrozenSet=ou,Object.freeze(su),Object.freeze(su.prototype),Object.freeze(ou),Object.freeze(ou.prototype);var id={},au={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(p){return Array.isArray(p)&&p.length>0}e.isNonEmptyArray=t;function r(p){return p==null}e.isNullOrUndefined=r;function n(p){return!!p&&typeof p=="object"&&!Array.isArray(p)}e.isObject=n;const i=(p,_)=>Object.hasOwnProperty.call(p,_);e.hasProperty=i,function(p){p[p.Null=4]="Null",p[p.Comma=1]="Comma",p[p.Wrapper=1]="Wrapper",p[p.True=4]="True",p[p.False=5]="False",p[p.Quote=1]="Quote",p[p.Colon=1]="Colon",p[p.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(p){if(typeof p!="object"||p===null)return!1;try{let _=p;for(;Object.getPrototypeOf(_)!==null;)_=Object.getPrototypeOf(_);return Object.getPrototypeOf(p)===_}catch{return!1}}e.isPlainObject=s;function o(p){return p.charCodeAt(0)<=127}e.isASCII=o;function a(p){var _;return p.split("").reduce((x,M)=>o(M)?x+1:x+2,0)+((_=p.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&_!==void 0?_:[]).length}e.calculateStringSize=a;function l(p){return p.toString().length}e.calculateNumberSize=l})(au),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateJsonAndGetSize=e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.isValidJson=e.JsonStruct=void 0;const t=en,r=dt,n=au;e.JsonStruct=(0,t.define)("Json",B=>{const[J]=$(B,!0);return J?!0:"Expected a valid JSON-serializable value"});function i(B){return(0,t.is)(B,e.JsonStruct)}e.isValidJson=i,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function s(B){return(0,t.is)(B,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=s;function o(B,J){(0,r.assertStruct)(B,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",J)}e.assertIsJsonRpcNotification=o;function a(B){return(0,t.is)(B,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=a;function l(B,J){(0,r.assertStruct)(B,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",J)}e.assertIsJsonRpcRequest=l,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function p(B){return(0,t.is)(B,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=p;function _(B,J){(0,r.assertStruct)(B,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",J)}e.assertIsPendingJsonRpcResponse=_;function x(B){return(0,t.is)(B,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=x;function M(B,J){(0,r.assertStruct)(B,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",J)}e.assertIsJsonRpcResponse=M;function A(B){return(0,t.is)(B,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=A;function F(B,J){(0,r.assertStruct)(B,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",J)}e.assertIsJsonRpcSuccess=F;function D(B){return(0,t.is)(B,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=D;function H(B,J){(0,r.assertStruct)(B,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",J)}e.assertIsJsonRpcFailure=H;function C(B){return(0,t.is)(B,e.JsonRpcErrorStruct)}e.isJsonRpcError=C;function T(B,J){(0,r.assertStruct)(B,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",J)}e.assertIsJsonRpcError=T;function P(B){const{permitEmptyString:J,permitFractions:ne,permitNull:ee}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},B);return Q=>!!(typeof Q=="number"&&(ne||Number.isInteger(Q))||typeof Q=="string"&&(J||Q.length>0)||ee&&Q===null)}e.getJsonRpcIdValidator=P;function $(B,J=!1){const ne=new Set;function ee(Q,pe){if(Q===void 0)return[!1,0];if(Q===null)return[!0,pe?0:n.JsonSize.Null];const ie=typeof Q;try{if(ie==="function")return[!1,0];if(ie==="string"||Q instanceof String)return[!0,pe?0:(0,n.calculateStringSize)(Q)+n.JsonSize.Quote*2];if(ie==="boolean"||Q instanceof Boolean)return pe?[!0,0]:[!0,Q==!0?n.JsonSize.True:n.JsonSize.False];if(ie==="number"||Q instanceof Number)return pe?[!0,0]:[!0,(0,n.calculateNumberSize)(Q)];if(Q instanceof Date)return pe?[!0,0]:[!0,isNaN(Q.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(Q)&&!Array.isArray(Q))return[!1,0];if(ne.has(Q))return[!1,0];ne.add(Q);try{return[!0,Object.entries(Q).reduce((ae,[u,d],m,S)=>{let[g,v]=ee(d,pe);if(!g)throw new Error("JSON validation did not pass. Validation process stopped.");if(ne.delete(Q),pe)return 0;const E=Array.isArray(Q)?0:u.length+n.JsonSize.Comma+n.JsonSize.Colon*2,b=m<S.length-1?n.JsonSize.Comma:0;return ae+E+v+b},pe?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return ee(B,J)}e.validateJsonAndGetSize=$}(id);var Gn={},Tb=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.createModuleLogger=Gn.createProjectLogger=void 0;const Pb=Tb(X8),Lb=(0,Pb.default)("metamask");function Bb(e){return Lb.extend(e)}Gn.createProjectLogger=Bb;function Db(e,t){return e.extend(t)}Gn.createModuleLogger=Db;var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.hexToBigInt=ur.hexToNumber=ur.bigIntToHex=ur.numberToHex=void 0;const Zn=dt,Wi=Hi,Fb=e=>((0,Zn.assert)(typeof e=="number","Value must be a number."),(0,Zn.assert)(e>=0,"Value must be a non-negative number."),(0,Zn.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Wi.add0x)(e.toString(16)));ur.numberToHex=Fb;const Ub=e=>((0,Zn.assert)(typeof e=="bigint","Value must be a bigint."),(0,Zn.assert)(e>=0,"Value must be a non-negative bigint."),(0,Wi.add0x)(e.toString(16)));ur.bigIntToHex=Ub;const $b=e=>{(0,Wi.assertIsHexString)(e);const t=parseInt(e,16);return(0,Zn.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};ur.hexToNumber=$b;const Vb=e=>((0,Wi.assertIsHexString)(e),BigInt((0,Wi.add0x)(e)));ur.hexToBigInt=Vb;var sd={};Object.defineProperty(sd,"__esModule",{value:!0});var od={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!t(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}e.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}e.timeSince=i})(od);var ad={},uu={exports:{}};const zb="2.0.0",Hb=256,Wb=Number.MAX_SAFE_INTEGER||9007199254740991;var qs={MAX_LENGTH:Hb,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_INTEGER:Wb,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:zb,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Js=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=qs,n=Js;t=e.exports={};const i=t.re=[],s=t.src=[],o=t.t={};let a=0;const l=(p,_,x)=>{const M=a++;n(p,M,_),o[p]=M,s[M]=_,i[M]=new RegExp(_,x?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${s[o.NUMERICIDENTIFIER]}|${s[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${s[o.NUMERICIDENTIFIERLOOSE]}|${s[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${s[o.PRERELEASEIDENTIFIER]}(?:\\.${s[o.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${s[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[o.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${s[o.BUILDIDENTIFIER]}(?:\\.${s[o.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${s[o.MAINVERSION]}${s[o.PRERELEASE]}?${s[o.BUILD]}?`),l("FULL",`^${s[o.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${s[o.MAINVERSIONLOOSE]}${s[o.PRERELEASELOOSE]}?${s[o.BUILD]}?`),l("LOOSE",`^${s[o.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${s[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${s[o.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:${s[o.PRERELEASE]})?${s[o.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:${s[o.PRERELEASELOOSE]})?${s[o.BUILD]}?)?)?`),l("XRANGE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",s[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${s[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${s[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${s[o.LONECARET]}${s[o.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${s[o.LONECARET]}${s[o.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${s[o.GTLT]}\\s*(${s[o.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]}|${s[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${s[o.XRANGEPLAIN]})\\s+-\\s+(${s[o.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${s[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[o.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(uu,uu.exports);var qi=uu.exports;const qb=Object.freeze({loose:!0}),Jb=Object.freeze({});var cu=e=>e?typeof e!="object"?qb:e:Jb;const ud=/^[0-9]+$/,cd=(e,t)=>{const r=ud.test(e),n=ud.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var ld={compareIdentifiers:cd,rcompareIdentifiers:(e,t)=>cd(t,e)};const Gs=Js,{MAX_LENGTH:hd,MAX_SAFE_INTEGER:Zs}=qs,{re:dd,t:fd}=qi,Gb=cu,{compareIdentifiers:Qn}=ld;var Et=class gr{constructor(t,r){if(r=Gb(r),t instanceof gr){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>hd)throw new TypeError(`version is longer than ${hd} characters`);Gs("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?dd[fd.LOOSE]:dd[fd.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Zs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zs||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Zs)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Gs("SemVer.compare",this.version,this.options,t),!(t instanceof gr)){if(typeof t=="string"&&t===this.version)return 0;t=new gr(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof gr||(t=new gr(t,this.options)),Qn(this.major,t.major)||Qn(this.minor,t.minor)||Qn(this.patch,t.patch)}comparePre(t){if(t instanceof gr||(t=new gr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(Gs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n!==i)return Qn(n,i)}while(++r)}compareBuild(t){t instanceof gr||(t=new gr(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(Gs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n!==i)return Qn(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Qn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};const pd=Et;var Yn=(e,t,r=!1)=>{if(e instanceof pd)return e;try{return new pd(e,t)}catch(n){if(!r)return null;throw n}};const Zb=Yn;var Qb=(e,t)=>{const r=Zb(e,t);return r?r.version:null};const Yb=Yn;var Kb=(e,t)=>{const r=Yb(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const gd=Et;var Xb=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new gd(e instanceof gd?e.version:e,r).inc(t,n,i).version}catch{return null}};const yd=Yn;var ev=(e,t)=>{const r=yd(e,null,!0),n=yd(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length,p=l?"pre":"";return r.major!==n.major?p+"major":r.minor!==n.minor?p+"minor":r.patch!==n.patch?p+"patch":l?"prerelease":a.patch?"patch":a.minor?"minor":"major"};const tv=Et;var rv=(e,t)=>new tv(e,t).major;const nv=Et;var iv=(e,t)=>new nv(e,t).minor;const sv=Et;var ov=(e,t)=>new sv(e,t).patch;const av=Yn;var uv=(e,t)=>{const r=av(e,t);return r&&r.prerelease.length?r.prerelease:null};const md=Et;var Zt=(e,t,r)=>new md(e,r).compare(new md(t,r));const cv=Zt;var lv=(e,t,r)=>cv(t,e,r);const hv=Zt;var dv=(e,t)=>hv(e,t,!0);const bd=Et;var lu=(e,t,r)=>{const n=new bd(e,r),i=new bd(t,r);return n.compare(i)||n.compareBuild(i)};const fv=lu;var pv=(e,t)=>e.sort((r,n)=>fv(r,n,t));const gv=lu;var yv=(e,t)=>e.sort((r,n)=>gv(n,r,t));const mv=Zt;var Qs=(e,t,r)=>mv(e,t,r)>0;const bv=Zt;var hu=(e,t,r)=>bv(e,t,r)<0;const vv=Zt;var vd=(e,t,r)=>vv(e,t,r)===0;const wv=Zt;var wd=(e,t,r)=>wv(e,t,r)!==0;const _v=Zt;var du=(e,t,r)=>_v(e,t,r)>=0;const Ev=Zt;var fu=(e,t,r)=>Ev(e,t,r)<=0;const Sv=vd,Mv=wd,xv=Qs,Iv=du,kv=hu,Cv=fu;var _d=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Sv(e,r,n);case"!=":return Mv(e,r,n);case">":return xv(e,r,n);case">=":return Iv(e,r,n);case"<":return kv(e,r,n);case"<=":return Cv(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const Av=Et,Rv=Yn,{re:Ys,t:Ks}=qi;var Nv=(e,t)=>{if(e instanceof Av)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(Ys[Ks.COERCE]);else{let n;for(;(n=Ys[Ks.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ys[Ks.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ys[Ks.COERCERTL].lastIndex=-1}return r===null?null:Rv(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},Ed,Sd;function Ov(){return Sd||(Sd=1,Ed=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Ed}var jv=Me;Me.Node=tn,Me.create=Me;function Me(e){var t=this;if(t instanceof Me||(t=new Me),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}Me.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Me.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Me.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Me.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Pv(this,arguments[e]);return this.length},Me.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Lv(this,arguments[e]);return this.length},Me.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Me.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Me.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next},Me.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev},Me.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value},Me.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value},Me.prototype.map=function(e,t){t=t||this;for(var r=new Me,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r},Me.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Me,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r},Me.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r},Me.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r},Me.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e},Me.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e},Me.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Me;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r},Me.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new Me;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r},Me.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Tv(this,i,r[n]);return s},Me.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function Tv(e,t,r){var n=t===e.head?new tn(r,null,t,e):new tn(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Pv(e,t){e.tail=new tn(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Lv(e,t){e.head=new tn(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function tn(e,t,r,n){if(!(this instanceof tn))return new tn(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Ov()(Me)}catch{}const Bv=jv,rn=Symbol("max"),br=Symbol("length"),Kn=Symbol("lengthCalculator"),Ji=Symbol("allowStale"),nn=Symbol("maxAge"),vr=Symbol("dispose"),Md=Symbol("noDisposeOnSet"),ut=Symbol("lruList"),Qt=Symbol("cache"),xd=Symbol("updateAgeOnGet"),pu=()=>1;class Dv{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[rn]=t.max||1/0;const r=t.length||pu;if(this[Kn]=typeof r!="function"?pu:r,this[Ji]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[nn]=t.maxAge||0,this[vr]=t.dispose,this[Md]=t.noDisposeOnSet||!1,this[xd]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[rn]=t||1/0,Gi(this)}get max(){return this[rn]}set allowStale(t){this[Ji]=!!t}get allowStale(){return this[Ji]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[nn]=t,Gi(this)}get maxAge(){return this[nn]}set lengthCalculator(t){typeof t!="function"&&(t=pu),t!==this[Kn]&&(this[Kn]=t,this[br]=0,this[ut].forEach(r=>{r.length=this[Kn](r.value,r.key),this[br]+=r.length})),Gi(this)}get lengthCalculator(){return this[Kn]}get length(){return this[br]}get itemCount(){return this[ut].length}rforEach(t,r){r=r||this;for(let n=this[ut].tail;n!==null;){const i=n.prev;Id(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[ut].head;n!==null;){const i=n.next;Id(this,t,n,r),n=i}}keys(){return this[ut].toArray().map(t=>t.key)}values(){return this[ut].toArray().map(t=>t.value)}reset(){this[vr]&&this[ut]&&this[ut].length&&this[ut].forEach(t=>this[vr](t.key,t.value)),this[Qt]=new Map,this[ut]=new Bv,this[br]=0}dump(){return this[ut].map(t=>Xs(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[ut]}set(t,r,n){if(n=n||this[nn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Kn](r,t);if(this[Qt].has(t)){if(s>this[rn])return Xn(this,this[Qt].get(t)),!1;const a=this[Qt].get(t).value;return this[vr]&&(this[Md]||this[vr](t,a.value)),a.now=i,a.maxAge=n,a.value=r,this[br]+=s-a.length,a.length=s,this.get(t),Gi(this),!0}const o=new Fv(t,r,s,i,n);return o.length>this[rn]?(this[vr]&&this[vr](t,r),!1):(this[br]+=o.length,this[ut].unshift(o),this[Qt].set(t,this[ut].head),Gi(this),!0)}has(t){if(!this[Qt].has(t))return!1;const r=this[Qt].get(t).value;return!Xs(this,r)}get(t){return gu(this,t,!0)}peek(t){return gu(this,t,!1)}pop(){const t=this[ut].tail;return t?(Xn(this,t),t.value):null}del(t){Xn(this,this[Qt].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Qt].forEach((t,r)=>gu(this,r,!1))}}const gu=(e,t,r)=>{const n=e[Qt].get(t);if(n){const i=n.value;if(Xs(e,i)){if(Xn(e,n),!e[Ji])return}else r&&(e[xd]&&(n.value.now=Date.now()),e[ut].unshiftNode(n));return i.value}},Xs=(e,t)=>{if(!t||!t.maxAge&&!e[nn])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[nn]&&r>e[nn]},Gi=e=>{if(e[br]>e[rn])for(let t=e[ut].tail;e[br]>e[rn]&&t!==null;){const r=t.prev;Xn(e,t),t=r}},Xn=(e,t)=>{if(t){const r=t.value;e[vr]&&e[vr](r.key,r.value),e[br]-=r.length,e[Qt].delete(r.key),e[ut].removeNode(t)}};class Fv{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Id=(e,t,r,n)=>{let i=r.value;Xs(e,i)&&(Xn(e,r),e[Ji]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var Uv=Dv,yu,kd;function Yt(){if(kd)return yu;kd=1;class e{constructor(d,m){if(m=n(m),d instanceof e)return d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease?d:new e(d.raw,m);if(d instanceof i)return this.raw=d.value,this.set=[[d]],this.format(),this;if(this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease,this.raw=d,this.set=d.split("||").map(S=>this.parseRange(S.trim())).filter(S=>S.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${d}`);if(this.set.length>1){const S=this.set[0];if(this.set=this.set.filter(g=>!F(g[0])),this.set.length===0)this.set=[S];else if(this.set.length>1){for(const g of this.set)if(g.length===1&&D(g[0])){this.set=[g];break}}}this.format()}format(){return this.range=this.set.map(d=>d.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(d){d=d.trim();const m=((this.options.includePrerelease&&M)|(this.options.loose&&A))+":"+d,S=r.get(m);if(S)return S;const g=this.options.loose,v=g?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];d=d.replace(v,ie(this.options.includePrerelease)),s("hyphen replace",d),d=d.replace(a[l.COMPARATORTRIM],p),s("comparator trim",d),d=d.replace(a[l.TILDETRIM],_),d=d.replace(a[l.CARETTRIM],x),d=d.split(/\s+/).join(" ");let E=d.split(" ").map(V=>C(V,this.options)).join(" ").split(/\s+/).map(V=>pe(V,this.options));g&&(E=E.filter(V=>(s("loose invalid filter",V,this.options),!!V.match(a[l.COMPARATORLOOSE])))),s("range list",E);const b=new Map,h=E.map(V=>new i(V,this.options));for(const V of h){if(F(V))return[V];b.set(V.value,V)}b.size>1&&b.has("")&&b.delete("");const w=[...b.values()];return r.set(m,w),w}intersects(d,m){if(!(d instanceof e))throw new TypeError("a Range is required");return this.set.some(S=>H(S,m)&&d.set.some(g=>H(g,m)&&S.every(v=>g.every(E=>v.intersects(E,m)))))}test(d){if(!d)return!1;if(typeof d=="string")try{d=new o(d,this.options)}catch{return!1}for(let m=0;m<this.set.length;m++)if(ae(this.set[m],d,this.options))return!0;return!1}}yu=e;const t=Uv,r=new t({max:1e3}),n=cu,i=eo(),s=Js,o=Et,{re:a,t:l,comparatorTrimReplace:p,tildeTrimReplace:_,caretTrimReplace:x}=qi,{FLAG_INCLUDE_PRERELEASE:M,FLAG_LOOSE:A}=qs,F=u=>u.value==="<0.0.0-0",D=u=>u.value==="",H=(u,d)=>{let m=!0;const S=u.slice();let g=S.pop();for(;m&&S.length;)m=S.every(v=>g.intersects(v,d)),g=S.pop();return m},C=(u,d)=>(s("comp",u,d),u=B(u,d),s("caret",u),u=P(u,d),s("tildes",u),u=ne(u,d),s("xrange",u),u=Q(u,d),s("stars",u),u),T=u=>!u||u.toLowerCase()==="x"||u==="*",P=(u,d)=>u.trim().split(/\s+/).map(m=>$(m,d)).join(" "),$=(u,d)=>{const m=d.loose?a[l.TILDELOOSE]:a[l.TILDE];return u.replace(m,(S,g,v,E,b)=>{s("tilde",u,S,g,v,E,b);let h;return T(g)?h="":T(v)?h=`>=${g}.0.0 <${+g+1}.0.0-0`:T(E)?h=`>=${g}.${v}.0 <${g}.${+v+1}.0-0`:b?(s("replaceTilde pr",b),h=`>=${g}.${v}.${E}-${b} <${g}.${+v+1}.0-0`):h=`>=${g}.${v}.${E} <${g}.${+v+1}.0-0`,s("tilde return",h),h})},B=(u,d)=>u.trim().split(/\s+/).map(m=>J(m,d)).join(" "),J=(u,d)=>{s("caret",u,d);const m=d.loose?a[l.CARETLOOSE]:a[l.CARET],S=d.includePrerelease?"-0":"";return u.replace(m,(g,v,E,b,h)=>{s("caret",u,g,v,E,b,h);let w;return T(v)?w="":T(E)?w=`>=${v}.0.0${S} <${+v+1}.0.0-0`:T(b)?v==="0"?w=`>=${v}.${E}.0${S} <${v}.${+E+1}.0-0`:w=`>=${v}.${E}.0${S} <${+v+1}.0.0-0`:h?(s("replaceCaret pr",h),v==="0"?E==="0"?w=`>=${v}.${E}.${b}-${h} <${v}.${E}.${+b+1}-0`:w=`>=${v}.${E}.${b}-${h} <${v}.${+E+1}.0-0`:w=`>=${v}.${E}.${b}-${h} <${+v+1}.0.0-0`):(s("no pr"),v==="0"?E==="0"?w=`>=${v}.${E}.${b}${S} <${v}.${E}.${+b+1}-0`:w=`>=${v}.${E}.${b}${S} <${v}.${+E+1}.0-0`:w=`>=${v}.${E}.${b} <${+v+1}.0.0-0`),s("caret return",w),w})},ne=(u,d)=>(s("replaceXRanges",u,d),u.split(/\s+/).map(m=>ee(m,d)).join(" ")),ee=(u,d)=>{u=u.trim();const m=d.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return u.replace(m,(S,g,v,E,b,h)=>{s("xRange",u,S,g,v,E,b,h);const w=T(v),V=w||T(E),G=V||T(b),X=G;return g==="="&&X&&(g=""),h=d.includePrerelease?"-0":"",w?g===">"||g==="<"?S="<0.0.0-0":S="*":g&&X?(V&&(E=0),b=0,g===">"?(g=">=",V?(v=+v+1,E=0,b=0):(E=+E+1,b=0)):g==="<="&&(g="<",V?v=+v+1:E=+E+1),g==="<"&&(h="-0"),S=`${g+v}.${E}.${b}${h}`):V?S=`>=${v}.0.0${h} <${+v+1}.0.0-0`:G&&(S=`>=${v}.${E}.0${h} <${v}.${+E+1}.0-0`),s("xRange return",S),S})},Q=(u,d)=>(s("replaceStars",u,d),u.trim().replace(a[l.STAR],"")),pe=(u,d)=>(s("replaceGTE0",u,d),u.trim().replace(a[d.includePrerelease?l.GTE0PRE:l.GTE0],"")),ie=u=>(d,m,S,g,v,E,b,h,w,V,G,X,R)=>(T(S)?m="":T(g)?m=`>=${S}.0.0${u?"-0":""}`:T(v)?m=`>=${S}.${g}.0${u?"-0":""}`:E?m=`>=${m}`:m=`>=${m}${u?"-0":""}`,T(w)?h="":T(V)?h=`<${+w+1}.0.0-0`:T(G)?h=`<${w}.${+V+1}.0-0`:X?h=`<=${w}.${V}.${G}-${X}`:u?h=`<${w}.${V}.${+G+1}-0`:h=`<=${h}`,`${m} ${h}`.trim()),ae=(u,d,m)=>{for(let S=0;S<u.length;S++)if(!u[S].test(d))return!1;if(d.prerelease.length&&!m.includePrerelease){for(let S=0;S<u.length;S++)if(s(u[S].semver),u[S].semver!==i.ANY&&u[S].semver.prerelease.length>0){const g=u[S].semver;if(g.major===d.major&&g.minor===d.minor&&g.patch===d.patch)return!0}return!1}return!0};return yu}var mu,Cd;function eo(){if(Cd)return mu;Cd=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(_,x){if(x=r(x),_ instanceof t){if(_.loose===!!x.loose)return _;_=_.value}o("comparator",_,x),this.options=x,this.loose=!!x.loose,this.parse(_),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(_){const x=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],M=_.match(x);if(!M)throw new TypeError(`Invalid comparator: ${_}`);this.operator=M[1]!==void 0?M[1]:"",this.operator==="="&&(this.operator=""),M[2]?this.semver=new a(M[2],this.options.loose):this.semver=e}toString(){return this.value}test(_){if(o("Comparator.test",_,this.options.loose),this.semver===e||_===e)return!0;if(typeof _=="string")try{_=new a(_,this.options)}catch{return!1}return s(_,this.operator,this.semver,this.options)}intersects(_,x){if(!(_ instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(_.value,x).test(this.value):_.operator===""?_.value===""?!0:new l(this.value,x).test(_.semver):(x=r(x),x.includePrerelease&&(this.value==="<0.0.0-0"||_.value==="<0.0.0-0")||!x.includePrerelease&&(this.value.startsWith("<0.0.0")||_.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&_.operator.startsWith(">")||this.operator.startsWith("<")&&_.operator.startsWith("<")||this.semver.version===_.semver.version&&this.operator.includes("=")&&_.operator.includes("=")||s(this.semver,"<",_.semver,x)&&this.operator.startsWith(">")&&_.operator.startsWith("<")||s(this.semver,">",_.semver,x)&&this.operator.startsWith("<")&&_.operator.startsWith(">")))}}mu=t;const r=cu,{re:n,t:i}=qi,s=_d,o=Js,a=Et,l=Yt();return mu}const $v=Yt();var to=(e,t,r)=>{try{t=new $v(t,r)}catch{return!1}return t.test(e)};const Vv=Yt();var zv=(e,t)=>new Vv(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));const Hv=Et,Wv=Yt();var qv=(e,t,r)=>{let n=null,i=null,s=null;try{s=new Wv(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Hv(n,r))}),n};const Jv=Et,Gv=Yt();var Zv=(e,t,r)=>{let n=null,i=null,s=null;try{s=new Gv(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Jv(n,r))}),n};const bu=Et,Qv=Yt(),Ad=Qs;var Yv=(e,t)=>{e=new Qv(e,t);let r=new bu("0.0.0");if(e.test(r)||(r=new bu("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const a=new bu(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Ad(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Ad(r,s))&&(r=s)}return r&&e.test(r)?r:null};const Kv=Yt();var Xv=(e,t)=>{try{return new Kv(e,t).range||"*"}catch{return null}};const ew=Et,Rd=eo(),{ANY:tw}=Rd,rw=Yt(),nw=to,Nd=Qs,Od=hu,iw=fu,sw=du;var vu=(e,t,r,n)=>{e=new ew(e,n),t=new rw(t,n);let i,s,o,a,l;switch(r){case">":i=Nd,s=iw,o=Od,a=">",l=">=";break;case"<":i=Od,s=sw,o=Nd,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(nw(e,t,n))return!1;for(let p=0;p<t.set.length;++p){const _=t.set[p];let x=null,M=null;if(_.forEach(A=>{A.semver===tw&&(A=new Rd(">=0.0.0")),x=x||A,M=M||A,i(A.semver,x.semver,n)?x=A:o(A.semver,M.semver,n)&&(M=A)}),x.operator===a||x.operator===l||(!M.operator||M.operator===a)&&s(e,M.semver)||M.operator===l&&o(e,M.semver))return!1}return!0};const ow=vu;var aw=(e,t,r)=>ow(e,t,">",r);const uw=vu;var cw=(e,t,r)=>uw(e,t,"<",r);const jd=Yt();var lw=(e,t,r)=>(e=new jd(e,r),t=new jd(t,r),e.intersects(t,r));const hw=to,dw=Zt;var fw=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((_,x)=>dw(_,x,r));for(const _ of o)hw(_,t,r)?(s=_,i||(i=_)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[_,x]of n)_===x?a.push(_):!x&&_===o[0]?a.push("*"):x?_===o[0]?a.push(`<=${x}`):a.push(`${_} - ${x}`):a.push(`>=${_}`);const l=a.join(" || "),p=typeof t.raw=="string"?t.raw:String(t);return l.length<p.length?l:t};const Td=Yt(),wu=eo(),{ANY:_u}=wu,Zi=to,Eu=Zt,pw=(e,t,r={})=>{if(e===t)return!0;e=new Td(e,r),t=new Td(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=yw(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},gw=[new wu(">=0.0.0-0")],Pd=[new wu(">=0.0.0")],yw=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===_u){if(t.length===1&&t[0].semver===_u)return!0;r.includePrerelease?e=gw:e=Pd}if(t.length===1&&t[0].semver===_u){if(r.includePrerelease)return!0;t=Pd}const n=new Set;let i,s;for(const A of e)A.operator===">"||A.operator===">="?i=Ld(i,A,r):A.operator==="<"||A.operator==="<="?s=Bd(s,A,r):n.add(A.semver);if(n.size>1)return null;let o;if(i&&s&&(o=Eu(i.semver,s.semver,r),o>0||o===0&&(i.operator!==">="||s.operator!=="<=")))return null;for(const A of n){if(i&&!Zi(A,String(i),r)||s&&!Zi(A,String(s),r))return null;for(const F of t)if(!Zi(A,String(F),r))return!1;return!0}let a,l,p,_,x=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,M=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;x&&x.prerelease.length===1&&s.operator==="<"&&x.prerelease[0]===0&&(x=!1);for(const A of t){if(_=_||A.operator===">"||A.operator===">=",p=p||A.operator==="<"||A.operator==="<=",i){if(M&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===M.major&&A.semver.minor===M.minor&&A.semver.patch===M.patch&&(M=!1),A.operator===">"||A.operator===">="){if(a=Ld(i,A,r),a===A&&a!==i)return!1}else if(i.operator===">="&&!Zi(i.semver,String(A),r))return!1}if(s){if(x&&A.semver.prerelease&&A.semver.prerelease.length&&A.semver.major===x.major&&A.semver.minor===x.minor&&A.semver.patch===x.patch&&(x=!1),A.operator==="<"||A.operator==="<="){if(l=Bd(s,A,r),l===A&&l!==s)return!1}else if(s.operator==="<="&&!Zi(s.semver,String(A),r))return!1}if(!A.operator&&(s||i)&&o!==0)return!1}return!(i&&p&&!s&&o!==0||s&&_&&!i&&o!==0||M||x)},Ld=(e,t,r)=>{if(!e)return t;const n=Eu(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Bd=(e,t,r)=>{if(!e)return t;const n=Eu(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var mw=pw;const Su=qi,Dd=qs,bw=Et,Fd=ld,vw=Yn,ww=Qb,_w=Kb,Ew=Xb,Sw=ev,Mw=rv,xw=iv,Iw=ov,kw=uv,Cw=Zt,Aw=lv,Rw=dv,Nw=lu,Ow=pv,jw=yv,Tw=Qs,Pw=hu,Lw=vd,Bw=wd,Dw=du,Fw=fu,Uw=_d,$w=Nv,Vw=eo(),zw=Yt();var Hw={parse:vw,valid:ww,clean:_w,inc:Ew,diff:Sw,major:Mw,minor:xw,patch:Iw,prerelease:kw,compare:Cw,rcompare:Aw,compareLoose:Rw,compareBuild:Nw,sort:Ow,rsort:jw,gt:Tw,lt:Pw,eq:Lw,neq:Bw,gte:Dw,lte:Fw,cmp:Uw,coerce:$w,Comparator:Vw,Range:zw,satisfies:to,toComparators:zv,maxSatisfying:qv,minSatisfying:Zv,minVersion:Yv,validRange:Xv,outside:vu,gtr:aw,ltr:cw,intersects:lw,simplifyRange:fw,subset:mw,SemVer:bw,re:Su.re,src:Su.src,tokens:Su.t,SEMVER_SPEC_VERSION:Dd.SEMVER_SPEC_VERSION,RELEASE_TYPES:Dd.RELEASE_TYPES,compareIdentifiers:Fd.compareIdentifiers,rcompareIdentifiers:Fd.rcompareIdentifiers};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=Hw,r=en,n=dt;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",x=>(0,t.valid)(x)===null?`Expected SemVer version, got "${x}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",x=>(0,t.validRange)(x)===null?`Expected SemVer range, got "${x}"`:!0);function i(x){return(0,r.is)(x,e.VersionStruct)}e.isValidSemVerVersion=i;function s(x){return(0,r.is)(x,e.VersionRangeStruct)}e.isValidSemVerRange=s;function o(x){(0,n.assertStruct)(x,e.VersionStruct)}e.assertIsSemVerVersion=o;function a(x){(0,n.assertStruct)(x,e.VersionRangeStruct)}e.assertIsSemVerRange=a;function l(x,M){return(0,t.gt)(x,M)}e.gtVersion=l;function p(x,M){return(0,t.gtr)(x,M)}e.gtRange=p;function _(x,M){return(0,t.satisfies)(x,M,{includePrerelease:!0})}e.satisfiesVersionRange=_})(ad),function(e){var t=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(dt,e),r(zi,e),r(Se,e),r(Hs,e),r(or,e),r(Jn,e),r(Hi,e),r(id,e),r(Gn,e),r(au,e),r(ur,e),r(sd,e),r(od,e),r(ad,e)}(Th),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=Th;Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")}(jh);var Ud=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.PollingBlockTracker=void 0;const Ww=Ud(Za),qw=Ud(pm),Jw=$i,$d=jh,Vd=(0,$d.createModuleLogger)($d.projectLogger,"polling-block-tracker"),Gw=(0,Ww.default)(),Zw=1e3;class Qw extends Jw.BaseBlockTracker{constructor(t={}){var r;if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=t.blockResetDuration)!==null&&r!==void 0?r:t.pollingInterval}),this._provider=t.provider,this._pollingInterval=t.pollingInterval||20*Zw,this._retryTimeout=t.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=t.keepEventLoopActive===void 0?!0:t.keepEventLoopActive,this._setSkipCacheFlag=t.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var t;this._isRunning;)try{await this._updateLatestBlock();const r=zd(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(t=r.stack)!==null&&t!==void 0?t:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=zd(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:Gw(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0),Vd("Making request",t);const r=await(0,qw.default)(n=>this._provider.sendAsync(t,n))();if(Vd("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Vs.PollingBlockTracker=Qw;function zd(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}var ro={},Yw=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ro,"__esModule",{value:!0}),ro.SubscribeBlockTracker=void 0;const Kw=Yw(Za),Xw=$i,e2=(0,Kw.default)();class t2 extends Xw.BaseBlockTracker{constructor(t={}){if(!t.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(t),this._provider=t.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const t=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t)}catch(t){this.emit("error",t)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(t){this.emit("error",t)}}_call(t,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:e2(),method:t,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(t,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}ro.SubscribeBlockTracker=t2;var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0}),function(e){var t=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(Vs,e),r(ro,e),r(Hd,e)}(Ah);var Mu={},no={},Qi={};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.getUniqueId=void 0;const Wd=4294967295;let xu=Math.floor(Math.random()*Wd);function r2(){return xu=(xu+1)%Wd,xu}Qi.getUniqueId=r2,Object.defineProperty(no,"__esModule",{value:!0}),no.createIdRemapMiddleware=void 0;const n2=Qi;function i2(){return(e,t,r,n)=>{const i=e.id,s=n2.getUniqueId();e.id=s,t.id=s,r(o=>{e.id=i,t.id=i,o()})}}no.createIdRemapMiddleware=i2;var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.createAsyncMiddleware=void 0;function s2(e){return async(t,r,n,i)=>{let s;const o=new Promise(_=>{s=_});let a=null,l=!1;const p=async()=>{l=!0,n(_=>{a=_,s()}),await o};try{await e(t,r,p),l?(await o,a(null)):i(null)}catch(_){a?a(_):i(_)}}}io.createAsyncMiddleware=s2;var so={};Object.defineProperty(so,"__esModule",{value:!0}),so.createScaffoldMiddleware=void 0;function o2(e){return(t,r,n,i)=>{const s=e[t.method];return s===void 0?n():typeof s=="function"?s(t,r,n,i):(r.result=s,i())}}so.createScaffoldMiddleware=o2;var Yi={},qd={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.EthereumProviderError=Nr.EthereumRpcError=void 0;const a2=Cc;class Jd extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return a2.default(this.serialize(),l2,2)}}Nr.EthereumRpcError=Jd;class u2 extends Jd{constructor(t,r,n){if(!c2(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}Nr.EthereumProviderError=u2;function c2(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function l2(e,t){if(t!=="[Circular]")return t}var Iu={},Or={};Object.defineProperty(Or,"__esModule",{value:!0}),Or.errorValues=Or.errorCodes=void 0,Or.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Or.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Or,r=Nr,n=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(M,A=i){if(Number.isInteger(M)){const F=M.toString();if(x(t.errorValues,F))return t.errorValues[F].message;if(p(M))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return A}e.getMessageFromCode=o;function a(M){if(!Number.isInteger(M))return!1;const A=M.toString();return!!(t.errorValues[A]||p(M))}e.isValidCode=a;function l(M,{fallbackError:A=s,shouldIncludeStack:F=!1}={}){var D,H;if(!A||!Number.isInteger(A.code)||typeof A.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(M instanceof r.EthereumRpcError)return M.serialize();const C={};if(M&&typeof M=="object"&&!Array.isArray(M)&&x(M,"code")&&a(M.code)){const P=M;C.code=P.code,P.message&&typeof P.message=="string"?(C.message=P.message,x(P,"data")&&(C.data=P.data)):(C.message=o(C.code),C.data={originalError:_(M)})}else{C.code=A.code;const P=(D=M)===null||D===void 0?void 0:D.message;C.message=P&&typeof P=="string"?P:A.message,C.data={originalError:_(M)}}const T=(H=M)===null||H===void 0?void 0:H.stack;return F&&M&&T&&typeof T=="string"&&(C.stack=T),C}e.serializeError=l;function p(M){return M>=-32099&&M<=-32e3}function _(M){return M&&typeof M=="object"&&!Array.isArray(M)?Object.assign({},M):M}function x(M,A){return Object.prototype.hasOwnProperty.call(M,A)}}(Iu);var oo={};Object.defineProperty(oo,"__esModule",{value:!0}),oo.ethErrors=void 0;const ku=Nr,Gd=Iu,mt=Or;oo.ethErrors={rpc:{parse:e=>Bt(mt.errorCodes.rpc.parse,e),invalidRequest:e=>Bt(mt.errorCodes.rpc.invalidRequest,e),invalidParams:e=>Bt(mt.errorCodes.rpc.invalidParams,e),methodNotFound:e=>Bt(mt.errorCodes.rpc.methodNotFound,e),internal:e=>Bt(mt.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Bt(t,e)},invalidInput:e=>Bt(mt.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>Bt(mt.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>Bt(mt.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>Bt(mt.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>Bt(mt.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>Bt(mt.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Ki(mt.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>Ki(mt.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>Ki(mt.errorCodes.provider.unsupportedMethod,e),disconnected:e=>Ki(mt.errorCodes.provider.disconnected,e),chainDisconnected:e=>Ki(mt.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ku.EthereumProviderError(t,r,n)}}};function Bt(e,t){const[r,n]=Zd(t);return new ku.EthereumRpcError(e,r||Gd.getMessageFromCode(e),n)}function Ki(e,t){const[r,n]=Zd(t);return new ku.EthereumProviderError(e,r||Gd.getMessageFromCode(e),n)}function Zd(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Nr;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=Iu;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=oo;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Or;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(qd);var h2=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.JsonRpcEngine=void 0;const d2=h2($r),Dt=qd;class wr extends d2.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,i)=>{try{const[s,o,a]=await wr._runAllMiddleware(t,r,this._middleware);return o?(await wr._runReturnHandlers(a),i(s)):n(async l=>{try{await wr._runReturnHandlers(a)}catch(p){return l(p)}return l()})}catch(s){return i(s)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,i)=>{r(i)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const o=new Dt.EthereumRpcError(Dt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof t.method!="string"){const o=new Dt.EthereumRpcError(Dt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(o,{id:t.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},t),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Dt.serializeError(s))),r(s,i)}async _processRequest(t,r){const[n,i,s]=await wr._runAllMiddleware(t,r,this._middleware);if(wr._checkForCompletion(t,r,i),await wr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(t,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await wr._runMiddleware(t,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(t,r,n,i){return new Promise(s=>{const o=l=>{const p=l||r.error;p&&(r.error=Dt.serializeError(p)),s([p,!0])},a=l=>{r.error?o(r.error):(l&&(typeof l!="function"&&o(new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${Cu(t)}`,{request:t})),i.push(l)),s([null,!1]))};try{n(t,r,a,o)}catch(l){o(l)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Cu(t)}`,{request:t});if(!n)throw new Dt.EthereumRpcError(Dt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Cu(t)}`,{request:t})}}Yi.JsonRpcEngine=wr;function Cu(e){return JSON.stringify(e,null,2)}var ao={};Object.defineProperty(ao,"__esModule",{value:!0}),ao.mergeMiddleware=void 0;const f2=Yi;function p2(e){const t=new f2.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}ao.mergeMiddleware=p2,function(e){var t=te&&te.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=te&&te.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(no,e),r(io,e),r(so,e),r(Qi,e),r(Yi,e),r(ao,e)}(Mu);var Qd={},Au={},Yd={exports:{}};(function(e){var t,r,n,i,s,o,a,l,p,_,x,M,A,F,D,H,C,T,P,$,B,J,ne,ee,Q,pe,ie,ae,u;(function(d){var m=typeof te=="object"?te:typeof self=="object"?self:typeof this=="object"?this:{};d(S(m,S(e.exports)));function S(g,v){return g!==m&&(typeof Object.create=="function"?Object.defineProperty(g,"__esModule",{value:!0}):g.__esModule=!0),function(E,b){return g[E]=v?v(E,b):b}}})(function(d){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(g[E]=v[E])};t=function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");m(g,v);function E(){this.constructor=g}g.prototype=v===null?Object.create(v):(E.prototype=v.prototype,new E)},r=Object.assign||function(g){for(var v,E=1,b=arguments.length;E<b;E++){v=arguments[E];for(var h in v)Object.prototype.hasOwnProperty.call(v,h)&&(g[h]=v[h])}return g},n=function(g,v){var E={};for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&v.indexOf(b)<0&&(E[b]=g[b]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,b=Object.getOwnPropertySymbols(g);h<b.length;h++)v.indexOf(b[h])<0&&Object.prototype.propertyIsEnumerable.call(g,b[h])&&(E[b[h]]=g[b[h]]);return E},i=function(g,v,E,b){var h=arguments.length,w=h<3?v:b===null?b=Object.getOwnPropertyDescriptor(v,E):b,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(g,v,E,b);else for(var G=g.length-1;G>=0;G--)(V=g[G])&&(w=(h<3?V(w):h>3?V(v,E,w):V(v,E))||w);return h>3&&w&&Object.defineProperty(v,E,w),w},s=function(g,v){return function(E,b){v(E,b,g)}},o=function(g,v,E,b,h,w){function V(q){if(q!==void 0&&typeof q!="function")throw new TypeError("Function expected");return q}for(var G=b.kind,X=G==="getter"?"get":G==="setter"?"set":"value",R=!v&&g?b.static?g:g.prototype:null,O=v||(R?Object.getOwnPropertyDescriptor(R,b.name):{}),U,Y=!1,K=E.length-1;K>=0;K--){var I={};for(var k in b)I[k]=k==="access"?{}:b[k];for(var k in b.access)I.access[k]=b.access[k];I.addInitializer=function(q){if(Y)throw new TypeError("Cannot add initializers after decoration has completed");w.push(V(q||null))};var z=(0,E[K])(G==="accessor"?{get:O.get,set:O.set}:O[X],I);if(G==="accessor"){if(z===void 0)continue;if(z===null||typeof z!="object")throw new TypeError("Object expected");(U=V(z.get))&&(O.get=U),(U=V(z.set))&&(O.set=U),(U=V(z.init))&&h.push(U)}else(U=V(z))&&(G==="field"?h.push(U):O[X]=U)}R&&Object.defineProperty(R,b.name,O),Y=!0},a=function(g,v,E){for(var b=arguments.length>2,h=0;h<v.length;h++)E=b?v[h].call(g,E):v[h].call(g);return b?E:void 0},l=function(g){return typeof g=="symbol"?g:"".concat(g)},p=function(g,v,E){return typeof v=="symbol"&&(v=v.description?"[".concat(v.description,"]"):""),Object.defineProperty(g,"name",{configurable:!0,value:E?"".concat(E," ",v):v})},_=function(g,v){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(g,v)},x=function(g,v,E,b){function h(w){return w instanceof E?w:new E(function(V){V(w)})}return new(E||(E=Promise))(function(w,V){function G(O){try{R(b.next(O))}catch(U){V(U)}}function X(O){try{R(b.throw(O))}catch(U){V(U)}}function R(O){O.done?w(O.value):h(O.value).then(G,X)}R((b=b.apply(g,v||[])).next())})},M=function(g,v){var E={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,h,w,V;return V={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function G(R){return function(O){return X([R,O])}}function X(R){if(b)throw new TypeError("Generator is already executing.");for(;V&&(V=0,R[0]&&(E=0)),E;)try{if(b=1,h&&(w=R[0]&2?h.return:R[0]?h.throw||((w=h.return)&&w.call(h),0):h.next)&&!(w=w.call(h,R[1])).done)return w;switch(h=0,w&&(R=[R[0]&2,w.value]),R[0]){case 0:case 1:w=R;break;case 4:return E.label++,{value:R[1],done:!1};case 5:E.label++,h=R[1],R=[0];continue;case 7:R=E.ops.pop(),E.trys.pop();continue;default:if(w=E.trys,!(w=w.length>0&&w[w.length-1])&&(R[0]===6||R[0]===2)){E=0;continue}if(R[0]===3&&(!w||R[1]>w[0]&&R[1]<w[3])){E.label=R[1];break}if(R[0]===6&&E.label<w[1]){E.label=w[1],w=R;break}if(w&&E.label<w[2]){E.label=w[2],E.ops.push(R);break}w[2]&&E.ops.pop(),E.trys.pop();continue}R=v.call(g,E)}catch(O){R=[6,O],h=0}finally{b=w=0}if(R[0]&5)throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}},A=function(g,v){for(var E in g)E!=="default"&&!Object.prototype.hasOwnProperty.call(v,E)&&u(v,g,E)},u=Object.create?function(g,v,E,b){b===void 0&&(b=E);var h=Object.getOwnPropertyDescriptor(v,E);(!h||("get"in h?!v.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return v[E]}}),Object.defineProperty(g,b,h)}:function(g,v,E,b){b===void 0&&(b=E),g[b]=v[E]},F=function(g){var v=typeof Symbol=="function"&&Symbol.iterator,E=v&&g[v],b=0;if(E)return E.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&b>=g.length&&(g=void 0),{value:g&&g[b++],done:!g}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},D=function(g,v){var E=typeof Symbol=="function"&&g[Symbol.iterator];if(!E)return g;var b=E.call(g),h,w=[],V;try{for(;(v===void 0||v-- >0)&&!(h=b.next()).done;)w.push(h.value)}catch(G){V={error:G}}finally{try{h&&!h.done&&(E=b.return)&&E.call(b)}finally{if(V)throw V.error}}return w},H=function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(D(arguments[v]));return g},C=function(){for(var g=0,v=0,E=arguments.length;v<E;v++)g+=arguments[v].length;for(var b=Array(g),h=0,v=0;v<E;v++)for(var w=arguments[v],V=0,G=w.length;V<G;V++,h++)b[h]=w[V];return b},T=function(g,v,E){if(E||arguments.length===2)for(var b=0,h=v.length,w;b<h;b++)(w||!(b in v))&&(w||(w=Array.prototype.slice.call(v,0,b)),w[b]=v[b]);return g.concat(w||Array.prototype.slice.call(v))},P=function(g){return this instanceof P?(this.v=g,this):new P(g)},$=function(g,v,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=E.apply(g,v||[]),h,w=[];return h={},V("next"),V("throw"),V("return"),h[Symbol.asyncIterator]=function(){return this},h;function V(Y){b[Y]&&(h[Y]=function(K){return new Promise(function(I,k){w.push([Y,K,I,k])>1||G(Y,K)})})}function G(Y,K){try{X(b[Y](K))}catch(I){U(w[0][3],I)}}function X(Y){Y.value instanceof P?Promise.resolve(Y.value.v).then(R,O):U(w[0][2],Y)}function R(Y){G("next",Y)}function O(Y){G("throw",Y)}function U(Y,K){Y(K),w.shift(),w.length&&G(w[0][0],w[0][1])}},B=function(g){var v,E;return v={},b("next"),b("throw",function(h){throw h}),b("return"),v[Symbol.iterator]=function(){return this},v;function b(h,w){v[h]=g[h]?function(V){return(E=!E)?{value:P(g[h](V)),done:!1}:w?w(V):V}:w}},J=function(g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=g[Symbol.asyncIterator],E;return v?v.call(g):(g=typeof F=="function"?F(g):g[Symbol.iterator](),E={},b("next"),b("throw"),b("return"),E[Symbol.asyncIterator]=function(){return this},E);function b(w){E[w]=g[w]&&function(V){return new Promise(function(G,X){V=g[w](V),h(G,X,V.done,V.value)})}}function h(w,V,G,X){Promise.resolve(X).then(function(R){w({value:R,done:G})},V)}},ne=function(g,v){return Object.defineProperty?Object.defineProperty(g,"raw",{value:v}):g.raw=v,g};var S=Object.create?function(g,v){Object.defineProperty(g,"default",{enumerable:!0,value:v})}:function(g,v){g.default=v};ee=function(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var E in g)E!=="default"&&Object.prototype.hasOwnProperty.call(g,E)&&u(v,g,E);return S(v,g),v},Q=function(g){return g&&g.__esModule?g:{default:g}},pe=function(g,v,E,b){if(E==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof v=="function"?g!==v||!b:!v.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?b:E==="a"?b.call(g):b?b.value:v.get(g)},ie=function(g,v,E,b,h){if(b==="m")throw new TypeError("Private method is not writable");if(b==="a"&&!h)throw new TypeError("Private accessor was defined without a setter");if(typeof v=="function"?g!==v||!h:!v.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return b==="a"?h.call(g,E):h?h.value=E:v.set(g,E),E},ae=function(g,v){if(v===null||typeof v!="object"&&typeof v!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof g=="function"?v===g:g.has(v)},d("__extends",t),d("__assign",r),d("__rest",n),d("__decorate",i),d("__param",s),d("__esDecorate",o),d("__runInitializers",a),d("__propKey",l),d("__setFunctionName",p),d("__metadata",_),d("__awaiter",x),d("__generator",M),d("__exportStar",A),d("__createBinding",u),d("__values",F),d("__read",D),d("__spread",H),d("__spreadArrays",C),d("__spreadArray",T),d("__await",P),d("__asyncGenerator",$),d("__asyncDelegator",B),d("__asyncValues",J),d("__makeTemplateObject",ne),d("__importStar",ee),d("__importDefault",Q),d("__classPrivateFieldGet",pe),d("__classPrivateFieldSet",ie),d("__classPrivateFieldIn",ae)})})(Yd);var Ru=Yd.exports,uo={};Object.defineProperty(uo,"__esModule",{value:!0});var Kd=Ru,g2=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(i){return t._queue.push(i)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return Kd.__awaiter(this,void 0,void 0,function(){var r,n,i;return Kd.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();uo.default=g2,Object.defineProperty(Au,"__esModule",{value:!0});var Xd=Ru,y2=uo,m2=function(){function e(){this._semaphore=new y2.default(1)}return e.prototype.acquire=function(){return Xd.__awaiter(this,void 0,void 0,function(){var t,r;return Xd.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();Au.default=m2;var co={};Object.defineProperty(co,"__esModule",{value:!0}),co.withTimeout=void 0;var lo=Ru;function b2(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return lo.__awaiter(n,void 0,void 0,function(){var o,a,l;return lo.__generator(this,function(p){switch(p.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},t),[4,e.acquire()];case 1:return a=p.sent(),o?(l=Array.isArray(a)?a[1]:a,l()):i(a),[2]}})})})},runExclusive:function(i){return lo.__awaiter(this,void 0,void 0,function(){var s,o;return lo.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}co.withTimeout=b2,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=Au;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=uo;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=co;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})}(Qd);var v2=_2,w2=Object.prototype.hasOwnProperty;function _2(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)w2.call(r,n)&&(e[n]=r[n])}return e}const E2=v2,S2=Za();var M2=de;function de(e){const t=this;t.currentProvider=e}de.prototype.getBalance=Xi(2,"eth_getBalance"),de.prototype.getCode=Xi(2,"eth_getCode"),de.prototype.getTransactionCount=Xi(2,"eth_getTransactionCount"),de.prototype.getStorageAt=Xi(3,"eth_getStorageAt"),de.prototype.call=Xi(2,"eth_call"),de.prototype.protocolVersion=be("eth_protocolVersion"),de.prototype.syncing=be("eth_syncing"),de.prototype.coinbase=be("eth_coinbase"),de.prototype.mining=be("eth_mining"),de.prototype.hashrate=be("eth_hashrate"),de.prototype.gasPrice=be("eth_gasPrice"),de.prototype.accounts=be("eth_accounts"),de.prototype.blockNumber=be("eth_blockNumber"),de.prototype.getBlockTransactionCountByHash=be("eth_getBlockTransactionCountByHash"),de.prototype.getBlockTransactionCountByNumber=be("eth_getBlockTransactionCountByNumber"),de.prototype.getUncleCountByBlockHash=be("eth_getUncleCountByBlockHash"),de.prototype.getUncleCountByBlockNumber=be("eth_getUncleCountByBlockNumber"),de.prototype.sign=be("eth_sign"),de.prototype.sendTransaction=be("eth_sendTransaction"),de.prototype.sendRawTransaction=be("eth_sendRawTransaction"),de.prototype.estimateGas=be("eth_estimateGas"),de.prototype.getBlockByHash=be("eth_getBlockByHash"),de.prototype.getBlockByNumber=be("eth_getBlockByNumber"),de.prototype.getTransactionByHash=be("eth_getTransactionByHash"),de.prototype.getTransactionByBlockHashAndIndex=be("eth_getTransactionByBlockHashAndIndex"),de.prototype.getTransactionByBlockNumberAndIndex=be("eth_getTransactionByBlockNumberAndIndex"),de.prototype.getTransactionReceipt=be("eth_getTransactionReceipt"),de.prototype.getUncleByBlockHashAndIndex=be("eth_getUncleByBlockHashAndIndex"),de.prototype.getUncleByBlockNumberAndIndex=be("eth_getUncleByBlockNumberAndIndex"),de.prototype.getCompilers=be("eth_getCompilers"),de.prototype.compileLLL=be("eth_compileLLL"),de.prototype.compileSolidity=be("eth_compileSolidity"),de.prototype.compileSerpent=be("eth_compileSerpent"),de.prototype.newFilter=be("eth_newFilter"),de.prototype.newBlockFilter=be("eth_newBlockFilter"),de.prototype.newPendingTransactionFilter=be("eth_newPendingTransactionFilter"),de.prototype.uninstallFilter=be("eth_uninstallFilter"),de.prototype.getFilterChanges=be("eth_getFilterChanges"),de.prototype.getFilterLogs=be("eth_getFilterLogs"),de.prototype.getLogs=be("eth_getLogs"),de.prototype.getWork=be("eth_getWork"),de.prototype.submitWork=be("eth_submitWork"),de.prototype.submitHashrate=be("eth_submitHashrate"),de.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(x2(e),function(r,n){if(!r&&n.error&&(r=new Error("EthQuery - RPC Error - "+n.error.message)),r)return t(r);t(null,n.result)})};function be(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function Xi(e,t){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},i)}}function x2(e){return E2({id:S2(),jsonrpc:"2.0",params:[]},e)}const ef=(e,t,r,n)=>function(...i){const s=t.promiseModule;return new s((o,a)=>{t.multiArgs?i.push((...l)=>{t.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):t.errorFirst?i.push((l,p)=>{l?a(l):o(p)}):i.push(o),Reflect.apply(e,this===r?n:this,i)})},tf=new WeakMap;var I2=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=(o,a)=>{let l=tf.get(o);if(l||(l={},tf.set(o,l)),a in l)return l[a];const p=A=>typeof A=="string"||typeof a=="symbol"?a===A:A.test(a),_=Reflect.getOwnPropertyDescriptor(o,a),x=_===void 0||_.writable||_.configurable,M=(t.include?t.include.some(p):!t.exclude.some(p))&&x;return l[a]=M,M},i=new WeakMap,s=new Proxy(e,{apply(o,a,l){const p=i.get(o);if(p)return Reflect.apply(p,a,l);const _=t.excludeMain?o:ef(o,t,s,o);return i.set(o,_),Reflect.apply(_,a,l)},get(o,a){const l=o[a];if(!n(o,a)||l===Function.prototype[a])return l;const p=i.get(l);if(p)return p;if(typeof l=="function"){const _=ef(l,t,s,o);return i.set(l,_),_}return l}});return s};const k2=$r.default;var Nu=class extends k2{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(t=>this.emit("update",t))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};const C2=Nu;var A2=class extends C2{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}},es={minBlockRef:R2,maxBlockRef:N2,sortBlockRefs:Ou,bnToHex:O2,blockRefIsNumber:j2,hexToInt:ho,incrementHexInt:T2,intToHex:rf,unsafeRandomBytes:P2};function R2(...e){return Ou(e)[0]}function N2(...e){const t=Ou(e);return t[t.length-1]}function Ou(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:ho(t)-ho(r))}function O2(e){return"0x"+e.toString(16)}function j2(e){return e&&!["earliest","latest","pending"].includes(e)}function ho(e){return e==null?e:Number.parseInt(e,16)}function T2(e){if(e==null)return e;const t=ho(e);return rf(t+1)}function rf(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function P2(e){let t="0x";for(let r=0;r<e;r++)t+=nf(),t+=nf();return t}function nf(){return Math.floor(Math.random()*16).toString(16)}const L2=M2,B2=I2,D2=A2,{bnToHex:ox,hexToInt:fo,incrementHexInt:F2,minBlockRef:U2,blockRefIsNumber:$2}=es;var V2=class extends D2{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new L2(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(r=>r.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),t==="earliest"&&(t="0x0"),this.params.fromBlock=t;const r=U2(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),i=await this._fetchLogs(n);this.addInitialResults(i)}async update({oldBlock:e,newBlock:t}){const r=t;let n;e?n=F2(e):n=t;const i=Object.assign({},this.params,{fromBlock:n,toBlock:r}),s=(await this._fetchLogs(i)).filter(o=>this.matchLog(o));this.addResults(s)}async _fetchLogs(e){return await B2(t=>this.ethQuery.getLogs(e,t))()}matchLog(e){if(fo(this.params.fromBlock)>=fo(e.blockNumber)||$2(this.params.toBlock)&&fo(this.params.toBlock)<=fo(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();return this.params.address&&t&&!this.params.address.includes(t)?!1:this.params.topics.every((r,n)=>{let i=e.topics[n];if(!i)return!1;i=i.toLowerCase();let s=Array.isArray(r)?r:[r];return s.includes(null)?!0:(s=s.map(o=>o.toLowerCase()),s.includes(i))})}},ju=z2;async function z2({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=sf(t),i=sf(r)-n+1,s=Array(i).fill().map((o,a)=>n+a).map(H2);return await Promise.all(s.map(o=>q2(e,"eth_getBlockByNumber",[o,!1])))}function sf(e){return e==null?e:Number.parseInt(e,16)}function H2(e){return e==null?e:"0x"+e.toString(16)}function W2(e,t){return new Promise((r,n)=>{e.sendAsync(t,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function q2(e,t,r){for(let n=0;n<3;n++)try{return await W2(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const J2=Nu,G2=ju,{incrementHexInt:Z2}=es;var Q2=class extends J2{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=Z2(e),i=(await G2({provider:this.provider,fromBlock:n,toBlock:r})).map(s=>s.hash);this.addResults(i)}};const Y2=Nu,K2=ju,{incrementHexInt:X2}=es;var e_=class extends Y2{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=X2(e),n=await K2({provider:this.provider,fromBlock:r,toBlock:t}),i=[];for(const s of n)i.push(...s.transactions);this.addResults(i)}};const t_=Qd.Mutex,{createAsyncMiddleware:r_,createScaffoldMiddleware:n_}=Mu,i_=V2,s_=Q2,o_=e_,{intToHex:of,hexToInt:Tu}=es;var a_=u_;function u_({blockTracker:e,provider:t}){let r=0,n={};const i=new t_,s=c_({mutex:i}),o=n_({eth_newFilter:s(Pu(l)),eth_newBlockFilter:s(Pu(p)),eth_newPendingTransactionFilter:s(Pu(_)),eth_uninstallFilter:s(po(A)),eth_getFilterChanges:s(po(x)),eth_getFilterLogs:s(po(M))}),a=async({oldBlock:T,newBlock:P})=>{if(n.length===0)return;const $=await i.acquire();try{await Promise.all(ei(n).map(async B=>{try{await B.update({oldBlock:T,newBlock:P})}catch(J){console.error(J)}}))}catch(B){console.error(B)}$()};return o.newLogFilter=l,o.newBlockFilter=p,o.newPendingTransactionFilter=_,o.uninstallFilter=A,o.getFilterChanges=x,o.getFilterLogs=M,o.destroy=()=>{H()},o;async function l(T){const P=new i_({provider:t,params:T});return await F(P),P}async function p(){const T=new s_({provider:t});return await F(T),T}async function _(){const T=new o_({provider:t});return await F(T),T}async function x(T){const P=Tu(T),$=n[P];if(!$)throw new Error(`No filter for index "${P}"`);return $.getChangesAndClear()}async function M(T){const P=Tu(T),$=n[P];if(!$)throw new Error(`No filter for index "${P}"`);let B=[];return $.type==="log"&&(B=$.getAllResults()),B}async function A(T){const P=Tu(T),$=!!n[P];return $&&await D(P),$}async function F(T){const P=ei(n).length,$=await e.getLatestBlock();await T.initialize({currentBlock:$}),r++,n[r]=T,T.id=r,T.idHex=of(r);const B=ei(n).length;return C({prevFilterCount:P,newFilterCount:B}),r}async function D(T){const P=ei(n).length;delete n[T];const $=ei(n).length;C({prevFilterCount:P,newFilterCount:$})}async function H(){const T=ei(n).length;n={},C({prevFilterCount:T,newFilterCount:0})}function C({prevFilterCount:T,newFilterCount:P}){if(T===0&&P>0){e.on("sync",a);return}if(T>0&&P===0){e.removeListener("sync",a);return}}}function Pu(e){return po(async(...t)=>{const r=await e(...t);return of(r.id)})}function po(e){return r_(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function c_({mutex:e}){return t=>async(r,n,i,s)=>{(await e.acquire())(),t(r,n,i,s)}}function ei(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const l_=$r.default,{createAsyncMiddleware:af,createScaffoldMiddleware:h_}=Mu,d_=a_,{unsafeRandomBytes:f_,incrementHexInt:p_}=es,g_=ju;var y_=m_;function m_({blockTracker:e,provider:t}){const r={},n=d_({blockTracker:e,provider:t});let i=!1;const s=new l_,o=h_({eth_subscribe:af(a),eth_unsubscribe:af(l)});return o.destroy=_,{events:s,middleware:o};async function a(x,M){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const A=x.params[0],F=f_(16);let D;switch(A){case"newHeads":D=H({subId:F});break;case"logs":const T=x.params[1],P=await n.newLogFilter(T);D=C({subId:F,filter:P});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${A}"`)}r[F]=D,M.result=F;return;function H({subId:T}){const P={type:A,destroy:async()=>{e.removeListener("sync",P.update)},update:async({oldBlock:$,newBlock:B})=>{const J=B,ne=p_($);(await g_({provider:t,fromBlock:ne,toBlock:J})).map(b_).filter(ee=>ee!==null).forEach(ee=>{p(T,ee)})}};return e.on("sync",P.update),P}function C({subId:T,filter:P}){return P.on("update",$=>p(T,$)),{type:A,destroy:async()=>await n.uninstallFilter(P.idHex)}}}async function l(x,M){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const A=x.params[0],F=r[A];if(!F){M.result=!1;return}delete r[A],await F.destroy(),M.result=!0}function p(x,M){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:x,result:M}})}function _(){s.removeAllListeners();for(const x in r)r[x].destroy(),delete r[x];i=!0}}function b_(e){return e==null?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty($s,"__esModule",{value:!0}),$s.SubscriptionManager=void 0;const v_=Ah,w_=y_,uf=()=>{};class __{constructor(t){const r=new v_.PollingBlockTracker({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=w_({blockTracker:r,provider:t});this.events=n,this.subscriptionMiddleware=i}async handleRequest(t){const r={};return await this.subscriptionMiddleware(t,r,uf,uf),r}destroy(){this.subscriptionMiddleware.destroy()}}$s.SubscriptionManager=__;var Lu=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kn,"__esModule",{value:!0}),kn.CoinbaseWalletProvider=void 0;const E_=Lu($r),S_=Lu(bs),bt=vs,Bu=An,cf=Rn,lf=qt,ye=se,Du=Lu(cm),M_=zn,Ce=Ch,x_=$s,hf="DefaultChainId",df="DefaultJsonRpcUrl";class I_ extends E_.default{constructor(t){var r,n;super(),this._filterPolyfill=new M_.FilterPolyfill(this),this._subscriptionManager=new x_.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=t.qrUrl,this.supportsAddressSwitching=t.supportsAddressSwitching,this.isLedger=t.isLedger;const i=this.getChainId(),s=(0,ye.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(lf.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(l=>(0,ye.ensureAddressString)(l)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var l;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const p=a.data.data.chainId,_=(l=a.data.data.jsonRpcUrl)!==null&&l!==void 0?l:this.jsonRpcUrl;this.updateProviderInfo(_,Number(p))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ye.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(df))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(df,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,r){this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(hf,r.toString(10)),((0,ye.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(t,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(t,r,n,i,s,o){var a,l;if((0,ye.ensureIntNumber)(t)===this.getChainId())return!1;const p=await this.initializeRelay(),_=p.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!_&&await p.requestEthereumAccounts().promise;const x=await p.addEthereumChain(t.toString(),r,s,n,i,o).promise;return((a=x.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],t),((l=x.result)===null||l===void 0?void 0:l.isApproved)===!0}async switchEthereumChain(t){const r=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if(r.errorCode)throw bt.ethErrors.provider.custom({code:r.errorCode});const n=r.result;n.isApproved&&n.rpcUrl.length>0&&this.updateProviderInfo(n.rpcUrl,t)}setAppInfo(t,r){this.initializeRelay().then(n=>n.setAppInfo(t,r))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(Bu.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?cf.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(Ce.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(t,r){if(typeof t=="string"){const i=t,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=t,s=r;return this._sendAsync(i,s)}if(Array.isArray(t))return t.map(i=>this._sendRequest(i));const n=t;return this._sendRequest(n)}async sendAsync(t,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(t)){const i=r;this._sendMultipleRequestsAsync(t).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(t).then(i=>n(null,i)).catch(i=>n(i,null))}async request(t){if(!t||typeof t!="object"||Array.isArray(t))throw bt.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw bt.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw bt.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(t){const r=await(await this.initializeRelay()).scanQRCode((0,ye.ensureRegExpString)(t)).promise;if(typeof r.result!="string")throw new Error("result was not a string");return r.result}async genericRequest(t,r){const n=await(await this.initializeRelay()).genericRequest(t,r).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async selectProvider(t){const r=await(await this.initializeRelay()).selectProvider(t).promise;if(typeof r.result!="string")throw new Error("result was not a string");return r.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const r={jsonrpc:"2.0",id:t.id},{method:n}=t;if(r.result=this._handleSynchronousMethods(t),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(t,r){if(!Array.isArray(t))throw new Error("addresses is not an array");const n=t.map(i=>(0,ye.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(lf.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(t);if(i!==void 0)return r({jsonrpc:"2.0",id:t.id,result:i});const s=this._handleAsynchronousFilterMethods(t);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:t.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(t);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:t.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(t).then(i=>i&&r(Object.assign(Object.assign({},i),{id:t.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case Ce.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Ce.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Ce.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Ce.JSONRPCMethod.net_version:return this._net_version();case Ce.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case Ce.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Ce.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Ce.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Ce.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Ce.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Ce.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Ce.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Ce.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Ce.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Ce.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Ce.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Ce.JSONRPCMethod.eth_signTypedData_v4:case Ce.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Ce.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Ce.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Ce.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Ce.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(t){const{method:r}=t,n=t.params||[];switch(r){case Ce.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Ce.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Ce.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Ce.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Ce.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(t){switch(t.method){case Ce.JSONRPCMethod.eth_subscribe:case Ce.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const r=(0,ye.ensureAddressString)(t);return this._addresses.map(n=>(0,ye.ensureAddressString)(n)).includes(r)}catch{}return!1}_ensureKnownAddress(t){var r;if(!this._isKnownAddress(t))throw(r=this.diagnostic)===null||r===void 0||r.log(Bu.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,ye.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,ye.ensureAddressString)(t.to):null,i=t.value!=null?(0,ye.ensureBN)(t.value):new S_.default(0),s=t.data?(0,ye.ensureBuffer)(t.data):Buffer.alloc(0),o=t.nonce!=null?(0,ye.ensureIntNumber)(t.nonce):null,a=t.gasPrice!=null?(0,ye.ensureBN)(t.gasPrice):null,l=t.maxFeePerGas!=null?(0,ye.ensureBN)(t.maxFeePerGas):null,p=t.maxPriorityFeePerGas!=null?(0,ye.ensureBN)(t.maxPriorityFeePerGas):null,_=t.gas!=null?(0,ye.ensureBN)(t.gas):null,x=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:p,gasLimit:_,chainId:x}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw bt.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw bt.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(t,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?bt.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(t,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ye.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(hf);if(!t)return(0,ye.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(t,10);return(0,ye.ensureIntNumber)(r)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(Bu.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?cf.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?bt.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,ye.ensureAddressString)(t[0]),n=(0,ye.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,ye.ensureBuffer)(t[0]),n=(0,ye.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,ye.ensureBuffer)(t[0]),n=(0,ye.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,ye.ensureBuffer)(t[0]),n=(0,ye.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?bt.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,ye.ensureBuffer)(t[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?bt.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,ye.ensureParsedJSONObject)(t[0]),n=(0,ye.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const i=Du.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,ye.ensureAddressString)(t[0]),n=(0,ye.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const i=Du.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,ye.ensureAddressString)(t[0]),n=(0,ye.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const i=Du.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(t){const r=t[0],n=t[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(t){var r,n,i,s;const o=t[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw bt.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw bt.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw bt.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw bt.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw bt.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw bt.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(t){const r=(0,ye.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(t){const r=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const r=(0,ye.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(t){const r=(0,ye.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}}kn.CoinbaseWalletProvider=I_;var go={},yo={};const Ct=In(nM);function ti(e){return typeof e=="function"}var ff=!1,Ft={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;""+t.stack}ff=e},get useDeprecatedSynchronousErrorHandling(){return ff}};function ri(e){setTimeout(function(){throw e},0)}var mo={closed:!0,next:function(e){},error:function(e){if(Ft.useDeprecatedSynchronousErrorHandling)throw e;ri(e)},complete:function(){}},St=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}();function Fu(e){return e!==null&&typeof e=="object"}var k_=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),ts=k_,Ye=function(){function e(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var l=n[a];l.remove(this)}if(ti(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(x){t=x instanceof ts?pf(x.errors):[x]}}if(St(o))for(var a=-1,p=o.length;++a<p;){var _=o[a];if(Fu(_))try{_.unsubscribe()}catch(M){t=t||[],M instanceof ts?t=t.concat(pf(M.errors)):t.push(M)}}if(t)throw new ts(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;r=new e,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},e.prototype.remove=function(t){var r=this._subscriptions;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}();function pf(e){return e.reduce(function(t,r){return t.concat(r instanceof ts?r.errors:r)},[])}var bo=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),oe=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=mo;break;case 1:if(!r){s.destination=mo;break}if(typeof r=="object"){r instanceof t?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new gf(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new gf(s,r,n,i);break}return s}return t.prototype[bo]=function(){return this},t.create=function(r,n,i){var s=new t(r,n,i);return s.syncErrorThrowable=!1,s},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},t}(Ye),gf=function(e){W.__extends(t,e);function t(r,n,i,s){var o=e.call(this)||this;o._parentSubscriber=r;var a,l=o;return ti(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==mo&&(l=Object.create(n),ti(l.unsubscribe)&&o.add(l.unsubscribe.bind(l)),l.unsubscribe=o.unsubscribe.bind(o))),o._context=l,o._next=a,o._error=i,o._complete=s,o}return t.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ft.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},t.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ft.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):ri(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;ri(r)}}},t.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ft.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ft.useDeprecatedSynchronousErrorHandling)throw i;ri(i)}},t.prototype.__tryOrSetError=function(r,n,i){if(!Ft.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ft.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(ri(s),!0)}return!1},t.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},t}(oe);function Uu(e){for(;e;){var t=e,r=t.closed,n=t.destination,i=t.isStopped;if(r||i)return!1;n&&n instanceof oe?e=n:e=null}return!0}function C_(e,t,r){if(e){if(e instanceof oe)return e;if(e[bo])return e[bo]()}return!e&&!t&&!r?new oe(mo):new oe(e,t,r)}var ni=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function jr(e){return e}function $u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yf(e)}function yf(e){return e.length===0?jr:e.length===1?e[0]:function(t){return e.reduce(function(r,n){return n(r)},t)}}var me=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this.operator,s=C_(t,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ft.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ft.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){Ft.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),Uu(t)?t.error(r):console.warn(r)}},e.prototype.forEach=function(t,r){var n=this;return r=mf(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{t(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})},e.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},e.prototype[ni]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===0?this:yf(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=mf(t),new t(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},e.create=function(t){return new e(t)},e}();function mf(e){if(e||(e=Ft.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var A_=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Tr=A_,bf=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},t}(Ye),vf=function(e){W.__extends(t,e);function t(r){var n=e.call(this,r)||this;return n.destination=r,n}return t}(oe),ct=function(e){W.__extends(t,e);function t(){var r=e.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype[bo]=function(){return new vf(this)},t.prototype.lift=function(r){var n=new wf(this,this);return n.operator=r,n},t.prototype.next=function(r){if(this.closed)throw new Tr;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},t.prototype.error=function(r){if(this.closed)throw new Tr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Tr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(r){if(this.closed)throw new Tr;return e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){if(this.closed)throw new Tr;return this.hasError?(r.error(this.thrownError),Ye.EMPTY):this.isStopped?(r.complete(),Ye.EMPTY):(this.observers.push(r),new bf(this,r))},t.prototype.asObservable=function(){var r=new me;return r.source=this,r},t.create=function(r,n){return new wf(r,n)},t}(me),wf=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},t.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Ye.EMPTY},t}(ct);function Vu(){return function(e){return e.lift(new R_(e))}}var R_=function(){function e(t){this.connectable=t}return e.prototype.call=function(t,r){var n=this.connectable;n._refCount++;var i=new N_(t,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},e}(),N_=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.connectable=n,i}return t.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},t}(oe),_f=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Ye,r.add(this.source.subscribe(new j_(this.getSubject(),this))),r.closed&&(this._connection=null,r=Ye.EMPTY)),r},t.prototype.refCount=function(){return Vu()(this)},t}(me),O_=function(){var e=_f.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),j_=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.connectable=n,i}return t.prototype._error=function(r){this._unsubscribe(),e.prototype._error.call(this,r)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},t}(vf);function T_(e,t,r,n){return function(i){return i.lift(new P_(e,t,r,n))}}var P_=function(){function e(t,r,n,i){this.keySelector=t,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return e.prototype.call=function(t,r){return r.subscribe(new L_(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),L_=function(e){W.__extends(t,e);function t(r,n,i,s,o){var a=e.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return t.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},t.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(p){this.error(p)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ct,i.set(n,s);var a=new zu(n,s,this);if(this.destination.next(a),this.durationSelector){var l=void 0;try{l=this.durationSelector(new zu(n,s))}catch(p){this.error(p);return}this.add(l.subscribe(new B_(n,s,this)))}}s.closed||s.next(o)},t.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},t.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},t.prototype.removeGroup=function(r){this.groups.delete(r)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&e.prototype.unsubscribe.call(this))},t}(oe),B_=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return t.prototype._next=function(r){this.complete()},t.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},t}(oe),zu=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return t.prototype._subscribe=function(r){var n=new Ye,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new D_(s)),n.add(o.subscribe(r)),n},t}(me),D_=function(e){W.__extends(t,e);function t(r){var n=e.call(this)||this;return n.parent=r,r.count++,n}return t.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(e.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},t}(Ye),Ef=function(e){W.__extends(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Tr;return this._value},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(ct),F_=function(e){W.__extends(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(Ye),rs=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},t.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},t}(F_),U_=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},t}(rs),Hu=function(){function e(t,r){r===void 0&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,t).schedule(n,r)},e.now=function(){return Date.now()},e}(),ns=function(e){W.__extends(t,e);function t(r,n){n===void 0&&(n=Hu.now);var i=e.call(this,r,function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return t.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t}(Hu),$_=function(e){W.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(ns),Sf=new $_(U_),Mf=Sf,ii=new me(function(e){return e.complete()});function si(e){return e?V_(e):ii}function V_(e){return new me(function(t){return e.schedule(function(){return t.complete()})})}function At(e){return e&&typeof e.schedule=="function"}var xf=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}};function Wu(e,t){return new me(function(r){var n=new Ye,i=0;return n.add(t.schedule(function(){if(i===e.length){r.complete();return}r.next(e[i++]),r.closed||n.add(this.schedule())})),n})}function is(e,t){return t?Wu(e,t):new me(xf(e))}function vo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return At(r)?(e.pop(),Wu(e,r)):is(e)}function qu(e,t){return t?new me(function(r){return t.schedule(z_,0,{error:e,subscriber:r})}):new me(function(r){return r.error(e)})}function z_(e){var t=e.error,r=e.subscriber;r.error(t)}var Ju;Ju||(Ju={});var _r=function(){function e(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,r,n){var i=this.kind;switch(i){case"N":return t&&t(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},e.prototype.accept=function(t,r,n){return t&&typeof t.next=="function"?this.observe(t):this.do(t,r,n)},e.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return vo(this.value);case"E":return qu(this.error);case"C":return si()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return typeof t<"u"?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();function H_(e,t){return t===void 0&&(t=0),function(r){return r.lift(new W_(e,t))}}var W_=function(){function e(t,r){r===void 0&&(r=0),this.scheduler=t,this.delay=r}return e.prototype.call=function(t,r){return r.subscribe(new If(t,this.scheduler,this.delay))},e}(),If=function(e){W.__extends(t,e);function t(r,n,i){i===void 0&&(i=0);var s=e.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return t.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},t.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(t.dispatch,this.delay,new q_(r,this.destination)))},t.prototype._next=function(r){this.scheduleMessage(_r.createNext(r))},t.prototype._error=function(r){this.scheduleMessage(_r.createError(r)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(_r.createComplete()),this.unsubscribe()},t}(oe),q_=function(){function e(t,r){this.notification=t,this.destination=r}return e}(),Gu=function(e){W.__extends(t,e);function t(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=e.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return t.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,r)},t.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new J_(this._getNow(),r)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Tr;if(this.isStopped||this.hasError?a=Ye.EMPTY:(this.observers.push(r),a=new bf(this,r)),s&&r.add(r=new If(r,s)),n)for(var l=0;l<o&&!r.closed;l++)r.next(i[l]);else for(var l=0;l<o&&!r.closed;l++)r.next(i[l].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},t.prototype._getNow=function(){return(this.scheduler||Mf).now()},t.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},t}(ct),J_=function(){function e(t,r){this.time=t,this.value=r}return e}(),oi=function(e){W.__extends(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return t.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Ye.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Ye.EMPTY):e.prototype._subscribe.call(this,r)},t.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},t.prototype.error=function(r){this.hasCompleted||e.prototype.error.call(this,r)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(ct),G_=1,Z_=function(){return Promise.resolve()}(),Zu={};function kf(e){return e in Zu?(delete Zu[e],!0):!1}var Cf={setImmediate:function(e){var t=G_++;return Zu[t]=!0,Z_.then(function(){return kf(t)&&e()}),t},clearImmediate:function(e){kf(e)}},Q_=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Cf.setImmediate(r.flush.bind(r,null))))},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Cf.clearImmediate(n),r.scheduled=void 0)},t}(rs),Y_=function(e){W.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},t}(ns),Af=new Y_(Q_),wo=Af,Rf=new ns(rs),Mt=Rf,K_=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},t}(rs),X_=function(e){W.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},t}(ns),Nf=new X_(K_),e3=Nf,t3=function(e){W.__extends(t,e);function t(r,n){r===void 0&&(r=Of),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},t.frameTimeFactor=10,t}(ns),Of=function(e){W.__extends(t,e);function t(r,n,i){i===void 0&&(i=r.index+=1);var s=e.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(r,n,i){},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t}(rs);function cr(){}function r3(e){return!!e&&(e instanceof me||typeof e.lift=="function"&&typeof e.subscribe=="function")}var n3=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),ai=n3,i3=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),ss=i3,s3=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),jf=s3;function Ut(e,t){return function(r){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new o3(e,t))}}var o3=function(){function e(t,r){this.project=t,this.thisArg=r}return e.prototype.call=function(t,r){return r.subscribe(new a3(t,this.project,this.thisArg))},e}(),a3=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return t.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(oe);function Tf(e,t,r){if(t)if(At(t))r=t;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Tf(e,r).apply(void 0,n).pipe(Ut(function(s){return St(s)?t.apply(void 0,s):t(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:e,scheduler:r};return new me(function(l){if(r){var p={args:n,subscriber:l,params:a};return r.schedule(u3,0,p)}else{if(!o){o=new oi;var _=function(){for(var x=[],M=0;M<arguments.length;M++)x[M]=arguments[M];o.next(x.length<=1?x[0]:x),o.complete()};try{e.apply(s,n.concat([_]))}catch(x){Uu(o)?o.error(x):console.warn(x)}}return o.subscribe(l)}})}}function u3(e){var t=this,r=e.args,n=e.subscriber,i=e.params,s=i.callbackFunc,o=i.context,a=i.scheduler,l=i.subject;if(!l){l=i.subject=new oi;var p=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];var M=_.length<=1?_[0]:_;t.add(a.schedule(c3,0,{value:M,subject:l}))};try{s.apply(o,r.concat([p]))}catch(_){l.error(_)}}this.add(l.subscribe(n))}function c3(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function Pf(e,t,r){if(t)if(At(t))r=t;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Pf(e,r).apply(void 0,n).pipe(Ut(function(s){return St(s)?t.apply(void 0,s):t(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:e,scheduler:r,context:this};return new me(function(o){var a=s.context,l=s.subject;if(r)return r.schedule(l3,0,{params:s,subscriber:o,context:a});if(!l){l=s.subject=new oi;var p=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];var M=_.shift();if(M){l.error(M);return}l.next(_.length<=1?_[0]:_),l.complete()};try{e.apply(a,n.concat([p]))}catch(_){Uu(l)?l.error(_):console.warn(_)}}return l.subscribe(o)})}}function l3(e){var t=this,r=e.params,n=e.subscriber,i=e.context,s=r.callbackFunc,o=r.args,a=r.scheduler,l=r.subject;if(!l){l=r.subject=new oi;var p=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];var M=_.shift();if(M)t.add(a.schedule(Lf,0,{err:M,subject:l}));else{var A=_.length<=1?_[0]:_;t.add(a.schedule(h3,0,{value:A,subject:l}))}};try{s.apply(i,o.concat([p]))}catch(_){this.add(a.schedule(Lf,0,{err:_,subject:l}))}}this.add(l.subscribe(n))}function h3(e){var t=e.value,r=e.subject;r.next(t),r.complete()}function Lf(e){var t=e.err,r=e.subject;r.error(t)}var sn=function(e){W.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},t.prototype.notifyError=function(r,n){this.destination.error(r)},t.prototype.notifyComplete=function(r){this.destination.complete()},t}(oe),d3=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return t.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},t.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(oe),f3=function(e){return function(t){return e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,ri),t}};function p3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pr=p3(),g3=function(e){return function(t){var r=e[Pr]();do{var n=void 0;try{n=r.next()}catch(i){return t.error(i),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(!0);return typeof r.return=="function"&&t.add(function(){r.return&&r.return()}),t}},y3=function(e){return function(t){var r=e[ni]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}},Bf=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Df(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var os=function(e){if(e&&typeof e[ni]=="function")return y3(e);if(Bf(e))return xf(e);if(Df(e))return f3(e);if(e&&typeof e[Pr]=="function")return g3(e);var t=Fu(e)?"an invalid object":"'"+e+"'",r="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Er(e,t,r,n,i){if(i===void 0&&(i=new d3(e,r,n)),!i.closed)return t instanceof me?t.subscribe(i):os(t)(i)}var Ff={};function m3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=void 0,n=void 0;return At(e[e.length-1])&&(n=e.pop()),typeof e[e.length-1]=="function"&&(r=e.pop()),e.length===1&&St(e[0])&&(e=e[0]),is(e,n).lift(new Qu(r))}var Qu=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new b3(t,this.resultSelector))},e}(),b3=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return t.prototype._next=function(r){this.values.push(Ff),this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Er(this,s,void 0,i))}}},t.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},t.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Ff?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},t.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(sn);function v3(e,t){return new me(function(r){var n=new Ye;return n.add(t.schedule(function(){var i=e[ni]();n.add(i.subscribe({next:function(s){n.add(t.schedule(function(){return r.next(s)}))},error:function(s){n.add(t.schedule(function(){return r.error(s)}))},complete:function(){n.add(t.schedule(function(){return r.complete()}))}}))})),n})}function w3(e,t){return new me(function(r){var n=new Ye;return n.add(t.schedule(function(){return e.then(function(i){n.add(t.schedule(function(){r.next(i),n.add(t.schedule(function(){return r.complete()}))}))},function(i){n.add(t.schedule(function(){return r.error(i)}))})})),n})}function _3(e,t){if(!e)throw new Error("Iterable cannot be null");return new me(function(r){var n=new Ye,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(t.schedule(function(){i=e[Pr](),n.add(t.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(l){r.error(l);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function E3(e){return e&&typeof e[ni]=="function"}function S3(e){return e&&typeof e[Pr]=="function"}function Uf(e,t){if(e!=null){if(E3(e))return v3(e,t);if(Df(e))return w3(e,t);if(Bf(e))return Wu(e,t);if(S3(e)||typeof e=="string")return _3(e,t)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function Sr(e,t){return t?Uf(e,t):e instanceof me?e:new me(os(e))}var Xe=function(e){W.__extends(t,e);function t(r){var n=e.call(this)||this;return n.parent=r,n}return t.prototype._next=function(r){this.parent.notifyNext(r)},t.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(oe),et=function(e){W.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.notifyNext=function(r){this.destination.next(r)},t.prototype.notifyError=function(r){this.destination.error(r)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(oe);function tt(e,t){if(!t.closed){if(e instanceof me)return e.subscribe(t);var r;try{r=os(e)(t)}catch(n){t.error(n)}return r}}function on(e,t,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof t=="function"?function(n){return n.pipe(on(function(i,s){return Sr(e(i,s)).pipe(Ut(function(o,a){return t(i,o,s,a)}))},r))}:(typeof t=="number"&&(r=t),function(n){return n.lift(new M3(e,r))})}var M3=function(){function e(t,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=r}return e.prototype.call=function(t,r){return r.subscribe(new x3(t,this.project,this.concurrent))},e}(),x3=function(e){W.__extends(t,e);function t(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=e.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return t.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},t.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},t.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(r){this.destination.next(r)},t.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(et),I3=on;function Yu(e){return e===void 0&&(e=Number.POSITIVE_INFINITY),on(jr,e)}function $f(){return Yu(1)}function as(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $f()(vo.apply(void 0,e))}function Ku(e){return new me(function(t){var r;try{r=e()}catch(i){t.error(i);return}var n=r?Sr(r):si();return n.subscribe(t)})}function k3(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1){var r=e[0];if(St(r))return _o(r,null);if(Fu(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return _o(n.map(function(s){return r[s]}),n)}}if(typeof e[e.length-1]=="function"){var i=e.pop();return e=e.length===1&&St(e[0])?e[0]:e,_o(e,null).pipe(Ut(function(s){return i.apply(void 0,s)}))}return _o(e,null)}function _o(e,t){return new me(function(r){var n=e.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(p){var _=Sr(e[p]),x=!1;r.add(_.subscribe({next:function(M){x||(x=!0,o++),i[p]=M},error:function(M){return r.error(M)},complete:function(){s++,(s===n||!x)&&(o===n&&r.next(t?t.reduce(function(M,A,F){return M[A]=i[F],M},{}):i),r.complete())}}))},l=0;l<n;l++)a(l)})}function Vf(e,t,r,n){return ti(r)&&(n=r,r=void 0),n?Vf(e,t,r).pipe(Ut(function(i){return St(i)?n.apply(void 0,i):n(i)})):new me(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}zf(e,t,s,i,r)})}function zf(e,t,r,n,i){var s;if(R3(e)){var o=e;e.addEventListener(t,r,i),s=function(){return o.removeEventListener(t,r,i)}}else if(A3(e)){var a=e;e.on(t,r),s=function(){return a.off(t,r)}}else if(C3(e)){var l=e;e.addListener(t,r),s=function(){return l.removeListener(t,r)}}else if(e&&e.length)for(var p=0,_=e.length;p<_;p++)zf(e[p],t,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function C3(e){return e&&typeof e.addListener=="function"&&typeof e.removeListener=="function"}function A3(e){return e&&typeof e.on=="function"&&typeof e.off=="function"}function R3(e){return e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"}function Hf(e,t,r){return r?Hf(e,t).pipe(Ut(function(n){return St(n)?r.apply(void 0,n):r(n)})):new me(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=e(i)}catch(o){n.error(o);return}if(ti(t))return function(){return t(i,s)}})}function N3(e,t,r,n,i){var s,o;if(arguments.length==1){var a=e;o=a.initialState,t=a.condition,r=a.iterate,s=a.resultSelector||jr,i=a.scheduler}else n===void 0||At(n)?(o=e,s=jr,i=n):(o=e,s=n);return new me(function(l){var p=o;if(i)return i.schedule(O3,0,{subscriber:l,iterate:r,condition:t,resultSelector:s,state:p});do{if(t){var _=void 0;try{_=t(p)}catch(M){l.error(M);return}if(!_){l.complete();break}}var x=void 0;try{x=s(p)}catch(M){l.error(M);return}if(l.next(x),l.closed)break;try{p=r(p)}catch(M){l.error(M);return}}while(!0)})}function O3(e){var t=e.subscriber,r=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(s){t.error(s);return}else e.needIterate=!0;if(r){var n=void 0;try{n=r(e.state)}catch(s){t.error(s);return}if(!n){t.complete();return}if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(s){t.error(s);return}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function j3(e,t,r){return t===void 0&&(t=ii),r===void 0&&(r=ii),Ku(function(){return e()?t:r})}function ui(e){return!St(e)&&e-parseFloat(e)+1>=0}function T3(e,t){return e===void 0&&(e=0),t===void 0&&(t=Mt),(!ui(e)||e<0)&&(e=0),(!t||typeof t.schedule!="function")&&(t=Mt),new me(function(r){return r.add(t.schedule(P3,e,{subscriber:r,counter:0,period:e})),r})}function P3(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}function Wf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return At(i)?(n=e.pop(),e.length>1&&typeof e[e.length-1]=="number"&&(r=e.pop())):typeof i=="number"&&(r=e.pop()),n===null&&e.length===1&&e[0]instanceof me?e[0]:Yu(r)(is(e,n))}var qf=new me(cr);function L3(){return qf}function Xu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===0)return ii;var r=e[0],n=e.slice(1);return e.length===1&&St(r)?Xu.apply(void 0,r):new me(function(i){var s=function(){return i.add(Xu.apply(void 0,n).subscribe(i))};return Sr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function B3(e,t){return t?new me(function(r){var n=Object.keys(e),i=new Ye;return i.add(t.schedule(D3,0,{keys:n,index:0,subscriber:r,subscription:i,obj:e})),i}):new me(function(r){for(var n=Object.keys(e),i=0;i<n.length&&!r.closed;i++){var s=n[i];e.hasOwnProperty(s)&&r.next([s,e[s]])}r.complete()})}function D3(e){var t=e.keys,r=e.index,n=e.subscriber,i=e.subscription,s=e.obj;if(!n.closed)if(r<t.length){var o=t[r];n.next([o,s[o]]),i.add(this.schedule({keys:t,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Jf(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}function Lr(e,t){return function(r){return r.lift(new F3(e,t))}}var F3=function(){function e(t,r){this.predicate=t,this.thisArg=r}return e.prototype.call=function(t,r){return r.subscribe(new U3(t,this.predicate,this.thisArg))},e}(),U3=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return t.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},t}(oe);function $3(e,t,r){return[Lr(t,r)(new me(os(e))),Lr(Jf(t,r))(new me(os(e)))]}function Gf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)if(St(e[0]))e=e[0];else return e[0];return is(e,void 0).lift(new V3)}var V3=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new z3(t))},e}(),z3=function(e){W.__extends(t,e);function t(r){var n=e.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return t.prototype._next=function(r){this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Er(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},t.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},t}(sn);function H3(e,t,r){return e===void 0&&(e=0),new me(function(n){t===void 0&&(t=e,e=0);var i=0,s=e;if(r)return r.schedule(W3,0,{index:i,count:t,start:e,subscriber:n});do{if(i++>=t){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function W3(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;if(r>=n){i.complete();return}i.next(t),!i.closed&&(e.index=r+1,e.start=t+1,this.schedule(e))}function Zf(e,t,r){e===void 0&&(e=0);var n=-1;return ui(t)?n=Number(t)<1&&1||Number(t):At(t)&&(r=t),At(r)||(r=Mt),new me(function(i){var s=ui(e)?e:+e-r.now();return r.schedule(q3,s,{index:0,period:n,subscriber:i})})}function q3(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(r===-1)return n.complete();e.index=t+1,this.schedule(e,r)}}function J3(e,t){return new me(function(r){var n;try{n=e()}catch(a){r.error(a);return}var i;try{i=t(n)}catch(a){r.error(a);return}var s=i?Sr(i):ii,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Qf(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return typeof r=="function"&&e.pop(),is(e,void 0).lift(new Yf(r))}var Yf=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new G3(t,this.resultSelector))},e}(),G3=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return t.prototype._next=function(r){var n=this.iterators;St(r)?n.push(new Q3(r)):typeof r[Pr]=="function"?n.push(new Z3(r[Pr]())):n.push(new Y3(this.destination,this,r))},t.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,l=[],s=0;s<n;s++){var o=r[s],p=o.next();if(o.hasCompleted()&&(a=!0),p.done){i.complete();return}l.push(p.value)}this.resultSelector?this._tryresultSelector(l):i.next(l),a&&i.complete()},t.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(oe),Z3=function(){function e(t){this.iterator=t,this.nextResult=t.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},e.prototype.hasCompleted=function(){var t=this.nextResult;return!!(t&&t.done)},e}(),Q3=function(){function e(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return e.prototype[Pr]=function(){return this},e.prototype.next=function(t){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),Y3=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return t.prototype[Pr]=function(){return this},t.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},t.prototype.subscribe=function(){return tt(this.observable,new Xe(this))},t}(et);const K3=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:ai,AsyncSubject:oi,BehaviorSubject:Ef,ConnectableObservable:_f,EMPTY:ii,EmptyError:ss,GroupedObservable:zu,NEVER:qf,Notification:_r,get NotificationKind(){return Ju},ObjectUnsubscribedError:Tr,Observable:me,ReplaySubject:Gu,Scheduler:Hu,Subject:ct,Subscriber:oe,Subscription:Ye,TimeoutError:jf,UnsubscriptionError:ts,VirtualAction:Of,VirtualTimeScheduler:t3,animationFrame:e3,animationFrameScheduler:Nf,asap:wo,asapScheduler:Af,async:Mt,asyncScheduler:Rf,bindCallback:Tf,bindNodeCallback:Pf,combineLatest:m3,concat:as,config:Ft,defer:Ku,empty:si,forkJoin:k3,from:Sr,fromEvent:Vf,fromEventPattern:Hf,generate:N3,identity:jr,iif:j3,interval:T3,isObservable:r3,merge:Wf,never:L3,noop:cr,observable:ni,of:vo,onErrorResumeNext:Xu,pairs:B3,partition:$3,pipe:$u,queue:Mf,queueScheduler:Sf,race:Gf,range:H3,scheduled:Uf,throwError:qu,timer:Zf,using:J3,zip:Qf},Symbol.toStringTag,{value:"Module"})),Eo=In(K3);var So={};const Mo=In(eM),us=In(iM);var lr={},xo={};Object.defineProperty(xo,"__esModule",{value:!0}),xo.LIB_VERSION=void 0,xo.LIB_VERSION="3.6.6";var Io={};Object.defineProperty(Io,"__esModule",{value:!0}),Io.CloseIcon=void 0;const Kf=Ct;function X3(e){return(0,Kf.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Kf.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Io.CloseIcon=X3;var ec={};Object.defineProperty(ec,"__esModule",{value:!0}),ec.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var tc={};Object.defineProperty(tc,"__esModule",{value:!0}),tc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var ko={};Object.defineProperty(ko,"__esModule",{value:!0}),ko.QRCodeIcon=void 0;const hr=Ct;function e4(e){return(0,hr.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},e),(0,hr.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,hr.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,hr.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,hr.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,hr.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,hr.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,hr.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,hr.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,hr.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}ko.QRCodeIcon=e4;var rc={};Object.defineProperty(rc,"__esModule",{value:!0});const t4=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;rc.default=t4;var nc={};Object.defineProperty(nc,"__esModule",{value:!0}),nc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Co={};Object.defineProperty(Co,"__esModule",{value:!0}),Co.StatusDotIcon=void 0;const Xf=Ct;function r4(e){return(0,Xf.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},e),(0,Xf.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Co.StatusDotIcon=r4;var Ao={};function ep(e){this.mode=Rt.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],i=this.data.charCodeAt(t);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}ep.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}};function dr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}dr.prototype={addData:function(e){var t=new ep(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=dr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ke.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var l=a*i,p=this.modules[s][a];p&&(n.beginFill(0,100),n.moveTo(l,o),n.lineTo(l+i,o),n.lineTo(l+i,o+i),n.lineTo(l,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=Ke.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(e){for(var t=Ke.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Ke.getBCHTypeInfo(r),i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var l=!1;s<e.length&&(l=(e[s]>>>i&1)==1);var p=Ke.getMask(t,n,o-a);p&&(l=!l),this.modules[n][o-a]=l,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}},dr.PAD0=236,dr.PAD1=17,dr.createData=function(e,t,r){for(var n=fr.getRSBlocks(e,t),i=new tp,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ke.getLengthInBits(o.mode,e)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(dr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(dr.PAD1,8);return dr.createBytes(i,n)},dr.createBytes=function(e,t){for(var r=0,n=0,i=0,s=new Array(t.length),o=new Array(t.length),a=0;a<t.length;a++){var l=t[a].dataCount,p=t[a].totalCount-l;n=Math.max(n,l),i=Math.max(i,p),s[a]=new Array(l);for(var _=0;_<s[a].length;_++)s[a][_]=255&e.buffer[_+r];r+=l;var x=Ke.getErrorCorrectPolynomial(p),M=new ci(s[a],x.getLength()-1),A=M.mod(x);o[a]=new Array(x.getLength()-1);for(var _=0;_<o[a].length;_++){var F=_+A.getLength()-o[a].length;o[a][_]=F>=0?A.get(F):0}}for(var D=0,_=0;_<t.length;_++)D+=t[_].totalCount;for(var H=new Array(D),C=0,_=0;_<n;_++)for(var a=0;a<t.length;a++)_<s[a].length&&(H[C++]=s[a][_]);for(var _=0;_<i;_++)for(var a=0;a<t.length;a++)_<o[a].length&&(H[C++]=o[a][_]);return H};for(var Rt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Br={L:1,M:0,Q:3,H:2},Dr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ke={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ke.getBCHDigit(t)-Ke.getBCHDigit(Ke.G15)>=0;)t^=Ke.G15<<Ke.getBCHDigit(t)-Ke.getBCHDigit(Ke.G15);return(e<<10|t)^Ke.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ke.getBCHDigit(t)-Ke.getBCHDigit(Ke.G18)>=0;)t^=Ke.G18<<Ke.getBCHDigit(t)-Ke.getBCHDigit(Ke.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ke.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Dr.PATTERN000:return(t+r)%2==0;case Dr.PATTERN001:return t%2==0;case Dr.PATTERN010:return r%3==0;case Dr.PATTERN011:return(t+r)%3==0;case Dr.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Dr.PATTERN101:return t*r%2+t*r%3==0;case Dr.PATTERN110:return(t*r%2+t*r%3)%2==0;case Dr.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new ci([1],0),r=0;r<e;r++)t=t.multiply(new ci([1,lt.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Rt.MODE_NUMBER:return 10;case Rt.MODE_ALPHA_NUM:return 9;case Rt.MODE_8BIT_BYTE:return 8;case Rt.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Rt.MODE_NUMBER:return 12;case Rt.MODE_ALPHA_NUM:return 11;case Rt.MODE_8BIT_BYTE:return 16;case Rt.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Rt.MODE_NUMBER:return 14;case Rt.MODE_ALPHA_NUM:return 13;case Rt.MODE_8BIT_BYTE:return 16;case Rt.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var s=0,o=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||a==0&&l==0||o==e.isDark(n+a,i+l)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var p=0;e.isDark(n,i)&&p++,e.isDark(n+1,i)&&p++,e.isDark(n,i+1)&&p++,e.isDark(n+1,i+1)&&p++,(p==0||p==4)&&(r+=3)}for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);for(var _=0,i=0;i<t;i++)for(var n=0;n<t;n++)e.isDark(n,i)&&_++;var x=Math.abs(100*_/t/t-50)/5;return r+=x*10,r}},lt={glog:function(e){if(e<1)throw new Error("glog("+e+")");return lt.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return lt.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},ft=0;ft<8;ft++)lt.EXP_TABLE[ft]=1<<ft;for(var ft=8;ft<256;ft++)lt.EXP_TABLE[ft]=lt.EXP_TABLE[ft-4]^lt.EXP_TABLE[ft-5]^lt.EXP_TABLE[ft-6]^lt.EXP_TABLE[ft-8];for(var ft=0;ft<255;ft++)lt.LOG_TABLE[lt.EXP_TABLE[ft]]=ft;function ci(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}ci.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=lt.gexp(lt.glog(this.get(r))+lt.glog(e.get(n)));return new ci(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=lt.glog(this.get(0))-lt.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=lt.gexp(lt.glog(e.get(n))+t);return new ci(r,0).mod(e)}};function fr(e,t){this.totalCount=e,this.dataCount=t}fr.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],fr.getRSBlocks=function(e,t){var r=fr.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],l=r[s*3+2],p=0;p<o;p++)i.push(new fr(a,l));return i},fr.getRsBlockTable=function(e,t){switch(t){case Br.L:return fr.RS_BLOCK_TABLE[(e-1)*4+0];case Br.M:return fr.RS_BLOCK_TABLE[(e-1)*4+1];case Br.Q:return fr.RS_BLOCK_TABLE[(e-1)*4+2];case Br.H:return fr.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function tp(){this.buffer=[],this.length=0}tp.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ic=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function rp(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(l){switch(l){case"L":return Br.L;case"M":return Br.M;case"Q":return Br.Q;case"H":return Br.H;default:throw new Error("Unknwon error correction level: "+l)}}function n(l,p){for(var _=i(l),x=1,M=0,A=0,F=ic.length;A<=F;A++){var D=ic[A];if(!D)throw new Error("Content too long: expected "+M+" but got "+_);switch(p){case"L":M=D[0];break;case"M":M=D[1];break;case"Q":M=D[2];break;case"H":M=D[3];break;default:throw new Error("Unknwon error correction level: "+p)}if(_<=M)break;x++}if(x>ic.length)throw new Error("Content too long");return x}function i(l){var p=encodeURI(l).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return p.length+(p.length!=l?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new dr(o,a),this.qrcode.addData(s),this.qrcode.make()}rp.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var n=typeof t.pretty<"u"?!!t.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=t.width,a=t.height,l=r.length,p=o/(l+2*t.padding),_=a/(l+2*t.padding),x=typeof t.join<"u"?!!t.join:!1,M=typeof t.swap<"u"?!!t.swap:!1,A=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,F=typeof t.predefined<"u"?!!t.predefined:!1,D=F?i+'<defs><path id="qrmodule" d="M0 0 h'+_+" v"+p+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+s:"",H=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+s,C="",T="",P=0;P<l;P++)for(var $=0;$<l;$++){var B=r[$][P];if(B){var J=$*p+t.padding*p,ne=P*_+t.padding*_;if(M){var ee=J;J=ne,ne=ee}if(x){var Q=p+J,pe=_+ne;J=Number.isInteger(J)?Number(J):J.toFixed(2),ne=Number.isInteger(ne)?Number(ne):ne.toFixed(2),Q=Number.isInteger(Q)?Number(Q):Q.toFixed(2),pe=Number.isInteger(pe)?Number(pe):pe.toFixed(2),T+="M"+J+","+ne+" V"+pe+" H"+Q+" V"+ne+" H"+J+" Z "}else F?C+=i+'<use x="'+J.toString()+'" y="'+ne.toString()+'" href="#qrmodule" />'+s:C+=i+'<rect x="'+J.toString()+'" y="'+ne.toString()+'" width="'+p+'" height="'+_+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+s}}x&&(C=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+T+'" />');let ie="";if(this.options.image!==void 0&&this.options.image.svg){const u=o*this.options.image.width/100,d=a*this.options.image.height/100,m=o/2-u/2,S=a/2-d/2;ie+=`<svg x="${m}" y="${S}" width="${u}" height="${d}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ie+=this.options.image.svg+s,ie+="</svg>"}var ae="";switch(e.container){case"svg":A&&(ae+='<?xml version="1.0" standalone="yes"?>'+s),ae+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,ae+=D+H+C,ae+=ie,ae+="</svg>";break;case"svg-viewbox":A&&(ae+='<?xml version="1.0" standalone="yes"?>'+s),ae+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,ae+=D+H+C,ae+=ie,ae+="</svg>";break;case"g":ae+='<g width="'+o+'" height="'+a+'">'+s,ae+=D+H+C,ae+=ie,ae+="</g>";break;default:ae+=(D+H+C+ie).replace(/^\s+/,"");break}return ae};var n4=rp,i4=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.QRCode=void 0;const s4=Ct,np=us,o4=i4(n4),a4=e=>{const[t,r]=(0,np.useState)("");return(0,np.useEffect)(()=>{var n,i;const s=new o4.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(n=e.width)!==null&&n!==void 0?n:256,height:(i=e.height)!==null&&i!==void 0?i:256,padding:0,image:e.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),t?(0,s4.h)("img",{src:t,alt:"QR Code"}):null};Ao.QRCode=a4;var Ro={},sc={};Object.defineProperty(sc,"__esModule",{value:!0}),sc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var u4=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ro,"__esModule",{value:!0}),Ro.Spinner=void 0;const No=Ct,c4=u4(sc),l4=e=>{var t;const r=(t=e.size)!==null&&t!==void 0?t:64,n=e.color||"#000";return(0,No.h)("div",{class:"-cbwsdk-spinner"},(0,No.h)("style",null,c4.default),(0,No.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,No.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Ro.Spinner=l4;var oc={};Object.defineProperty(oc,"__esModule",{value:!0}),oc.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var li=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lr,"__esModule",{value:!0}),lr.CoinbaseAppSteps=lr.CoinbaseWalletSteps=lr.ConnectItem=lr.ConnectContent=void 0;const $t=li(Mo),he=Ct,ip=us,h4=se,d4=xo,f4=Io,p4=li(ec),g4=li(tc),sp=ko,y4=li(rc),m4=li(nc),b4=Co,v4=Ao,w4=Ro,_4=li(oc),op={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:g4.default,steps:up},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:p4.default,steps:cp}},E4=e=>{switch(e){case"coinbase-app":return y4.default;case"coinbase-wallet-app":default:return m4.default}},ac=e=>e==="light"?"#FFFFFF":"#0A0B0D";function S4(e){const{theme:t}=e,[r,n]=(0,ip.useState)("coinbase-wallet-app"),i=(0,ip.useCallback)(p=>{n(p)},[]),s=(0,h4.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),o=op[r];if(!r)return null;const a=o.steps,l=r==="coinbase-app";return(0,he.h)("div",{"data-testid":"connect-content",class:(0,$t.default)("-cbwsdk-connect-content",t)},(0,he.h)("style",null,_4.default),(0,he.h)("div",{class:"-cbwsdk-connect-content-header"},(0,he.h)("h2",{class:(0,$t.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with one of our mobile apps"),e.onCancel&&(0,he.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,he.h)(f4.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,he.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,he.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,he.h)("div",null,Object.entries(op).map(([p,_])=>(0,he.h)(ap,{key:p,title:_.title,description:_.description,icon:_.icon,selected:r===p,onClick:()=>i(p),theme:t}))),l&&(0,he.h)("div",{class:(0,$t.default)("-cbwsdk-connect-content-update-app",t)},"Don\u2019t see a ",(0,he.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,he.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,he.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,he.h)(v4.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:E4(r),width:25,height:25}}),(0,he.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:d4.LIB_VERSION}),(0,he.h)("input",{type:"hidden",value:s})),(0,he.h)(a,{theme:t}),!e.isConnected&&(0,he.h)("div",{"data-testid":"connecting-spinner",class:(0,$t.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,he.h)(w4.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,he.h)("p",null,"Connecting...")))))}lr.ConnectContent=S4;function ap({title:e,description:t,icon:r,selected:n,theme:i,onClick:s}){return(0,he.h)("div",{onClick:s,class:(0,$t.default)("-cbwsdk-connect-item",i,{selected:n})},(0,he.h)("div",null,(0,he.h)("img",{src:r,alt:e})),(0,he.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,he.h)("h3",{class:"-cbwsdk-connect-item-title"},e),(0,he.h)("p",{class:"-cbwsdk-connect-item-description"},t)))}lr.ConnectItem=ap;function up({theme:e}){return(0,he.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,he.h)("li",{class:(0,$t.default)("-cbwsdk-wallet-steps-item",e)},(0,he.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,he.h)("li",{class:(0,$t.default)("-cbwsdk-wallet-steps-item",e)},(0,he.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,he.h)("span",null,"Tap ",(0,he.h)("strong",null,"Scan")," "),(0,he.h)("span",{class:(0,$t.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,he.h)(sp.QRCodeIcon,{fill:ac(e)})))))}lr.CoinbaseWalletSteps=up;function cp({theme:e}){return(0,he.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,he.h)("li",{class:(0,$t.default)("-cbwsdk-wallet-steps-item",e)},(0,he.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,he.h)("li",{class:(0,$t.default)("-cbwsdk-wallet-steps-item",e)},(0,he.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,he.h)("span",null,"Tap ",(0,he.h)("strong",null,"More")),(0,he.h)("span",{class:(0,$t.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,he.h)(b4.StatusDotIcon,{fill:ac(e)})),(0,he.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,he.h)("strong",null,"Scan")),(0,he.h)("span",{class:(0,$t.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,he.h)(sp.QRCodeIcon,{fill:ac(e)})))))}lr.CoinbaseAppSteps=cp;var Oo={},jo={};Object.defineProperty(jo,"__esModule",{value:!0}),jo.ArrowLeftIcon=void 0;const lp=Ct;function M4(e){return(0,lp.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,lp.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}jo.ArrowLeftIcon=M4;var To={};Object.defineProperty(To,"__esModule",{value:!0}),To.LaptopIcon=void 0;const uc=Ct;function x4(e){return(0,uc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,uc.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,uc.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}To.LaptopIcon=x4;var Po={};Object.defineProperty(Po,"__esModule",{value:!0}),Po.SafeIcon=void 0;const hp=Ct;function I4(e){return(0,hp.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,hp.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Po.SafeIcon=I4;var cc={};Object.defineProperty(cc,"__esModule",{value:!0}),cc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var dp=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oo,"__esModule",{value:!0}),Oo.TryExtensionContent=void 0;const an=dp(Mo),nt=Ct,lc=us,k4=jo,C4=To,A4=Po,R4=dp(cc);function N4({theme:e}){const[t,r]=(0,lc.useState)(!1),n=(0,lc.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,lc.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,nt.h)("div",{class:(0,an.default)("-cbwsdk-try-extension",e)},(0,nt.h)("style",null,R4.default),(0,nt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,nt.h)("h3",{class:(0,an.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,nt.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,nt.h)("button",{class:(0,an.default)("-cbwsdk-try-extension-cta",e),onClick:i},t?"Refresh":"Install"),(0,nt.h)("div",null,!t&&(0,nt.h)(k4.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,nt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,nt.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,nt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,nt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,nt.h)("span",{class:(0,an.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,nt.h)(C4.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,nt.h)("div",{class:(0,an.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,nt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,nt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,nt.h)("span",{class:(0,an.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,nt.h)(A4.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,nt.h)("div",{class:(0,an.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Oo.TryExtensionContent=N4;var hc={};Object.defineProperty(hc,"__esModule",{value:!0}),hc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var fp=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(So,"__esModule",{value:!0}),So.ConnectDialog=void 0;const dc=fp(Mo),un=Ct,fc=us,O4=lr,j4=Oo,T4=fp(hc),P4=e=>{const{isOpen:t,darkMode:r}=e,[n,i]=(0,fc.useState)(!t),[s,o]=(0,fc.useState)(!t);(0,fc.useEffect)(()=>{const l=[window.setTimeout(()=>{o(!t)},10)];return t?i(!1):l.push(window.setTimeout(()=>{i(!0)},360)),()=>{l.forEach(window.clearTimeout)}},[e.isOpen]);const a=r?"dark":"light";return(0,un.h)("div",{class:(0,dc.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,un.h)("style",null,T4.default),(0,un.h)("div",{class:(0,dc.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,un.h)("div",{class:"-cbwsdk-connect-dialog"},(0,un.h)("div",{class:(0,dc.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,un.h)(O4.ConnectContent,{theme:a,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,un.h)(j4.TryExtensionContent,{theme:a}))))};So.ConnectDialog=P4,Object.defineProperty(yo,"__esModule",{value:!0}),yo.LinkFlow=void 0;const pc=Ct,pp=Eo,L4=So;class B4{constructor(t){this.extensionUI$=new pp.BehaviorSubject({}),this.subscriptions=new pp.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection,this.connected$=t.connected$,this.chainId$=t.chainId$}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var t;this.root&&(this.subscriptions.unsubscribe(),(0,pc.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const t=this.extensionUI$.subscribe(()=>{this.root&&(0,pc.render)((0,pc.h)(L4.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(t)}}yo.LinkFlow=B4;var gp={},gc={};Object.defineProperty(gc,"__esModule",{value:!0}),gc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",function(e){var t=te&&te.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(Mo),n=Ct,i=us,s=t(gc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(x){switch(x){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class l{constructor(M){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=M.darkMode}attach(M){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",M.appendChild(this.root),this.render()}presentItem(M){const A=this.nextItemKey++;return this.items.set(A,M),this.render(),()=>{this.items.delete(A),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([M,A])=>(0,n.h)(e.SnackbarInstance,Object.assign({},A,{key:M}))))),this.root)}}e.Snackbar=l;const p=x=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},x.children));e.SnackbarContainer=p;const _=({autoExpand:x,message:M,menuItems:A,appSrc:F})=>{const[D,H]=(0,i.useState)(!0),[C,T]=(0,i.useState)(x??!1);(0,i.useEffect)(()=>{const $=[window.setTimeout(()=>{H(!1)},1),window.setTimeout(()=>{T(!0)},1e4)];return()=>{$.forEach(window.clearTimeout)}});const P=()=>{T(!C)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",D&&"-cbwsdk-snackbar-instance-hidden",C&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:P},(0,n.h)("img",{src:a(F),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},M),(0,n.h)("div",{class:"-gear-container"},!C&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),A&&A.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},A.map(($,B)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",$.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:$.onClick,key:B},(0,n.h)("svg",{width:$.svgWidth,height:$.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":$.defaultFillRule,"clip-rule":$.defaultClipRule,d:$.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",$.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},$.info)))))};e.SnackbarInstance=_}(gp);var Lo={},yc={};Object.defineProperty(yc,"__esModule",{value:!0}),yc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var D4=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.injectCssReset=void 0;const F4=D4(yc);function U4(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(F4.default)),document.documentElement.appendChild(e)}Lo.injectCssReset=U4,Object.defineProperty(go,"__esModule",{value:!0}),go.WalletSDKUI=void 0;const $4=yo,V4=gp,z4=Lo;class H4{constructor(t){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new V4.Snackbar({darkMode:t.darkMode}),this.linkFlow=new $4.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,connected$:t.connected$,chainId$:t.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,z4.injectCssReset)()}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(t){}watchAsset(t){}switchEthereumChain(t){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(t){}signEthereumTransaction(t){}submitEthereumTransaction(t){}ethereumAddressFromSignedMessage(t){}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(t){this.appSrc=t}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(t){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}}go.WalletSDKUI=H4;var Bo={},Do={};Object.defineProperty(Do,"__esModule",{value:!0});var hi;(function(e){e.typeOfFunction="function",e.boolTrue=!0})(hi||(hi={}));function yp(e,t,r){if(!r||typeof r.value!==hi.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:hi.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,t,{value:n,configurable:hi.boolTrue,writable:hi.boolTrue}),n}}}Do.bind=yp,Do.default=yp;function mp(e){return function(t){return t.lift(new W4(e))}}var W4=function(){function e(t){this.durationSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new q4(t,this.durationSelector))},e}(),q4=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return t.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=tt(n,new Xe(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},t.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(et);function J4(e,t){return t===void 0&&(t=Mt),mp(function(){return Zf(e,t)})}function G4(e){return function(t){return t.lift(new Z4(e))}}var Z4=function(){function e(t){this.closingNotifier=t}return e.prototype.call=function(t,r){return r.subscribe(new Q4(t,this.closingNotifier))},e}(),Q4=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.buffer=[],i.add(tt(n,new Xe(i))),i}return t.prototype._next=function(r){this.buffer.push(r)},t.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},t}(et);function Y4(e,t){return t===void 0&&(t=null),function(r){return r.lift(new K4(e,t))}}var K4=function(){function e(t,r){this.bufferSize=t,this.startBufferEvery=r,!r||t===r?this.subscriberClass=X4:this.subscriberClass=eE}return e.prototype.call=function(t,r){return r.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},e}(),X4=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return t.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},t.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),e.prototype._complete.call(this)},t}(oe),eE=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return t.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var l=o.length;l--;){var p=o[l];p.push(r),p.length===i&&(o.splice(l,1),this.destination.next(p))}},t.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}e.prototype._complete.call(this)},t}(oe);function tE(e){var t=arguments.length,r=Mt;At(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;t>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(s){return s.lift(new rE(e,n,i,r))}}var rE=function(){function e(t,r,n,i){this.bufferTimeSpan=t,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return e.prototype.call=function(t,r){return r.subscribe(new iE(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),nE=function(){function e(){this.buffer=[]}return e}(),iE=function(e){W.__extends(t,e);function t(r,n,i,s,o){var a=e.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var l=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var p={subscriber:a,context:l,bufferTimeSpan:n};a.add(l.closeAction=o.schedule(bp,n,p))}else{var _={subscriber:a,context:l},x={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(l.closeAction=o.schedule(vp,n,_)),a.add(o.schedule(sE,i,x))}return a}return t.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],l=a.buffer;l.push(r),l.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},t.prototype._error=function(r){this.contexts.length=0,e.prototype._error.call(this,r)},t.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(bp,i,s))}},t.prototype.openContext=function(){var r=new nE;return this.contexts.push(r),r},t.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},t}(oe);function bp(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function sE(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(vp,r,{subscriber:n,context:s})),o.schedule(e,t))}function vp(e){var t=e.subscriber,r=e.context;t.closeContext(r)}function oE(e,t){return function(r){return r.lift(new aE(e,t))}}var aE=function(){function e(t,r){this.openings=t,this.closingSelector=r}return e.prototype.call=function(t,r){return r.subscribe(new uE(t,this.openings,this.closingSelector))},e}(),uE=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Er(s,n)),s}return t.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},t.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,e.prototype._error.call(this,r)},t.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},t.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},t.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},t.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},t.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Ye,o={buffer:i,subscription:s};n.push(o);var a=Er(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},t}(sn);function cE(e){return function(t){return t.lift(new lE(e))}}var lE=function(){function e(t){this.closingSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new hE(t,this.closingSelector))},e}(),hE=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return t.prototype._next=function(r){this.buffer.push(r)},t.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Ye,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(tt(i,new Xe(this))),this.subscribing=!1},t}(et);function dE(e){return function(t){var r=new fE(e),n=t.lift(r);return r.caught=n}}var fE=function(){function e(t){this.selector=t}return e.prototype.call=function(t,r){return r.subscribe(new pE(t,this.selector,this.caught))},e}(),pE=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.selector=n,s.caught=i,s}return t.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){e.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Xe(this);this.add(i);var s=tt(n,i);s!==i&&this.add(s)}},t}(et);function gE(e){return function(t){return t.lift(new Qu(e))}}function yE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null;return typeof e[e.length-1]=="function"&&(r=e.pop()),e.length===1&&St(e[0])&&(e=e[0].slice()),function(n){return n.lift.call(Sr([n].concat(e)),new Qu(r))}}function mE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return r.lift.call(as.apply(void 0,[r].concat(e)))}}function wp(e,t){return on(e,t,1)}function bE(e,t){return wp(function(){return e},t)}function vE(e){return function(t){return t.lift(new wE(e,t))}}var wE=function(){function e(t,r){this.predicate=t,this.source=r}return e.prototype.call=function(t,r){return r.subscribe(new _E(t,this.predicate,this.source))},e}(),_E=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return t.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},t.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(oe);function EE(e){return function(t){return t.lift(new SE(e))}}var SE=function(){function e(t){this.durationSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new ME(t,this.durationSelector))},e}(),ME=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return t.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=tt(n,new Xe(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,r)}},t}(et);function xE(e,t){return t===void 0&&(t=Mt),function(r){return r.lift(new IE(e,t))}}var IE=function(){function e(t,r){this.dueTime=t,this.scheduler=r}return e.prototype.call=function(t,r){return r.subscribe(new kE(t,this.dueTime,this.scheduler))},e}(),kE=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return t.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(CE,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},t.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},t}(oe);function CE(e){e.debouncedNext()}function cs(e){return e===void 0&&(e=null),function(t){return t.lift(new AE(e))}}var AE=function(){function e(t){this.defaultValue=t}return e.prototype.call=function(t,r){return r.subscribe(new RE(t,this.defaultValue))},e}(),RE=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return t.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(oe);function _p(e){return e instanceof Date&&!isNaN(+e)}function NE(e,t){t===void 0&&(t=Mt);var r=_p(e),n=r?+e-t.now():Math.abs(e);return function(i){return i.lift(new OE(n,t))}}var OE=function(){function e(t,r){this.delay=t,this.scheduler=r}return e.prototype.call=function(t,r){return r.subscribe(new jE(t,this.delay,this.scheduler))},e}(),jE=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return t.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},t.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},t.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new TE(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},t.prototype._next=function(r){this.scheduleNotification(_r.createNext(r))},t.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(_r.createComplete()),this.unsubscribe()},t}(oe),TE=function(){function e(t,r){this.time=t,this.notification=r}return e}();function PE(e,t){return t?function(r){return new BE(r,t).lift(new Ep(e))}:function(r){return r.lift(new Ep(e))}}var Ep=function(){function e(t){this.delayDurationSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new LE(t,this.delayDurationSelector))},e}(),LE=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return t.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},t.prototype.notifyError=function(r,n){this._error(r)},t.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},t.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},t.prototype.tryDelay=function(r,n){var i=Er(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},t.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},t}(sn),BE=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return t.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new DE(r,this.source))},t}(me),DE=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return t.prototype._next=function(r){this.subscribeToSource()},t.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(oe);function FE(){return function(e){return e.lift(new UE)}}var UE=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new $E(t))},e}(),$E=function(e){W.__extends(t,e);function t(r){return e.call(this,r)||this}return t.prototype._next=function(r){r.observe(this.destination)},t}(oe);function VE(e,t){return function(r){return r.lift(new zE(e,t))}}var zE=function(){function e(t,r){this.keySelector=t,this.flushes=r}return e.prototype.call=function(t,r){return r.subscribe(new HE(t,this.keySelector,this.flushes))},e}(),HE=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(tt(i,new Xe(s))),s}return t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(r){this._error(r)},t.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},t.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},t.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},t}(et);function Sp(e,t){return function(r){return r.lift(new WE(e,t))}}var WE=function(){function e(t,r){this.compare=t,this.keySelector=r}return e.prototype.call=function(t,r){return r.subscribe(new qE(t,this.compare,this.keySelector))},e}(),qE=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return t.prototype.compare=function(r,n){return r===n},t.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},t}(oe);function JE(e,t){return Sp(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}function Fo(e){return e===void 0&&(e=QE),function(t){return t.lift(new GE(e))}}var GE=function(){function e(t){this.errorFactory=t}return e.prototype.call=function(t,r){return r.subscribe(new ZE(t,this.errorFactory))},e}(),ZE=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return t.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},t}(oe);function QE(){return new ss}function mc(e){return function(t){return e===0?si():t.lift(new YE(e))}}var YE=function(){function e(t){if(this.total=t,this.total<0)throw new ai}return e.prototype.call=function(t,r){return r.subscribe(new KE(t,this.total))},e}(),KE=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.total=n,i.count=0,i}return t.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},t}(oe);function XE(e,t){if(e<0)throw new ai;var r=arguments.length>=2;return function(n){return n.pipe(Lr(function(i,s){return s===e}),mc(1),r?cs(t):Fo(function(){return new ai}))}}function e5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return as(r,vo.apply(void 0,e))}}function t5(e,t){return function(r){return r.lift(new r5(e,t,r))}}var r5=function(){function e(t,r,n){this.predicate=t,this.thisArg=r,this.source=n}return e.prototype.call=function(t,r){return r.subscribe(new n5(t,this.predicate,this.thisArg,this.source))},e}(),n5=function(e){W.__extends(t,e);function t(r,n,i,s){var o=e.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return t.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},t.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(oe);function i5(){return function(e){return e.lift(new s5)}}var s5=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new o5(t))},e}(),o5=function(e){W.__extends(t,e);function t(r){var n=e.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return t.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(tt(r,new Xe(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(et);function Mp(e,t){return t?function(r){return r.pipe(Mp(function(n,i){return Sr(e(n,i)).pipe(Ut(function(s,o){return t(n,s,i,o)}))}))}:function(r){return r.lift(new a5(e))}}var a5=function(){function e(t){this.project=t}return e.prototype.call=function(t,r){return r.subscribe(new u5(t,this.project))},e}(),u5=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return t.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},t.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},t.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(r){this.destination.next(r)},t.prototype.notifyError=function(r){this.destination.error(r)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(et);function c5(e,t,r){return t===void 0&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(n){return n.lift(new l5(e,t,r))}}var l5=function(){function e(t,r,n){this.project=t,this.concurrent=r,this.scheduler=n}return e.prototype.call=function(t,r){return r.subscribe(new h5(t,this.project,this.concurrent,this.scheduler))},e}(),h5=function(e){W.__extends(t,e);function t(r,n,i,s){var o=e.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return t.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},t.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},l=this.destination;l.add(this.scheduler.schedule(t.dispatch,0,a))}}catch(p){n.error(p)}}else this.buffer.push(r)},t.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(tt(r,new Xe(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(r){this._next(r)},t.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},t}(et);function d5(e){return function(t){return t.lift(new f5(e))}}var f5=function(){function e(t){this.callback=t}return e.prototype.call=function(t,r){return r.subscribe(new p5(t,this.callback))},e}(),p5=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.add(new Ye(n)),i}return t}(oe);function g5(e,t){if(typeof e!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new xp(e,r,!1,t))}}var xp=function(){function e(t,r,n,i){this.predicate=t,this.source=r,this.yieldIndex=n,this.thisArg=i}return e.prototype.call=function(t,r){return r.subscribe(new y5(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),y5=function(e){W.__extends(t,e);function t(r,n,i,s,o){var a=e.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return t.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},t.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(l){this.destination.error(l)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(oe);function m5(e,t){return function(r){return r.lift(new xp(e,r,!0,t))}}function b5(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Lr(function(i,s){return e(i,s,n)}):jr,mc(1),r?cs(t):Fo(function(){return new ss}))}}function v5(){return function(e){return e.lift(new w5)}}var w5=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new _5(t))},e}(),_5=function(e){W.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._next=function(r){},t}(oe);function E5(){return function(e){return e.lift(new S5)}}var S5=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new M5(t))},e}(),M5=function(e){W.__extends(t,e);function t(r){return e.call(this,r)||this}return t.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},t.prototype._next=function(r){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(oe);function Uo(e){return function(t){return e===0?si():t.lift(new x5(e))}}var x5=function(){function e(t){if(this.total=t,this.total<0)throw new ai}return e.prototype.call=function(t,r){return r.subscribe(new I5(t,this.total))},e}(),I5=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return t.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},t.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},t}(oe);function k5(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Lr(function(i,s){return e(i,s,n)}):jr,Uo(1),r?cs(t):Fo(function(){return new ss}))}}function C5(e){return function(t){return t.lift(new A5(e))}}var A5=function(){function e(t){this.value=t}return e.prototype.call=function(t,r){return r.subscribe(new R5(t,this.value))},e}(),R5=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.value=n,i}return t.prototype._next=function(r){this.destination.next(this.value)},t}(oe);function N5(){return function(e){return e.lift(new O5)}}var O5=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new j5(t))},e}(),j5=function(e){W.__extends(t,e);function t(r){return e.call(this,r)||this}return t.prototype._next=function(r){this.destination.next(_r.createNext(r))},t.prototype._error=function(r){var n=this.destination;n.next(_r.createError(r)),n.complete()},t.prototype._complete=function(){var r=this.destination;r.next(_r.createComplete()),r.complete()},t}(oe);function $o(e,t){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new T5(e,t,r))}}var T5=function(){function e(t,r,n){n===void 0&&(n=!1),this.accumulator=t,this.seed=r,this.hasSeed=n}return e.prototype.call=function(t,r){return r.subscribe(new P5(t,this.accumulator,this.seed,this.hasSeed))},e}(),P5=function(e){W.__extends(t,e);function t(r,n,i,s){var o=e.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),t.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},t.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},t}(oe);function Vo(e,t){return arguments.length>=2?function(r){return $u($o(e,t),Uo(1),cs(t))(r)}:function(r){return $u($o(function(n,i,s){return e(n,i,s+1)}),Uo(1))(r)}}function L5(e){var t=typeof e=="function"?function(r,n){return e(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Vo(t)}function B5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return r.lift.call(Wf.apply(void 0,[r].concat(e)))}}function D5(e,t,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof t=="function"?on(function(){return e},t,r):(typeof t=="number"&&(r=t),on(function(){return e},r))}function F5(e,t,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new U5(e,t,r))}}var U5=function(){function e(t,r,n){this.accumulator=t,this.seed=r,this.concurrent=n}return e.prototype.call=function(t,r){return r.subscribe(new $5(t,this.accumulator,this.seed,this.concurrent))},e}(),$5=function(e){W.__extends(t,e);function t(r,n,i,s){var o=e.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return t.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},t.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},t.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},t}(et);function V5(e){var t=typeof e=="function"?function(r,n){return e(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Vo(t)}function cn(e,t){return function(r){var n;if(typeof e=="function"?n=e:n=function(){return e},typeof t=="function")return r.lift(new z5(n,t));var i=Object.create(r,O_);return i.source=r,i.subjectFactory=n,i}}var z5=function(){function e(t,r){this.subjectFactory=t,this.selector=r}return e.prototype.call=function(t,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(t);return s.add(r.subscribe(i)),s},e}();function H5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===1&&St(e[0])&&(e=e[0]),function(r){return r.lift(new W5(e))}}var W5=function(){function e(t){this.nextSources=t}return e.prototype.call=function(t,r){return r.subscribe(new q5(t,this.nextSources))},e}(),q5=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)}else this.destination.complete()},t}(et);function J5(){return function(e){return e.lift(new G5)}}var G5=function(){function e(){}return e.prototype.call=function(t,r){return r.subscribe(new Z5(t))},e}(),Z5=function(e){W.__extends(t,e);function t(r){var n=e.call(this,r)||this;return n.hasPrev=!1,n}return t.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},t}(oe);function Q5(e,t){return function(r){return[Lr(e,t)(r),Lr(Jf(e,t))(r)]}}function Y5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ut(K5(e,r))(n)}}function K5(e,t){var r=function(n){for(var i=n,s=0;s<t;s++){var o=i==null?void 0:i[e[s]];if(o!==void 0)i=o;else return}return i};return r}function X5(e){return e?cn(function(){return new ct},e):cn(new ct)}function eS(e){return function(t){return cn(new Ef(e))(t)}}function tS(){return function(e){return cn(new oi)(e)}}function rS(e,t,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Gu(e,t,n);return function(o){return cn(function(){return s},i)(o)}}function nS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return e.length===1&&St(e[0])&&(e=e[0]),r.lift.call(Gf.apply(void 0,[r].concat(e)))}}function iS(e){return e===void 0&&(e=-1),function(t){return e===0?si():e<0?t.lift(new Ip(-1,t)):t.lift(new Ip(e-1,t))}}var Ip=function(){function e(t,r){this.count=t,this.source=r}return e.prototype.call=function(t,r){return r.subscribe(new sS(t,this.count,this.source))},e}(),sS=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.count=n,s.source=i,s}return t.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return e.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(oe);function oS(e){return function(t){return t.lift(new aS(e))}}var aS=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,r){return r.subscribe(new uS(t,this.notifier,r))},e}(),uS=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},t.prototype.subscribeToRetries=function(){this.notifications=new ct;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return e.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=tt(r,new Xe(this))},t}(et);function cS(e){return e===void 0&&(e=-1),function(t){return t.lift(new lS(e,t))}}var lS=function(){function e(t,r){this.count=t,this.source=r}return e.prototype.call=function(t,r){return r.subscribe(new hS(t,this.count,this.source))},e}(),hS=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.count=n,s.source=i,s}return t.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return e.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},t}(oe);function dS(e){return function(t){return t.lift(new fS(e,t))}}var fS=function(){function e(t,r){this.notifier=t,this.source=r}return e.prototype.call=function(t,r){return r.subscribe(new pS(t,this.notifier,this.source))},e}(),pS=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.notifier=n,s.source=i,s}return t.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ct;try{var o=this.notifier;i=o(n)}catch(a){return e.prototype.error.call(this,a)}s=tt(i,new Xe(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},t.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},t}(et);function gS(e){return function(t){return t.lift(new yS(e))}}var yS=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,r){var n=new mS(t),i=r.subscribe(n);return i.add(tt(this.notifier,new Xe(n))),i},e}(),mS=function(e){W.__extends(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.hasValue=!1,r}return t.prototype._next=function(r){this.value=r,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(et);function bS(e,t){return t===void 0&&(t=Mt),function(r){return r.lift(new vS(e,t))}}var vS=function(){function e(t,r){this.period=t,this.scheduler=r}return e.prototype.call=function(t,r){return r.subscribe(new wS(t,this.period,this.scheduler))},e}(),wS=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(_S,n,{subscriber:s,period:n})),s}return t.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(oe);function _S(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}function ES(e,t){return function(r){return r.lift(new SS(e,t))}}var SS=function(){function e(t,r){this.compareTo=t,this.comparator=r}return e.prototype.call=function(t,r){return r.subscribe(new MS(t,this.compareTo,this.comparator))},e}(),MS=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new xS(r,s))),s}return t.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),l=!1;try{l=s?s(o,a):o===a}catch(p){this.destination.error(p)}l||this.emit(!1)}},t.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},t.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},t}(oe),xS=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.parent=n,i}return t.prototype._next=function(r){this.parent.nextB(r)},t.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(oe);function IS(){return new ct}function kS(){return function(e){return Vu()(cn(IS)(e))}}function CS(e,t,r){var n;return e&&typeof e=="object"?n=e:n={bufferSize:e,windowTime:t,refCount:!1,scheduler:r},function(i){return i.lift(AS(n))}}function AS(e){var t=e.bufferSize,r=t===void 0?Number.POSITIVE_INFINITY:t,n=e.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=e.refCount,o=e.scheduler,a,l=0,p,_=!1,x=!1;return function(M){l++;var A;!a||_?(_=!1,a=new Gu(r,i,o),A=a.subscribe(this),p=M.subscribe({next:function(F){a.next(F)},error:function(F){_=!0,a.error(F)},complete:function(){x=!0,p=void 0,a.complete()}}),x&&(p=void 0)):A=a.subscribe(this),this.add(function(){l--,A.unsubscribe(),A=void 0,p&&!x&&s&&l===0&&(p.unsubscribe(),p=void 0,a=void 0)})}}function RS(e){return function(t){return t.lift(new NS(e,t))}}var NS=function(){function e(t,r){this.predicate=t,this.source=r}return e.prototype.call=function(t,r){return r.subscribe(new OS(t,this.predicate,this.source))},e}(),OS=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return t.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},t.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},t.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new ss)},t}(oe);function jS(e){return function(t){return t.lift(new TS(e))}}var TS=function(){function e(t){this.total=t}return e.prototype.call=function(t,r){return r.subscribe(new PS(t,this.total))},e}(),PS=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.total=n,i.count=0,i}return t.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},t}(oe);function LS(e){return function(t){return t.lift(new BS(e))}}var BS=function(){function e(t){if(this._skipCount=t,this._skipCount<0)throw new ai}return e.prototype.call=function(t,r){return this._skipCount===0?r.subscribe(new oe(t)):r.subscribe(new DS(t,this._skipCount))},e}(),DS=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return t.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},t}(oe);function FS(e){return function(t){return t.lift(new US(e))}}var US=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,r){return r.subscribe(new $S(t,this.notifier))},e}(),$S=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;i.hasValue=!1;var s=new Xe(i);i.add(s),i.innerSubscription=s;var o=tt(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return t.prototype._next=function(r){this.hasValue&&e.prototype._next.call(this,r)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(et);function VS(e){return function(t){return t.lift(new zS(e))}}var zS=function(){function e(t){this.predicate=t}return e.prototype.call=function(t,r){return r.subscribe(new HS(t,this.predicate))},e}(),HS=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return t.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},t.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},t}(oe);function WS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return At(r)?(e.pop(),function(n){return as(e,n,r)}):function(n){return as(e,n)}}var qS=function(e){W.__extends(t,e);function t(r,n,i){n===void 0&&(n=0),i===void 0&&(i=wo);var s=e.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!ui(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=wo),s}return t.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=wo),new t(r,n,i)},t.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},t.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(t.dispatch,n,{source:i,subscriber:r})},t}(me);function JS(e,t){return t===void 0&&(t=0),function(r){return r.lift(new GS(e,t))}}var GS=function(){function e(t,r){this.scheduler=t,this.delay=r}return e.prototype.call=function(t,r){return new qS(r,this.delay,this.scheduler).subscribe(t)},e}();function ls(e,t){return typeof t=="function"?function(r){return r.pipe(ls(function(n,i){return Sr(e(n,i)).pipe(Ut(function(s,o){return t(n,s,i,o)}))}))}:function(r){return r.lift(new ZS(e))}}var ZS=function(){function e(t){this.project=t}return e.prototype.call=function(t,r){return r.subscribe(new QS(t,this.project))},e}(),QS=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.project=n,i.index=0,i}return t.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},t.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Xe(this),s=this.destination;s.add(i),this.innerSubscription=tt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},t.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(r){this.destination.next(r)},t}(et);function YS(){return ls(jr)}function KS(e,t){return t?ls(function(){return e},t):ls(function(){return e})}function XS(e){return function(t){return t.lift(new e6(e))}}var e6=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,r){var n=new t6(t),i=tt(this.notifier,new Xe(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},e}(),t6=function(e){W.__extends(t,e);function t(r){var n=e.call(this,r)||this;return n.seenValue=!1,n}return t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(et);function r6(e,t){return t===void 0&&(t=!1),function(r){return r.lift(new n6(e,t))}}var n6=function(){function e(t,r){this.predicate=t,this.inclusive=r}return e.prototype.call=function(t,r){return r.subscribe(new i6(t,this.predicate,this.inclusive))},e}(),i6=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return t.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},t.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},t}(oe);function s6(e,t,r){return function(n){return n.lift(new o6(e,t,r))}}var o6=function(){function e(t,r,n){this.nextOrObserver=t,this.error=r,this.complete=n}return e.prototype.call=function(t,r){return r.subscribe(new a6(t,this.nextOrObserver,this.error,this.complete))},e}(),a6=function(e){W.__extends(t,e);function t(r,n,i,s){var o=e.call(this,r)||this;return o._tapNext=cr,o._tapError=cr,o._tapComplete=cr,o._tapError=i||cr,o._tapComplete=s||cr,ti(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||cr,o._tapError=n.error||cr,o._tapComplete=n.complete||cr),o}return t.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},t.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},t}(oe),kp={leading:!0,trailing:!1};function u6(e,t){return t===void 0&&(t=kp),function(r){return r.lift(new c6(e,!!t.leading,!!t.trailing))}}var c6=function(){function e(t,r,n){this.durationSelector=t,this.leading=r,this.trailing=n}return e.prototype.call=function(t,r){return r.subscribe(new l6(t,this.durationSelector,this.leading,this.trailing))},e}(),l6=function(e){W.__extends(t,e);function t(r,n,i,s){var o=e.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return t.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},t.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=tt(n,new Xe(this)))},t.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},t.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(et);function h6(e,t,r){return t===void 0&&(t=Mt),r===void 0&&(r=kp),function(n){return n.lift(new d6(e,t,r.leading,r.trailing))}}var d6=function(){function e(t,r,n,i){this.duration=t,this.scheduler=r,this.leading=n,this.trailing=i}return e.prototype.call=function(t,r){return r.subscribe(new f6(t,this.duration,this.scheduler,this.leading,this.trailing))},e}(),f6=function(e){W.__extends(t,e);function t(r,n,i,s,o){var a=e.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return t.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(p6,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},t}(oe);function p6(e){var t=e.subscriber;t.clearThrottle()}function g6(e){return e===void 0&&(e=Mt),function(t){return Ku(function(){return t.pipe($o(function(r,n){var i=r.current;return{value:n,current:e.now(),last:i}},{current:e.now(),value:void 0,last:void 0}),Ut(function(r){var n=r.current,i=r.last,s=r.value;return new y6(s,n-i)}))})}}var y6=function(){function e(t,r){this.value=t,this.interval=r}return e}();function Cp(e,t,r){return r===void 0&&(r=Mt),function(n){var i=_p(e),s=i?+e-r.now():Math.abs(e);return n.lift(new m6(s,i,t,r))}}var m6=function(){function e(t,r,n,i){this.waitFor=t,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return e.prototype.call=function(t,r){return r.subscribe(new b6(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),b6=function(e){W.__extends(t,e);function t(r,n,i,s,o){var a=e.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return t.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(tt(n,new Xe(r)))},t.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,r)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(et);function v6(e,t){return t===void 0&&(t=Mt),Cp(e,qu(new jf),t)}function w6(e){return e===void 0&&(e=Mt),Ut(function(t){return new _6(t,e.now())})}var _6=function(){function e(t,r){this.value=t,this.timestamp=r}return e}();function E6(e,t,r){return r===0?[t]:(e.push(t),e)}function S6(){return Vo(E6,[])}function M6(e){return function(t){return t.lift(new x6(e))}}var x6=function(){function e(t){this.windowBoundaries=t}return e.prototype.call=function(t,r){var n=new I6(t),i=r.subscribe(n);return i.closed||n.add(tt(this.windowBoundaries,new Xe(n))),i},e}(),I6=function(e){W.__extends(t,e);function t(r){var n=e.call(this,r)||this;return n.window=new ct,r.next(n.window),n}return t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(r){this._error(r)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(r){this.window.next(r)},t.prototype._error=function(r){this.window.error(r),this.destination.error(r)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ct;n.next(i)},t}(et);function k6(e,t){return t===void 0&&(t=0),function(r){return r.lift(new C6(e,t))}}var C6=function(){function e(t,r){this.windowSize=t,this.startWindowEvery=r}return e.prototype.call=function(t,r){return r.subscribe(new A6(t,this.windowSize,this.startWindowEvery))},e}(),A6=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ct],s.count=0,r.next(s.windows[0]),s}return t.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,l=0;l<a&&!this.closed;l++)o[l].next(r);var p=this.count-s+1;if(p>=0&&p%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var _=new ct;o.push(_),i.next(_)}},t.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},t.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(oe);function R6(e){var t=Mt,r=null,n=Number.POSITIVE_INFINITY;return At(arguments[3])&&(t=arguments[3]),At(arguments[2])?t=arguments[2]:ui(arguments[2])&&(n=Number(arguments[2])),At(arguments[1])?t=arguments[1]:ui(arguments[1])&&(r=Number(arguments[1])),function(i){return i.lift(new N6(e,r,n,t))}}var N6=function(){function e(t,r,n,i){this.windowTimeSpan=t,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return e.prototype.call=function(t,r){return r.subscribe(new j6(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),O6=function(e){W.__extends(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return t.prototype.next=function(r){this._numberOfNextedValues++,e.prototype.next.call(this,r)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(ct),j6=function(e){W.__extends(t,e);function t(r,n,i,s,o){var a=e.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var l=a.openWindow();if(i!==null&&i>=0){var p={subscriber:a,window:l,context:null},_={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Ap,n,p)),a.add(o.schedule(P6,i,_))}else{var x={subscriber:a,window:l,windowTimeSpan:n};a.add(o.schedule(T6,n,x))}return a}return t.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},t.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},t.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},t.prototype.openWindow=function(){var r=new O6;this.windows.push(r);var n=this.destination;return n.next(r),r},t.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},t}(oe);function T6(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function P6(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},l={subscriber:r,window:s,context:a};a.subscription=n.schedule(Ap,t,l),o.add(a.subscription),o.schedule(e,i)}function Ap(e){var t=e.subscriber,r=e.window,n=e.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),t.closeWindow(r)}function L6(e,t){return function(r){return r.lift(new B6(e,t))}}var B6=function(){function e(t,r){this.openings=t,this.closingSelector=r}return e.prototype.call=function(t,r){return r.subscribe(new D6(t,this.openings,this.closingSelector))},e}(),D6=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Er(s,n,n)),s}return t.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},t.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}e.prototype._error.call(this,r)},t.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},t.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var l=this.closingSelector;a=l(n)}catch(A){return this.error(A)}var p=new ct,_=new Ye,x={window:p,subscription:_};this.contexts.push(x);var M=Er(this,a,x);M.closed?this.closeWindow(this.contexts.length-1):(M.context=x,_.add(M)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(r))},t.prototype.notifyError=function(r){this.error(r)},t.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},t.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},t}(sn);function F6(e){return function(t){return t.lift(new U6(e))}}var U6=function(){function e(t){this.closingSelector=t}return e.prototype.call=function(t,r){return r.subscribe(new $6(t,this.closingSelector))},e}(),$6=function(e){W.__extends(t,e);function t(r,n){var i=e.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return t.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},t.prototype.notifyError=function(r){this._error(r)},t.prototype.notifyComplete=function(r){this.openWindow(r)},t.prototype._next=function(r){this.window.next(r)},t.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ct;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Er(this,s))},t}(sn);function V6(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){var n;typeof e[e.length-1]=="function"&&(n=e.pop());var i=e;return r.lift(new z6(i,n))}}var z6=function(){function e(t,r){this.observables=t,this.project=r}return e.prototype.call=function(t,r){return r.subscribe(new H6(t,this.observables,this.project))},e}(),H6=function(e){W.__extends(t,e);function t(r,n,i){var s=e.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var l=n[a];s.add(Er(s,l,void 0,a))}return s}return t.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},t.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},t}(sn);function W6(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return r.lift.call(Qf.apply(void 0,[r].concat(e)))}}function q6(e){return function(t){return t.lift(new Yf(e))}}const J6=Object.freeze(Object.defineProperty({__proto__:null,audit:mp,auditTime:J4,buffer:G4,bufferCount:Y4,bufferTime:tE,bufferToggle:oE,bufferWhen:cE,catchError:dE,combineAll:gE,combineLatest:yE,concat:mE,concatAll:$f,concatMap:wp,concatMapTo:bE,count:vE,debounce:EE,debounceTime:xE,defaultIfEmpty:cs,delay:NE,delayWhen:PE,dematerialize:FE,distinct:VE,distinctUntilChanged:Sp,distinctUntilKeyChanged:JE,elementAt:XE,endWith:e5,every:t5,exhaust:i5,exhaustMap:Mp,expand:c5,filter:Lr,finalize:d5,find:g5,findIndex:m5,first:b5,flatMap:I3,groupBy:T_,ignoreElements:v5,isEmpty:E5,last:k5,map:Ut,mapTo:C5,materialize:N5,max:L5,merge:B5,mergeAll:Yu,mergeMap:on,mergeMapTo:D5,mergeScan:F5,min:V5,multicast:cn,observeOn:H_,onErrorResumeNext:H5,pairwise:J5,partition:Q5,pluck:Y5,publish:X5,publishBehavior:eS,publishLast:tS,publishReplay:rS,race:nS,reduce:Vo,refCount:Vu,repeat:iS,repeatWhen:oS,retry:cS,retryWhen:dS,sample:gS,sampleTime:bS,scan:$o,sequenceEqual:ES,share:kS,shareReplay:CS,single:RS,skip:jS,skipLast:LS,skipUntil:FS,skipWhile:VS,startWith:WS,subscribeOn:JS,switchAll:YS,switchMap:ls,switchMapTo:KS,take:mc,takeLast:Uo,takeUntil:XS,takeWhile:r6,tap:s6,throttle:u6,throttleTime:h6,throwIfEmpty:Fo,timeInterval:g6,timeout:v6,timeoutWith:Cp,timestamp:w6,toArray:S6,window:M6,windowCount:k6,windowTime:R6,windowToggle:L6,windowWhen:F6,withLatestFrom:V6,zip:W6,zipAll:q6},Symbol.toStringTag,{value:"Module"})),bc=In(J6);var zo={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.ClientMessagePublishEvent=Vt.ClientMessageSetSessionConfig=Vt.ClientMessageGetSessionConfig=Vt.ClientMessageIsLinked=Vt.ClientMessageHostSession=void 0;function G6(e){return Object.assign({type:"HostSession"},e)}Vt.ClientMessageHostSession=G6;function Z6(e){return Object.assign({type:"IsLinked"},e)}Vt.ClientMessageIsLinked=Z6;function Q6(e){return Object.assign({type:"GetSessionConfig"},e)}Vt.ClientMessageGetSessionConfig=Q6;function Y6(e){return Object.assign({type:"SetSessionConfig"},e)}Vt.ClientMessageSetSessionConfig=Y6;function K6(e){return Object.assign({type:"PublishEvent"},e)}Vt.ClientMessagePublishEvent=K6;var Rp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RxWebSocket=e.ConnectionState=void 0;const t=Eo,r=bc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=e.ConnectionState||(e.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new t.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new t.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,t.throwError)(new Error("webSocket object is not null")):new t.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(l){o.error(l);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=l=>{this.clearWebSocket(),o.error(new Error(`websocket error ${l.code}: ${l.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=l=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=l=>{this.incomingDataSubject.next(l.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,t.empty)()}return(0,t.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}e.RxWebSocket=i})(Rp);var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.isServerMessageFail=void 0;function X6(e){return e&&e.type==="Fail"&&typeof e.id=="number"&&typeof e.sessionId=="string"&&typeof e.error=="string"}Ho.isServerMessageFail=X6,Object.defineProperty(zo,"__esModule",{value:!0}),zo.WalletSDKConnection=void 0;const Kt=Eo,Ee=bc,hs=Rn,di=Li,ds=Vt,fs=An,Wo=Rp,vc=Ho,Np=1e4,e8=6e4;class t8{constructor(t,r,n,i,s=WebSocket){this.sessionId=t,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Kt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,di.IntNumber)(1),this.connectedSubject=new Kt.BehaviorSubject(!1),this.linkedSubject=new Kt.BehaviorSubject(!1),this.sessionConfigSubject=new Kt.ReplaySubject(1);const o=new Wo.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,Ee.tap)(a=>{var l;return(l=this.diagnostic)===null||l===void 0?void 0:l.log(fs.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:hs.Session.hash(t)})}),(0,Ee.skip)(1),(0,Ee.filter)(a=>a===Wo.ConnectionState.DISCONNECTED&&!this.destroyed),(0,Ee.delay)(5e3),(0,Ee.filter)(a=>!this.destroyed),(0,Ee.flatMap)(a=>o.connect()),(0,Ee.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,Ee.skip)(2),(0,Ee.switchMap)(a=>(0,Kt.iif)(()=>a===Wo.ConnectionState.CONNECTED,this.authenticate().pipe((0,Ee.tap)(l=>this.sendIsLinked()),(0,Ee.tap)(l=>this.sendGetSessionConfig()),(0,Ee.map)(l=>!0)),(0,Kt.of)(!1))),(0,Ee.distinctUntilChanged)(),(0,Ee.catchError)(a=>(0,Kt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,Ee.skip)(1),(0,Ee.switchMap)(a=>(0,Kt.iif)(()=>a===Wo.ConnectionState.CONNECTED,(0,Kt.timer)(0,Np)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,Ee.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,Ee.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var l;const p=a;(l=this.diagnostic)===null||l===void 0||l.log(fs.EVENTS.LINKED,{sessionIdHash:hs.Session.hash(t),linked:p.linked,type:a.type,onlineGuests:p.onlineGuests}),this.linkedSubject.next(p.linked||p.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,Ee.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var l;const p=a;(l=this.diagnostic)===null||l===void 0||l.log(fs.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:hs.Session.hash(t),metadata_keys:p&&p.metadata?Object.keys(p.metadata):void 0}),this.sessionConfigSubject.next({webhookId:p.webhookId,webhookUrl:p.webhookUrl,metadata:p.metadata})}))}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(fs.EVENTS.STARTED_CONNECTING,{sessionIdHash:hs.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var t;this.subscriptions.unsubscribe(),this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(fs.EVENTS.DISCONNECTED,{sessionIdHash:hs.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,Ee.filter)(t=>t),(0,Ee.take)(1),(0,Ee.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,Ee.filter)(t=>t),(0,Ee.take)(1),(0,Ee.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,Ee.filter)(t=>{if(t.type!=="Event")return!1;const r=t;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,Ee.map)(t=>t))}setSessionMetadata(t,r){const n=(0,ds.ClientMessageSetSessionConfig)({id:(0,di.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[t]:r}});return this.onceConnected$.pipe((0,Ee.flatMap)(i=>this.makeRequest(n)),(0,Ee.map)(i=>{if((0,vc.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(t,r,n=!1){const i=(0,ds.ClientMessagePublishEvent)({id:(0,di.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:t,data:r,callWebhook:n});return this.onceLinked$.pipe((0,Ee.flatMap)(s=>this.makeRequest(i)),(0,Ee.map)(s=>{if((0,vc.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Np*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(t,r=e8){const n=t.id;try{this.sendData(t)}catch(i){return(0,Kt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,Ee.timeoutWith)(r,(0,Kt.throwError)(new Error(`request ${n} timed out`))),(0,Ee.filter)(i=>i.id===n),(0,Ee.take)(1))}authenticate(){const t=(0,ds.ClientMessageHostSession)({id:(0,di.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(t).pipe((0,Ee.map)(r=>{if((0,vc.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const t=(0,ds.ClientMessageIsLinked)({id:(0,di.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}sendGetSessionConfig(){const t=(0,ds.ClientMessageGetSessionConfig)({id:(0,di.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(t)}}zo.WalletSDKConnection=t8;var qo={};Object.defineProperty(qo,"__esModule",{value:!0}),qo.WalletUIError=void 0;class ps extends Error{constructor(t,r){super(t),this.message=t,this.errorCode=r}}qo.WalletUIError=ps,ps.UserRejectedRequest=new ps("User rejected request"),ps.SwitchEthereumChainUnsupportedChainId=new ps("Unsupported chainId",4902);var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.decrypt=fi.encrypt=void 0;const Jo=se;async function r8(e,t){if(t.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Jo.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(e)),o=16,a=s.slice(s.byteLength-o),l=s.slice(0,s.byteLength-o),p=new Uint8Array(a),_=new Uint8Array(l),x=new Uint8Array([...r,...p,..._]);return(0,Jo.uint8ArrayToHex)(x)}fi.encrypt=r8;function n8(e,t){if(t.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Jo.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Jo.hexStringToUint8Array)(e),o=s.slice(0,12),a=s.slice(12,28),l=s.slice(28),p=new Uint8Array([...l,...a]),_={name:"AES-GCM",iv:new Uint8Array(o)};try{const x=await window.crypto.subtle.decrypt(_,i,p),M=new TextDecoder;r(M.decode(x))}catch(x){n(x)}})()})}fi.decrypt=n8;var wc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Web3Method=void 0,function(t){t.requestEthereumAccounts="requestEthereumAccounts",t.signEthereumMessage="signEthereumMessage",t.signEthereumTransaction="signEthereumTransaction",t.submitEthereumTransaction="submitEthereumTransaction",t.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",t.scanQRCode="scanQRCode",t.generic="generic",t.childRequestEthereumAccounts="childRequestEthereumAccounts",t.addEthereumChain="addEthereumChain",t.switchEthereumChain="switchEthereumChain",t.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",t.watchAsset="watchAsset",t.selectProvider="selectProvider"}(e.Web3Method||(e.Web3Method={}))})(wc);var Go={},Zo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RelayMessageType=void 0,function(t){t.SESSION_ID_REQUEST="SESSION_ID_REQUEST",t.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",t.LINKED="LINKED",t.UNLINKED="UNLINKED",t.WEB3_REQUEST="WEB3_REQUEST",t.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",t.WEB3_RESPONSE="WEB3_RESPONSE"}(e.RelayMessageType||(e.RelayMessageType={}))})(Zo),Object.defineProperty(Go,"__esModule",{value:!0}),Go.Web3RequestCanceledMessage=void 0;const i8=Zo;function s8(e){return{type:i8.RelayMessageType.WEB3_REQUEST_CANCELED,id:e}}Go.Web3RequestCanceledMessage=s8;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.Web3RequestMessage=void 0;const o8=Zo;function a8(e){return Object.assign({type:o8.RelayMessageType.WEB3_REQUEST},e)}Qo.Web3RequestMessage=a8;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.EthereumAddressFromSignedMessageResponse=Oe.SubmitEthereumTransactionResponse=Oe.SignEthereumTransactionResponse=Oe.SignEthereumMessageResponse=Oe.isRequestEthereumAccountsResponse=Oe.SelectProviderResponse=Oe.WatchAssetReponse=Oe.RequestEthereumAccountsResponse=Oe.SwitchEthereumChainResponse=Oe.AddEthereumChainResponse=Oe.ErrorResponse=void 0;const pr=wc;function u8(e,t,r){return{method:e,errorMessage:t,errorCode:r}}Oe.ErrorResponse=u8;function c8(e){return{method:pr.Web3Method.addEthereumChain,result:e}}Oe.AddEthereumChainResponse=c8;function l8(e){return{method:pr.Web3Method.switchEthereumChain,result:e}}Oe.SwitchEthereumChainResponse=l8;function h8(e){return{method:pr.Web3Method.requestEthereumAccounts,result:e}}Oe.RequestEthereumAccountsResponse=h8;function d8(e){return{method:pr.Web3Method.watchAsset,result:e}}Oe.WatchAssetReponse=d8;function f8(e){return{method:pr.Web3Method.selectProvider,result:e}}Oe.SelectProviderResponse=f8;function p8(e){return e&&e.method===pr.Web3Method.requestEthereumAccounts}Oe.isRequestEthereumAccountsResponse=p8;function g8(e){return{method:pr.Web3Method.signEthereumMessage,result:e}}Oe.SignEthereumMessageResponse=g8;function y8(e){return{method:pr.Web3Method.signEthereumTransaction,result:e}}Oe.SignEthereumTransactionResponse=y8;function m8(e){return{method:pr.Web3Method.submitEthereumTransaction,result:e}}Oe.SubmitEthereumTransactionResponse=m8;function b8(e){return{method:pr.Web3Method.ethereumAddressFromSignedMessage,result:e}}Oe.EthereumAddressFromSignedMessageResponse=b8;var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.isWeb3ResponseMessage=pi.Web3ResponseMessage=void 0;const Op=Zo;function v8(e){return Object.assign({type:Op.RelayMessageType.WEB3_RESPONSE},e)}pi.Web3ResponseMessage=v8;function w8(e){return e&&e.type===Op.RelayMessageType.WEB3_RESPONSE}pi.isWeb3ResponseMessage=w8;var _8=te&&te.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),E8=te&&te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jp=te&&te.__decorate||function(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},S8=te&&te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&_8(t,e,r);return E8(t,e),t},M8=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.WalletSDKRelay=void 0;const Tp=M8(Do),Pp=vs,ln=Eo,st=bc,vt=An,x8=zo,_c=qo,I8=Li,je=se,Fr=S8(fi),Ur=Rn,Yo=qt,ht=wc,k8=Go,C8=Qo,Nt=Oe,xt=pi;class Xt extends Yo.WalletSDKRelayAbstract{constructor(t){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new ln.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new ln.Subscription,this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=t.relayEventManager,t.diagnosticLogger&&t.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");t.eventListener?this.diagnostic={log:t.eventListener.onEvent}:this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(r=t.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const t=Ur.Session.load(this.storage)||new Ur.Session(this.storage).save(),r=new x8.WalletSDKConnection(t.id,t.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,st.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,st.skip)(1),(0,st.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Yo.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!l){this.isUnlinkedErrorState=!0;const p=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(vt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:p})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,st.mergeMap)(i=>Fr.decrypt(i.metadata.WalletUsername,t.secret))).subscribe({next:i=>{this.storage.setItem(Yo.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,st.mergeMap)(i=>Fr.decrypt(i.metadata.AppVersion,t.secret))).subscribe({next:i=>{this.storage.setItem(Yo.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,st.mergeMap)(i=>(0,ln.zip)(Fr.decrypt(i.metadata.ChainId,t.secret),Fr.decrypt(i.metadata.JsonRpcUrl,t.secret)))).pipe((0,st.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,st.mergeMap)(i=>Fr.decrypt(i.metadata.EthereumAddress,t.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Xt.accountRequestCallbackIds.size>0&&(Array.from(Xt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,xt.Web3ResponseMessage)({id:s,response:(0,Nt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Xt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,st.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,st.mergeMap)(i=>Fr.decrypt(i.metadata.AppSrc,t.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:t,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:t,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,st.timeout)(1e3),(0,st.catchError)(t=>(0,ln.of)(null))).subscribe(t=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(vt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ur.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(vt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ur.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new ln.Subscription;const{session:a,ui:l,connection:p}=this.subscribe();this._session=a,this.connection=p,this.ui=l,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},t=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(vt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,i){return this.sendRequest({method:ht.Web3Method.signEthereumMessage,params:{message:(0,je.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:ht.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,je.hexStringFromBuffer)(t,!0),signature:(0,je.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:ht.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,je.bigIntStringFromBN)(t.weiValue),data:(0,je.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,je.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,je.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,je.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,je.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:ht.Web3Method.signEthereumTransaction,params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,je.bigIntStringFromBN)(t.weiValue),data:(0,je.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,je.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,je.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,je.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,je.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:ht.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,je.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:ht.Web3Method.scanQRCode,params:{regExp:t}})}getQRCodeUrl(){return(0,je.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,r){return this.sendRequest({method:ht.Web3Method.generic,params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,je.randomBytesHex)(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,s),r==null||r()};return{promise:new Promise((s,o)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,a=>{if(r==null||r(),a.errorMessage)return o(new Error(a.errorMessage));s(a)}),this.ui.isStandalone()?this.sendRequestStandalone(n,t):this.publishWeb3RequestEvent(n,t)}),cancel:i}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChainSubject.next(t)}publishWeb3RequestEvent(t,r){var n;const i=(0,C8.Web3RequestMessage)({id:t,request:r}),s=Ur.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(vt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ur.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(vt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ur.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(t){const r=(0,k8.Web3RequestCanceledMessage)(t);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(t,r,n){const i=this.session.secret;return new ln.Observable(s=>{Fr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,st.mergeMap)(s=>this.connection.publishEvent(t,s,n)))}handleIncomingEvent(t){try{this.subscriptions.add((0,ln.from)(Fr.decrypt(t.data,this.session.secret)).pipe((0,st.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,xt.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(vt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(t){var r;const{response:n}=t;if((r=this.diagnostic)===null||r===void 0||r.log(vt.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Nt.isRequestEthereumAccountsResponse)(n)){Xt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},t),{id:i}))),Xt.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n,i){this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:t,response:(0,Nt.ErrorResponse)(r,(n??_c.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:ht.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,je.randomBytesHex)(8),n=i=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,i)};return{promise:new Promise((i,s)=>{var o;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return s(new Error(l.errorMessage));i(l)});const a=((o=window==null?void 0:window.navigator)===null||o===void 0?void 0:o.userAgent)||null;if(a&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)){let l;try{(0,je.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=p=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:r,response:(0,Nt.RequestEthereumAccountsResponse)(p)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=Pp.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}Xt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,t)}),cancel:n}}selectProvider(t){const r={method:ht.Web3Method.selectProvider,params:{providerOptions:t}},n=(0,je.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,_=>{if(_.errorMessage)return a(new Error(_.errorMessage));o(_)});const l=_=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:n,response:(0,Nt.SelectProviderResponse)(I8.ProviderType.Unselected)}))},p=_=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:n,response:(0,Nt.SelectProviderResponse)(_)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:p,onCancel:l,providerOptions:t})});return{cancel:i,promise:s}}watchAsset(t,r,n,i,s,o){const a={method:ht.Web3Method.watchAsset,params:{type:t,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const p=(0,je.randomBytesHex)(8),_=M=>{this.publishWeb3RequestCanceledEvent(p),this.handleErrorResponse(p,a.method,M),l==null||l()};this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:_,onResetConnection:this.resetAndReload}));const x=new Promise((M,A)=>{this.relayEventManager.callbacks.set(p,H=>{if(l==null||l(),H.errorMessage)return A(new Error(H.errorMessage));M(H)});const F=H=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:p,response:(0,Nt.WatchAssetReponse)(!1)}))},D=()=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:p,response:(0,Nt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:D,onCancel:F,type:t,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(p,a)});return{cancel:_,promise:x}}addEthereumChain(t,r,n,i,s,o){const a={method:ht.Web3Method.addEthereumChain,params:{chainId:t,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const p=(0,je.randomBytesHex)(8),_=x=>{this.publishWeb3RequestCanceledEvent(p),this.handleErrorResponse(p,a.method,x),l==null||l()};return this.ui.inlineAddEthereumChain(t)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:_,onResetConnection:this.resetAndReload})),{promise:new Promise((x,M)=>{this.relayEventManager.callbacks.set(p,D=>{if(l==null||l(),D.errorMessage)return M(new Error(D.errorMessage));x(D)});const A=D=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:p,response:(0,Nt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},F=D=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:p,response:(0,Nt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:D})}))};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:A,onApprove:F,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(p,a)}),cancel:_}}switchEthereumChain(t,r){const n={method:ht.Web3Method.switchEthereumChain,params:Object.assign({chainId:t},{address:r})},i=(0,je.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,o)};return{promise:new Promise((o,a)=>{this.relayEventManager.callbacks.set(i,_=>{if(_.errorMessage&&_.errorCode)return a(Pp.ethErrors.provider.custom({code:_.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(_.errorMessage)return a(new Error(_.errorMessage));o(_)});const l=_=>{if(typeof _=="number"){const x=_;this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i,response:(0,Nt.ErrorResponse)(ht.Web3Method.switchEthereumChain,_c.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,x)}))}else _ instanceof _c.WalletUIError?this.handleErrorResponse(i,ht.Web3Method.switchEthereumChain,_,_.errorCode):this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i,response:(0,Nt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},p=_=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i,response:(0,Nt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:_})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:p,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return Ur.Session.hash(this._session.id)}sendRequestStandalone(t,r){const n=s=>{this.handleErrorResponse(t,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:t,response:s}))};switch(r.method){case ht.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(t){}}Xt.accountRequestCallbackIds=new Set,jp([Tp.default],Xt.prototype,"resetAndReload",null),jp([Tp.default],Xt.prototype,"handleIncomingEvent",null),Bo.WalletSDKRelay=Xt;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.WalletSDKRelayEventManager=void 0;const A8=se;class R8{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,A8.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}Ko.WalletSDKRelayEventManager=R8;const N8="@coinbase/wallet-sdk",O8="3.6.6",j8="Coinbase Wallet JavaScript SDK",T8=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],P8="dist/index.js",L8="dist/index.d.ts",B8="https://github.com/coinbase/coinbase-wallet-sdk.git",D8="Coinbase, Inc.",F8="Apache-2.0",U8={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},$8={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},V8={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},z8={node:">= 10.0.0"},H8={name:N8,version:O8,description:j8,keywords:T8,main:P8,types:L8,repository:B8,author:D8,license:F8,scripts:U8,dependencies:$8,devDependencies:V8,engines:z8};Object.defineProperty(Si,"__esModule",{value:!0}),Si.CoinbaseWalletSDK=void 0;const W8=gs,q8=ys,J8=kn,G8=go,Z8=Bo,Q8=Ko,Y8=se,K8={}.LINK_API_URL||"https://www.walletlink.org",Lp={}.SDK_VERSION||H8.version||"unknown";class Xo{constructor(t){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=t.linkAPIUrl||K8;let o;if(t.uiConstructor?o=t.uiConstructor:o=p=>new G8.WalletSDKUI(p),typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,t.diagnosticLogger&&t.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");t.eventListener?this._diagnosticLogger={log:t.eventListener.onEvent}:this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(i=t.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),l=`${a.protocol}//${a.host}`;this._storage=new q8.ScopedLocalStorage(`-walletlink:${l}`),this._storage.setItem("version",Xo.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new Q8.WalletSDKRelayEventManager,this._relay=new Z8.WalletSDKRelay({linkAPIUrl:s,version:Lp,darkMode:!!t.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI())}makeWeb3Provider(t="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(t,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||s.setConnectDisabled(!0),new J8.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,r){var n;this._appName=t||"DApp",this._appLogoUrl=r||(0,Y8.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const r=this.walletExtension;r?r.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,r;return(r=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(t,r=240){return(0,W8.walletLogo)(t,r)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,r;try{const n=(t=window.ethereum)!==null&&t!==void 0?t:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}}Si.CoinbaseWalletSDK=Xo,Xo.VERSION=Lp,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=Si,r=kn;var n=Si;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=kn;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)}(ea);let Bp;Bp=tM(ea),Dp=$p({__proto__:null,default:Bp},[ea])});export{oM as __tla,Dp as i};
